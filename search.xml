<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æœ‰å“ªäº›RELU</title>
      <link href="/posts/3e18f1cc.html"/>
      <url>/posts/3e18f1cc.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¥½å¤šçš„ReLUå‡½æ•°ï¼Œæˆ‘è¯¥æ€ä¹ˆå»é€‰æ‹©å‘¢ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ<br>ä¸‹é¢è¿™äº›å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©</p></blockquote><hr><h3 id="æ ‡å‡†ReLU"><a href="#æ ‡å‡†ReLU" class="headerlink" title="æ ‡å‡†ReLU"></a>æ ‡å‡†ReLU</h3><p>æ ‡å‡† ReLU å‡½æ•°ï¼š</p><p>$$<br>f(x) &#x3D; max(0, x)<br>$$</p><p>å¥½å¤„ï¼šæ”¶æ•›å¿«ã€è®¡ç®—ç®€å•ã€‚</p><p>é—®é¢˜ï¼šå½“è¾“å…¥ä¸ºè´Ÿæ—¶ï¼Œè¾“å‡ºæ’ä¸º 0 â†’ ç¥ç»å…ƒå¯èƒ½â€œæ­»æ‰â€ï¼ˆæ¢¯åº¦å§‹ç»ˆä¸º 0ï¼Œæ— æ³•æ›´æ–°ï¼‰ã€‚</p><h3 id="LReLU"><a href="#LReLU" class="headerlink" title="LReLU"></a>LReLU</h3><p>å…¬å¼ï¼š</p><p>$$<br>f(x) &#x3D; max(\alpha x, x)<br>$$</p><blockquote><p>å…¶ä¸­ <code>ğ›¼</code>æ˜¯ä¸€ä¸ª å›ºå®šçš„å°å¸¸æ•°ï¼ˆé€šå¸¸å– 0.01ï¼‰ã€‚</p></blockquote><p>ç‰¹ç‚¹ï¼šè´Ÿæ•°åŒºåŸŸä»ç„¶æœ‰ä¸€ä¸ªå¾ˆå°çš„æ–œç‡ï¼Œä¸ä¼šå®Œå…¨å½’é›¶ã€‚</p><p>å¥½å¤„ï¼šç¼“è§£ç¥ç»å…ƒæ­»äº¡é—®é¢˜ï¼Œä½†è¶…å‚æ•° <code>ğ›¼</code> éœ€è¦<strong>äººä¸ºè®¾ç½®</strong>ã€‚</p><h3 id="PReLU"><a href="#PReLU" class="headerlink" title="PReLU"></a>PReLU</h3><p>PReLU çš„å…¬å¼å¦‚ä¸‹ï¼š</p><p>$$<br>f(x) &#x3D; max(\alpha x, x)<br>$$</p><p>çœ‹èµ·æ¥å’Œ Leaky ReLU (LReLU) ä¸€æ ·ï¼Œä½†æœ€å¤§ä¸åŒç‚¹æ˜¯ï¼š</p><blockquote><p>ğ›¼ ä¸æ˜¯å›ºå®šçš„å¸¸æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>éœ€è¦å­¦ä¹ </strong>çš„å‚æ•°ï¼Œå’Œç½‘ç»œæƒé‡ä¸€èµ·é€šè¿‡åå‘ä¼ æ’­æ›´æ–°ã€‚</p></blockquote><h3 id="RReLU"><a href="#RReLU" class="headerlink" title="RReLU"></a>RReLU</h3><p>å…¬å¼ï¼š<br>$$<br>f(x) &#x3D; max(\alpha x, x)<br>$$</p><p>ä¸åŒä¹‹å¤„åœ¨äºï¼š</p><blockquote><p><strong>è®­ç»ƒæ—¶</strong>ï¼š<br>ğ›¼ä¸æ˜¯å›ºå®šçš„ï¼Œè€Œæ˜¯ ä»ä¸€ä¸ªåŒºé—´ $[l,\mu]$ï¼ˆä¾‹å¦‚ 0.1â€“0.3ï¼‰éšæœºé‡‡æ ·ã€‚</p></blockquote><blockquote><p><strong>æµ‹è¯•æ—¶</strong>ï¼š<br>å– $\alpha &#x3D; \frac{l+u}{2}$ ä½œä¸ºå›ºå®šå€¼ã€‚</p></blockquote><p>å¥½å¤„ï¼š</p><p>å¼•å…¥éšæœºæ€§ï¼Œç›¸å½“äºä¸€ç§æ­£åˆ™åŒ–ï¼ˆregularizationï¼‰ï¼Œèƒ½å‡å°‘è¿‡æ‹Ÿåˆã€‚</p><p>æ›´é€‚åˆå°æ•°æ®é›†çš„è®­ç»ƒã€‚</p><h3 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯”"></a>å¯¹æ¯”</h3><table><thead><tr><th>æ¿€æ´»å‡½æ•°</th><th>è´ŸåŒºé—´æ–œç‡</th><th>å–å€¼æ–¹å¼</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>ReLU</strong></td><td>0</td><td>å›ºå®š</td><td>å¯èƒ½â€œç¥ç»å…ƒæ­»äº¡â€</td></tr><tr><td><strong>LReLU</strong></td><td>å°å¸¸æ•° (å¦‚ 0.01)</td><td>æ‰‹åŠ¨è®¾å®š</td><td>ç¼“è§£æ­»äº¡é—®é¢˜</td></tr><tr><td><strong>PReLU</strong></td><td>åŒºé—´å†…éšæœºå–å€¼</td><td>è®­ç»ƒä¸­è‡ªåŠ¨ä¼˜åŒ–</td><td>æ›´çµæ´»ï¼Œæ€§èƒ½å¾€å¾€ä¼˜äº LReLU</td></tr><tr><td><strong>RReLU</strong></td><td>å¯å­¦ä¹ å‚æ•°</td><td>è®­ç»ƒæ—¶éšæœºï¼Œæµ‹è¯•æ—¶å‡å€¼</td><td>æ­£åˆ™åŒ–æ•ˆæœï¼Œé€‚åˆå°æ•°æ®é›†</td></tr></tbody></table><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li>æµ…å±‚ç½‘ç»œåœ¨åˆ†ç±»å™¨æ—¶ï¼Œ<code>sigmoid</code> å‡½æ•°åŠå…¶ç»„åˆé€šå¸¸æ•ˆæœæ›´å¥½ã€‚</li><li>ç”±äºæ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œæœ‰æ—¶è¦é¿å…ä½¿ç”¨ <code>sigmoid</code> å’Œ <code>tanh</code> å‡½æ•°ã€‚</li><li><code>relu</code> å‡½æ•°æ˜¯ä¸€ä¸ªé€šç”¨çš„æ¿€æ´»å‡½æ•°ï¼Œç›®å‰åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨ã€‚</li><li>å¦‚æœç¥ç»ç½‘ç»œä¸­å‡ºç°æ­»ç¥ç»å…ƒï¼Œé‚£ä¹ˆ <code>prelu</code> å‡½æ•°å°±æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚</li><li><code>relu</code> å‡½æ•°åªèƒ½åœ¨éšè—å±‚ä¸­ä½¿ç”¨ã€‚</li><li>é€šå¸¸ï¼Œå¯ä»¥ä» <code>relu</code> å‡½æ•°å¼€å§‹ï¼Œå¦‚æœ <code>relu</code> å‡½æ•°æ²¡æœ‰æä¾›æœ€ä¼˜ç»“æœï¼Œå†å°è¯•å…¶ä»–æ¿€æ´»å‡½æ•°ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ·±åº¦å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DeepLearning </tag>
            
            <tag> æ¿€æ´»å‡½æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Springbootè‡ªåŠ¨é…ç½®åŸç†</title>
      <link href="/posts/e2152e23.html"/>
      <url>/posts/e2152e23.html</url>
      
        <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯è‡ªåŠ¨é…ç½®"><a href="#ä»€ä¹ˆæ˜¯è‡ªåŠ¨é…ç½®" class="headerlink" title="ä»€ä¹ˆæ˜¯è‡ªåŠ¨é…ç½®"></a>ä»€ä¹ˆæ˜¯è‡ªåŠ¨é…ç½®</h3><p>åŸºäºå¼•å…¥çš„JaråŒ…ï¼Œè‡ªåŠ¨é…ç½®ç±»ä¼šå»åŠ è½½å¯¹åº”çš„é…ç½®ç±»ï¼Œå¹¶å®Œæˆç›¸åº”çš„é…ç½®ã€‚ä¸ºSpringbootçš„â€œå¼€ç®±å³ç”¨â€æä¾›äº†åŸºç¡€æ”¯æ’‘ã€‚</p><p>Configuration ç±»</p><ul><li>å¹¿ä¹‰ä¸Šæ˜¯ <code>@Component</code> ç›´æ¥æˆ–é—´æ¥ä¿®é¥°çš„ç±»</li><li>ç‹­ä¹‰ä¸Šæ˜¯ <code>@Configuration</code> ä¿®é¥°çš„ç±»</li></ul><h3 id="ç®€åŒ–å¯åŠ¨æµç¨‹"><a href="#ç®€åŒ–å¯åŠ¨æµç¨‹" class="headerlink" title="ç®€åŒ–å¯åŠ¨æµç¨‹"></a>ç®€åŒ–å¯åŠ¨æµç¨‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(Class&lt;?&gt; primaryClass)</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºIoCå®¹å™¨</span></span><br><span class="line">    <span class="type">ApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> createApplicationContext();</span><br><span class="line">    <span class="comment">// åŠ è½½ä¸»ç±»ï¼ˆ@SpringBootApplicationï¼‰</span></span><br><span class="line">    loadSources(context,primaryClass);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤„ç†é…ç½®ç±»ï¼Œè‡ªåŠ¨é…ç½®çš„å‘¨æœŸ</span></span><br><span class="line">    processConfigurationClasses(context);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®ä¾‹åŒ–å•ä¾‹çš„bean</span></span><br><span class="line">    instantiateSingletonBeans(context);</span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯WebæœåŠ¡</span></span><br><span class="line">    startWebServer(context);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŠ è½½é…ç½®ç±»"><a href="#åŠ è½½é…ç½®ç±»" class="headerlink" title="åŠ è½½é…ç½®ç±»"></a>åŠ è½½é…ç½®ç±»</h3><p>é€’å½’å¤„ç†<code>@ComponentScan</code>å’Œ<code>@Import</code>æ³¨è§£</p><h5 id="ComponentScan"><a href="#ComponentScan" class="headerlink" title="@ComponentScan"></a>@ComponentScan</h5><p>å¯¹åˆ¶å®šçš„packageè¿›è¡Œæ‰«æï¼Œé»˜è®¤æ˜¯æœç´¢ è¢«æ³¨è§£çš„ <code>@Component</code></p><p>è‹¥æ²¡æœ‰æŒ‡å®šæ‰«æçš„packageï¼Œåˆ™é»˜è®¤æ˜¯å½“å‰ç±»æ‰€åœ¨çš„package</p><blockquote><p>è‹¥ä½¿ç”¨æ­¤æ–¹æ³•åˆ™éœ€è¦å¼€å‘äººå‘˜å†™å…¥æ‰«æçš„package</p></blockquote><h5 id="Import"><a href="#Import" class="headerlink" title="@Import"></a>@Import</h5><p>å¯ä»¥ä»¥æ˜¾å¼åœ°ä»å…¶ä»–åœ°æ–¹åŠ è½½é…ç½®ç±»ï¼Œé¿å…ä½¿ç”¨æ€§èƒ½è¾ƒå·®çš„ <code>@ComponentScan</code></p><p>å¯¼å…¥æ–¹å¼ï¼š</p><ul><li>æ™®é€šå¯¼å…¥ï¼š<code>@Import(XXX.class)</code><blockquote><p>è‹¥ä½¿ç”¨æ­¤æ–¹æ³•åˆ™éœ€è¦å¼€å‘äººå‘˜å†™å…¥å…·ä½“çš„ç±»å</p></blockquote></li><li>æ¥å£ImportSelectorï¼š<code>@Import(XXXImportSelector.class)</code><blockquote><p>ä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ¥å®ç°è‡ªåŠ¨é…ç½®æœ€åˆé€‚</p></blockquote></li><li>æ¥å£ImportBeanDefinitioinRegisterarï¼š<code>@Import(XXXImportBeanDefinitionRegistrar.class)</code><blockquote><p>æ˜¯é’ˆå¯¹BeanDefinitionçš„ä¸€ä¸ªè¡¥å……</p></blockquote></li></ul><h3 id="SpringBootApplication"><a href="#SpringBootApplication" class="headerlink" title="@SpringBootApplication"></a>@SpringBootApplication</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="meta">@SpringBootConfiguration</span></span><br><span class="line"><span class="meta">@EnableAutoConfiguration</span></span><br><span class="line"><span class="meta">@ComponentScan(excludeFilters = &#123;</span></span><br><span class="line"><span class="meta">    @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),</span></span><br><span class="line"><span class="meta">&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SpringBootApplication &#123;&#125;</span><br></pre></td></tr></table></figure><h5 id="SpringBootConfiguration"><a href="#SpringBootConfiguration" class="headerlink" title="@SpringBootConfiguration"></a>@SpringBootConfiguration</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SpringBootConfiguration &#123;&#125;</span><br></pre></td></tr></table></figure><h5 id="EnableAutoConfiguration"><a href="#EnableAutoConfiguration" class="headerlink" title="@EnableAutoConfiguration"></a>@EnableAutoConfiguration</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Inherited</span></span><br><span class="line"><span class="meta">@AutoConfigurationPackage</span></span><br><span class="line"><span class="meta">@Import(AutoConfigurationImportSelector.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> EnableAutoConfiguration &#123;&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºè¢«@SpringBootApplicationæ³¨è§£çš„ç±»ï¼Œç»§æ‰¿äº†@Configurationï¼›ä¼šå¯¹å¯åŠ¨ç±»æ‰€åœ¨çš„åŒ…è¿›è¡Œæ‰«æï¼Œå¹¶åŠ è½½å¯¹åº”çš„é…ç½®ç±»ï¼›æœ€ç»ˆå¯¼å…¥AutoConfigurationImportSelectorç±»ï¼Œå¹¶è°ƒç”¨selectImportsæ–¹æ³•ï¼Œè¿”å›éœ€è¦å¯¼å…¥çš„é…ç½®ç±»ã€‚</p><h3 id="å¦‚ä½•å®ç°-AUtoconfigurationImportSelector"><a href="#å¦‚ä½•å®ç°-AUtoconfigurationImportSelector" class="headerlink" title="å¦‚ä½•å®ç° AUtoconfigurationImportSelector"></a>å¦‚ä½•å®ç° AUtoconfigurationImportSelector</h3><p>åˆ©ç”¨SpringFactoriesæœºåˆ¶ï¼ŒSpringFactoriesæ˜¯ä¸€ä¸ªç±»ï¼Œé‡Œé¢å­˜æ”¾äº†æ‰€æœ‰éœ€è¦å¯¼å…¥çš„é…ç½®ç±»ã€‚å­˜æ”¾åœ¨<code>META-INF/spring.factories</code>æ–‡ä»¶ä¸­<code> åœ¨</code>selectImports<code>æ–¹æ³•ä¸­ï¼Œä¼šè°ƒç”¨</code>getCandidateConfigurations<code>æ–¹æ³•ï¼Œè¿”å›éœ€è¦å¯¼å…¥çš„é…ç½®ç±»ã€‚</code></p><ol><li>é€šè¿‡SpringFactoriesLoaderç±»ï¼ŒåŠ è½½META-INF&#x2F;spring.factoriesæ–‡ä»¶ä¸­çš„é…ç½®ç±»ã€‚</li><li>é€šè¿‡<code>getSpringFactoriesLoaderFactoryClass</code>æ–¹æ³•ï¼Œè·å–åœ¨spring.factoriesæ–‡ä»¶ä¸­çš„é…ç½®ç±»ï¼Œç­›é€‰å‡ºä»¥ <code>EnableAutoConfiguration</code>ä¸ºkeyçš„é…ç½®ç±»ã€‚</li><li>æ ¹æ®@Conditionalè¿‡æ»¤æ‰ä¸ç¬¦åˆæ¡ä»¶çš„é…ç½®ç±»ã€‚</li></ol><blockquote><p><a href="https://www.bilibili.com/video/BV1NY411P7VX?vd_source=9b7c38a7155d4e0ced2a4bfedcf2eb15">ã€Bç«™ç›®å‰è®²çš„æœ€é€å½»çš„SpringBootè‡ªåŠ¨é…ç½®ï¼Œå¤§å‚é¢è¯•å¿…å¤‡çŸ¥è¯†ç‚¹#å®‰å‘˜å¤–å¾ˆæœ‰ç ã€‘</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> Springboot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springboot </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Springbootä¸­ä½¿ç”¨Redis</title>
      <link href="/posts/2eb967d8.html"/>
      <url>/posts/2eb967d8.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>åœ¨Springbooté¡¹ç›®ä¸­å¼€ç®±å³ç”¨Redis</p></blockquote><h3 id="æ·»åŠ POMä¾èµ–"><a href="#æ·»åŠ POMä¾èµ–" class="headerlink" title="æ·»åŠ POMä¾èµ–"></a>æ·»åŠ POMä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é…ç½®yml"><a href="#é…ç½®yml" class="headerlink" title="é…ç½®yml"></a>é…ç½®yml</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">    <span class="attr">redis:</span></span><br><span class="line">        <span class="attr">host:</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">        <span class="attr">password:</span> <span class="string">&lt;PASSWORD&gt;</span></span><br><span class="line">        <span class="attr">timeout:</span> <span class="number">5000</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ³¨å…¥"><a href="#æ³¨å…¥" class="headerlink" title="æ³¨å…¥"></a>æ³¨å…¥</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">    redisTemplate.opsForValue().set(<span class="string">&quot;test&quot;</span>, <span class="string">&quot;test&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å³å¯åœ¨Redisä¸­æŸ¥çœ‹æ•°æ®</p>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
          <category> å®‰è£…ä¸é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Springboot </tag>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Vueä¸­é€šè¿‡è™šæ‹ŸèŠ‚ç‚¹æ·»åŠ DOM</title>
      <link href="/posts/9d3afc51.html"/>
      <url>/posts/9d3afc51.html</url>
      
        <content type="html"><![CDATA[<p>å¯¹äºå½¢å¦‚ä»¥ä¸‹ç»“æ„çš„Vueå•æ–‡ä»¶ç»„ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">let</span> str = <span class="string">&quot;Hello world!&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>å¦‚ä½•å°†å…¶ä¸­çš„strå­—ç¬¦æ¸²æŸ“è¿›å®¹å™¨ä¸­ï¼Ÿ</p><h3 id="Vueå®˜æ–¹çš„åšæ³•"><a href="#Vueå®˜æ–¹çš„åšæ³•" class="headerlink" title="Vueå®˜æ–¹çš„åšæ³•"></a>Vueå®˜æ–¹çš„åšæ³•</h3><p>é€šè¿‡<code>v-for</code>è¯­æ³•æ¥å¾ªç¯è„šæœ¬çš„æ•°ç»„å³å¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in str&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">let</span> str = <span class="string">&quot;Hello world!&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰çš„åšæ³•"><a href="#è‡ªå®šä¹‰çš„åšæ³•" class="headerlink" title="è‡ªå®šä¹‰çš„åšæ³•"></a>è‡ªå®šä¹‰çš„åšæ³•</h3><p>åœ¨<code>script</code>æ ‡ç­¾å†…ï¼Œé€šè¿‡åˆ›å»ºè™šæ‹ŸèŠ‚ç‚¹ï¼Œå°†å­—ç¬¦ä¸²å†…å®¹æ·»åŠ è¿›è™šæ‹ŸèŠ‚ç‚¹ä¸­</p><p>è‹¥æ˜¯ç›´æ¥é€šè¿‡<code>container.appendChild(...str.split(&quot;&quot;).map(char =&gt; h(&quot;span&quot;, &#123; class: &quot;char&quot; &#125;, char)));</code>æˆ–è€…<code>container.append(...str.split(&quot;&quot;).map(char =&gt; h(&quot;span&quot;, &#123; class: &quot;char&quot; &#125;, char)));</code>éƒ½æ— æ³•è¾¾åˆ°åŸæœ‰çš„ç›®æ ‡ã€‚</p><p>å› è€Œéœ€è¦å€ŸåŠ©ä¸€ä¸ªä¸´æ—¶å®¹å™¨ï¼Œå°†å­—ç¬¦ä¸²å†…å®¹æ·»åŠ è¿›ä¸´æ—¶å®¹å™¨ä¸­ï¼Œå†é€šè¿‡<code>container.appendChild(tempContainer);</code>å°†ä¸´æ—¶å®¹å™¨æ·»åŠ è¿›çˆ¶å®¹å™¨ä¸­ã€‚<br>åšæ³•å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">onMounted</span>(<span class="function">() =&gt;</span> &#123;    </span><br><span class="line">    <span class="comment">// çˆ¶å®¹å™¨</span></span><br><span class="line">    <span class="keyword">const</span> container = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.container&quot;</span>);</span><br><span class="line">    <span class="comment">// åˆ›å»ºå­—ç¬¦VNodeæ•°ç»„</span></span><br><span class="line">    <span class="keyword">let</span> charVNodes = str.<span class="title function_">split</span>(<span class="string">&quot;&quot;</span>).<span class="title function_">map</span>(<span class="function"><span class="params">char</span> =&gt;</span> <span class="title function_">h</span>(<span class="string">&quot;span&quot;</span>, &#123; <span class="attr">class</span>: <span class="string">&quot;char&quot;</span> &#125;, char));</span><br><span class="line">    <span class="comment">// æŠŠè¿™äº›å­—ç¬¦VNodeåŒ…è£¹åœ¨ä¸€ä¸ªçˆ¶VNodeä¸­ï¼Œç„¶åæ¸²æŸ“è¿›å»</span></span><br><span class="line">    <span class="keyword">const</span> wrapperVNode = <span class="title function_">h</span>(<span class="string">&#x27;div&#x27;</span>, &#123;&#125;, charVNodes);</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªä¸´æ—¶å®¹å™¨ï¼ˆé˜²æ­¢æ›¿æ¢æ‰åŸæœ‰ DOMï¼‰</span></span><br><span class="line">    <span class="keyword">const</span> tempDiv = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    <span class="title function_">render</span>(wrapperVNode, tempDiv);</span><br><span class="line">    <span class="comment">// æŠŠ tempDiv å†…éƒ¨çœŸå® DOM æ’å…¥åˆ°ç›®æ ‡å®¹å™¨ä¸­</span></span><br><span class="line">    <span class="keyword">while</span> (tempDiv.<span class="property">firstChild</span>) &#123;</span><br><span class="line">        container.<span class="title function_">appendChild</span>(tempDiv.<span class="property">firstChild</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="é€šè¿‡gsapåŠ¨ç”»åº“çš„åšæ³•"><a href="#é€šè¿‡gsapåŠ¨ç”»åº“çš„åšæ³•" class="headerlink" title="é€šè¿‡gsapåŠ¨ç”»åº“çš„åšæ³•"></a>é€šè¿‡gsapåŠ¨ç”»åº“çš„åšæ³•</h3><blockquote><p> GSAP æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ã€è·¨å¹³å°çš„JavaScript åŠ¨ç”»åº“ï¼Œå¹¿æ³›ç”¨äºç½‘é¡µåŠ¨ç”»çš„åˆ¶ä½œã€‚ å®ƒæä¾›äº†ä¸°å¯Œçš„APIï¼Œä½¿å¾—å¼€å‘è€…å¯ä»¥è½»æ¾åˆ›å»ºå¤æ‚çš„åŠ¨ç”»æ•ˆæœï¼Œå¹¶ä¸”åœ¨ä¸åŒæµè§ˆå™¨å’Œè®¾å¤‡ä¸Šéƒ½èƒ½è·å¾—ä¸€è‡´çš„æ€§èƒ½è¡¨ç°ã€‚</p></blockquote><p>â†’ <strong><a href="https://gsap.com/">å®˜ç½‘</a></strong> â†</p><p>å¯ä»¥é€šè¿‡<code>CDN</code>æ¥å…å®‰è£…ä½¿ç”¨ï¼Œå½“ç„¶ä¹Ÿæ”¯æŒ<code>npm</code>å’Œ<code>yarn</code>å®‰è£…ã€‚å¯ä»¥é€šè¿‡å°†é‡Œé¢çš„<strong>gsap</strong>æ›¿æ¢æˆå…¶ä»–ç»„ä»¶åï¼ˆå¦‚<em>SplitText</em>ï¼‰æ¥å¼•å…¥å…¶ä»–ç»„ä»¶ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/gsap.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/SplitText.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸è¿‡è¿™ç§æ–¹æ³•éœ€è¦å°†åŸæ¥ç»„ä»¶çš„<code>str</code>å…ˆç›´æ¥æ¸²æŸ“åˆ°é¡µé¢ä¸­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;&#123;str&#125;&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">let</span> str = <span class="string">&quot;Hello world!&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gsap.<span class="title function_">registerPlugin</span>(<span class="title class_">SplitText</span>)</span><br><span class="line"><span class="keyword">let</span> split = <span class="title class_">SplitText</span>.<span class="title function_">create</span>(el, &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;chars,words&quot;</span>,<span class="comment">// æˆ–è€…å»æ‰wordsåªå½¢æˆå­—ç¬¦div</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>æœ€åå½¢å¦‚ä¸‹æ‰€ç¤ºçš„htmlï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; display: inline-block;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; display: inline-block;&quot;</span>&gt;</span>H<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; display: inline-block;&quot;</span>&gt;</span>e<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; display: inline-block;&quot;</span>&gt;</span>l<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; display: inline-block;&quot;</span>&gt;</span>l<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; display: inline-block;&quot;</span>&gt;</span>o<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; display: inline-block;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; display: inline-block;&quot;</span>&gt;</span>w<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; display: inline-block;&quot;</span>&gt;</span>o<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; display: inline-block;&quot;</span>&gt;</span>r<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; display: inline-block;&quot;</span>&gt;</span>l<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; display: inline-block;&quot;</span>&gt;</span>d<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: relative; display: inline-block;&quot;</span>&gt;</span>!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue </tag>
            
            <tag> GSAP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»‹ç»ä½¿ç”¨C++çš„stlç®—æ³•</title>
      <link href="/posts/70680f88.html"/>
      <url>/posts/70680f88.html</url>
      
        <content type="html"><![CDATA[<h3 id="STL"><a href="#STL" class="headerlink" title="STL"></a>STL</h3><p>ç®—æ³•å°±æ˜¯ä¸€ç§å‡½æ•°æ¨¡æ¿ï¼ŒC++ä¸­çš„ç®—æ³•æ˜¯é€šè¿‡è¿­ä»£å™¨å’Œæ¨¡æ¿æ¥å®ç°çš„ï¼Œç®€å•æ¥è¯´ç®—æ³•å°±æ˜¯ä¸€ç³»åˆ—çš„è®¡ç®—æ­¥éª¤ï¼Œç”¨æ¥å°†è¾“å…¥æ•°æ®è½¬åŒ–æˆè¾“å‡ºç»“æœã€‚</p><blockquote><p>å‚è€ƒç½‘ç«™:<a href="https://developer.aliyun.com/article/1161003">1</a>,<a href="https://en.cppreference.com/">2</a><br>è¡¥å……ç½‘ç«™:<a href="https://segmentfault.com/a/1190000021581714">1</a>,<a href="https://veitchkyrie.github.io/2020/02/26/C++11-STL%E7%AE%97%E6%B3%95%E7%AE%80%E4%BB%8B/">2</a>,<a href="https://www.cnblogs.com/JCpeng/p/15001722.html">3</a></p></blockquote><h3 id="åŒ…æ‹¬çš„å¤´æ–‡ä»¶"><a href="#åŒ…æ‹¬çš„å¤´æ–‡ä»¶" class="headerlink" title="åŒ…æ‹¬çš„å¤´æ–‡ä»¶"></a>åŒ…æ‹¬çš„å¤´æ–‡ä»¶</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="ç®—æ³•çš„åˆ†ç±»"><a href="#ç®—æ³•çš„åˆ†ç±»" class="headerlink" title="ç®—æ³•çš„åˆ†ç±»"></a>ç®—æ³•çš„åˆ†ç±»</h3><ul><li>éå¯å˜åºåˆ—ç®—æ³•</li><li>å¯å˜åºåˆ—ç®—æ³•</li><li>æ’åºç®—æ³•</li><li>æ•°å€¼ç®—æ³•</li></ul><h3 id="éå†ç®—æ³•"><a href="#éå†ç®—æ³•" class="headerlink" title="éå†ç®—æ³•"></a>éå†ç®—æ³•</h3><h5 id="for-each"><a href="#for-each" class="headerlink" title="for_each"></a>for_each</h5><ul><li>ç”¨æ³•:å®ç°æ•°ç»„æˆ–é›†åˆçš„éå†</li></ul><blockquote><ul><li>first:å¼€å§‹çš„è¿­ä»£å™¨</li><li>last:ç»“æŸçš„è¿­ä»£å™¨</li><li>f:ä¼ å…¥çš„å‡½æ•°</li></ul></blockquote><ul><li><p>å¯èƒ½çš„å®ç°:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt, <span class="keyword">class</span> UnaryFunc&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> UnaryFunc <span class="title">for_each</span><span class="params">(InputIt first, InputIt last, UnaryFunc f)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first)</span><br><span class="line">        <span class="built_in">f</span>(*first);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¾‹å­:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v&#123;<span class="number">3</span>, <span class="number">-4</span>, <span class="number">2</span>, <span class="number">-8</span>, <span class="number">15</span>, <span class="number">267</span>&#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">auto</span> print = [](<span class="type">const</span> <span class="type">int</span>&amp; n) &#123; std::cout &lt;&lt; n &lt;&lt; <span class="string">&#x27; &#x27;</span>; &#125;;</span><br><span class="line"> </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;before:\t&quot;</span>;</span><br><span class="line">    std::for_each(v.<span class="built_in">cbegin</span>(), v.<span class="built_in">cend</span>(), print);</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// increment elements in-place</span></span><br><span class="line">    std::for_each(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), [](<span class="type">int</span> &amp;n) &#123; n++; &#125;);</span><br><span class="line"> </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;after:\t&quot;</span>;</span><br><span class="line">    std::for_each(v.<span class="built_in">cbegin</span>(), v.<span class="built_in">cend</span>(), print);</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">struct</span> <span class="title class_">Sum</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123; sum += n; &#125;</span><br><span class="line">        <span class="type">int</span> sum &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    Sum s = std::for_each(v.<span class="built_in">cbegin</span>(), v.<span class="built_in">cend</span>(), <span class="built_in">Sum</span>());    </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;sum:\t&quot;</span> &lt;&lt; s.sum &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å‡º</span></span><br><span class="line">before:<span class="number">3</span> <span class="number">-4</span> <span class="number">2</span> <span class="number">-8</span> <span class="number">15</span> <span class="number">267</span> </span><br><span class="line">after:<span class="number">4</span> <span class="number">-3</span> <span class="number">3</span> <span class="number">-7</span> <span class="number">16</span> <span class="number">268</span> </span><br><span class="line">sum:<span class="number">281</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="transform"><a href="#transform" class="headerlink" title="transform"></a>transform</h5><ul><li>ç”¨æ³•:å°†ä¸€ä¸ªå®¹å™¨ä¸­çš„å†…å®¹æ¬è¿åˆ°å¦ä¸€ä¸ªå®¹å™¨ä¸­</li></ul><blockquote><ul><li>first1:å¼€å§‹çš„è¿­ä»£å™¨</li><li>last1:ç»“æŸçš„è¿­ä»£å™¨</li><li>d_first:ç›®çš„å®¹å™¨å¼€å§‹çš„è¿­ä»£å™¨</li><li>f:ä¼ å…¥çš„å‡½æ•°</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»first1åˆ°last1çš„å…ƒç´ ä¼ å…¥unary_opå˜æ¢å,æ”¾åˆ°d_firstå†…</span></span><br><span class="line">emplate&lt;<span class="keyword">class</span> <span class="title class_">InputIt</span>, <span class="keyword">class</span> <span class="title class_">OutputIt</span>, <span class="keyword">class</span> <span class="title class_">UnaryOp</span>&gt;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="comment">//&lt; since C++20</span></span><br><span class="line"><span class="function">OutputIt <span class="title">transform</span><span class="params">(InputIt first1, InputIt last1, OutputIt d_first, UnaryOp unary_op)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first1 != last1; ++d_first, ++first1)</span><br><span class="line">        *d_first = <span class="built_in">unary_op</span>(*first1);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> d_first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»first1åˆ°last1å’Œä»first2åçš„å…ƒç´ ä¼ å…¥unary_op(first1,first2)å˜æ¢å,æ”¾åˆ°d_firstå†…</span></span><br><span class="line"><span class="comment">// first2çš„èŒƒå›´åº”è¯¥å°äºfirst1åˆ°last1çš„èŒƒå›´</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">InputIt1</span>, <span class="keyword">class</span> <span class="title class_">InputIt2</span>, </span><br><span class="line">         <span class="keyword">class</span> <span class="title class_">OutputIt</span>, <span class="keyword">class</span> <span class="title class_">BinaryOp</span>&gt;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="comment">//&lt; since C++20</span></span><br><span class="line"><span class="function">OutputIt <span class="title">transform</span><span class="params">(InputIt1 first1, InputIt1 last1, InputIt2 first2, OutputIt d_first, BinaryOp binary_op)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first1 != last1; ++d_first, ++first1, ++first2)</span><br><span class="line">        *d_first = <span class="built_in">binary_op</span>(*first1, *first2);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> d_first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print_ordinals</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">unsigned</span>&gt;&amp; ordinals)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;ordinals: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">unsigned</span> ord : ordinals)</span><br><span class="line">        std::cout &lt;&lt; std::<span class="built_in">setw</span>(<span class="number">3</span>) &lt;&lt; ord &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">char</span> <span class="title">to_uppercase</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> std::<span class="built_in">toupper</span>(c);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">to_uppercase_inplace</span><span class="params">(<span class="type">char</span>&amp; c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    c = <span class="built_in">to_uppercase</span>(c);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">unary_transform_example</span><span class="params">(std::string&amp; hello, std::string world)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// åŸåœ°è½¬æ¢æˆå¤§å†™å­—æ¯</span></span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">transform</span>(hello.<span class="built_in">cbegin</span>(), hello.<span class="built_in">cend</span>(), hello.<span class="built_in">begin</span>(), to_uppercase);</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;hello = &quot;</span> &lt;&lt; std::<span class="built_in">quoted</span>(hello) &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// for_eachç‰ˆæœ¬</span></span><br><span class="line">    std::for_each(world.<span class="built_in">begin</span>(), world.<span class="built_in">end</span>(), to_uppercase_inplace);</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;world = &quot;</span> &lt;&lt; std::<span class="built_in">quoted</span>(world) &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">binary_transform_example</span><span class="params">(std::vector&lt;<span class="type">unsigned</span>&gt; ordinals)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// è½¬åŒ–æˆä¸¤å€çš„å€¼</span></span><br><span class="line"> </span><br><span class="line">    <span class="built_in">print_ordinals</span>(ordinals);</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">transform</span>(ordinals.<span class="built_in">cbegin</span>(), ordinals.<span class="built_in">cend</span>(), ordinals.<span class="built_in">cbegin</span>(),</span><br><span class="line">                   ordinals.<span class="built_in">begin</span>(), std::plus&lt;&gt;&#123;&#125;);</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">print_ordinals</span>(ordinals);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::string <span class="title">hello</span><span class="params">(<span class="string">&quot;hello&quot;</span>)</span></span>;</span><br><span class="line">    <span class="built_in">unary_transform_example</span>(hello, <span class="string">&quot;world&quot;</span>);</span><br><span class="line"> </span><br><span class="line">    std::vector&lt;<span class="type">unsigned</span>&gt; ordinals;</span><br><span class="line">    std::<span class="built_in">copy</span>(hello.<span class="built_in">cbegin</span>(), hello.<span class="built_in">cend</span>(), std::<span class="built_in">back_inserter</span>(ordinals));</span><br><span class="line">    <span class="built_in">binary_transform_example</span>(std::<span class="built_in">move</span>(ordinals));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å‡º</span></span><br><span class="line">hello = <span class="string">&quot;HELLO&quot;</span></span><br><span class="line">world = <span class="string">&quot;WORLD&quot;</span></span><br><span class="line">ordinals:  <span class="number">72</span>  <span class="number">69</span>  <span class="number">76</span>  <span class="number">76</span>  <span class="number">79</span> </span><br><span class="line">ordinals: <span class="number">144</span> <span class="number">138</span> <span class="number">152</span> <span class="number">152</span> <span class="number">158</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="find-find-if-find-if-not"><a href="#find-find-if-find-if-not" class="headerlink" title="find,find_if,find_if_not"></a>find,find_if,find_if_not</h5><ul><li>ç”¨æ³•:æŸ¥æ‰¾æŒ‡å®šå…ƒç´ ï¼Œæ‰¾åˆ°è¿”å›æŒ‡å®šå…ƒç´ çš„è¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›ç»“æŸè¿­ä»£å™¨end()</li></ul><blockquote><ul><li>first:å¼€å§‹è¿­ä»£å™¨</li><li>last:ç»“æŸè¿­ä»£å™¨</li><li>value:æŸ¥æ‰¾çš„å…ƒç´  | p&#x2F;q:ä¼ å…¥çš„åˆ¤æ–­å‡½æ•°</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// find</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">InputIt</span>, <span class="keyword">class</span> <span class="title class_">T</span> = <span class="keyword">typename</span> std::iterator_traits&lt;InputIt&gt;::value_type&gt;</span><br><span class="line"><span class="keyword">constexpr</span> InputIt <span class="built_in">find</span>(InputIt first, InputIt last, <span class="type">const</span> T&amp; value)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first)</span><br><span class="line">        <span class="keyword">if</span> (*first == value)</span><br><span class="line">            <span class="keyword">return</span> first;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// find_if</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt, <span class="keyword">class</span> UnaryPred&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> InputIt <span class="title">find_if</span><span class="params">(InputIt first, InputIt last, UnaryPred p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first)</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">p</span>(*first))</span><br><span class="line">            <span class="keyword">return</span> first;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// find_if_not</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt, <span class="keyword">class</span> UnaryPred&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> InputIt <span class="title">find_if_not</span><span class="params">(InputIt first, InputIt last, UnaryPred q)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first)</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">q</span>(*first))</span><br><span class="line">            <span class="keyword">return</span> first;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;complex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="keyword">auto</span> v = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="type">int</span> n : &#123;<span class="number">3</span>, <span class="number">5</span>&#125;)</span><br><span class="line">        (std::<span class="built_in">find</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), n) == std::<span class="built_in">end</span>(v))</span><br><span class="line">            ? std::cout &lt;&lt; <span class="string">&quot;v does not contain &quot;</span> &lt;&lt; n &lt;&lt; <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">            : std::cout &lt;&lt; <span class="string">&quot;v contains &quot;</span> &lt;&lt; n &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">auto</span> is_even = [](<span class="type">int</span> i) &#123; <span class="keyword">return</span> i % <span class="number">2</span> == <span class="number">0</span>; &#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; w : &#123;std::array&#123;<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>&#125;, &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>&#125;&#125;)</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">auto</span> it = std::<span class="built_in">find_if</span>(<span class="built_in">begin</span>(w), <span class="built_in">end</span>(w), is_even); it != std::<span class="built_in">end</span>(w))</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;w contains an even number &quot;</span> &lt;&lt; *it &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;w does not contain even numbers\n&quot;</span>;</span><br><span class="line"> </span><br><span class="line">    std::vector&lt;std::complex&lt;<span class="type">double</span>&gt;&gt; nums&#123;&#123;<span class="number">4</span>, <span class="number">2</span>&#125;&#125;;</span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> __cpp_lib_default_template_type_for_algorithm_values</span></span><br><span class="line">        <span class="comment">// T gets deduced making list-initialization possible</span></span><br><span class="line">        <span class="type">const</span> <span class="keyword">auto</span> it = std::<span class="built_in">find</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), &#123;<span class="number">4</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    <span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">        <span class="type">const</span> <span class="keyword">auto</span> it = std::<span class="built_in">find</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), std::complex&lt;<span class="type">double</span>&gt;&#123;<span class="number">4</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="built_in">assert</span>(it == nums.<span class="built_in">begin</span>());   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å‡º</span></span><br><span class="line">v contains <span class="number">3</span></span><br><span class="line">v does <span class="keyword">not</span> contain <span class="number">5</span></span><br><span class="line">w contains an even number <span class="number">4</span></span><br><span class="line">w does <span class="keyword">not</span> contain even numbers</span><br></pre></td></tr></table></figure></li></ul><h5 id="adjacent-find"><a href="#adjacent-find" class="headerlink" title="adjacent_find"></a>adjacent_find</h5><ul><li>ç”¨æ³•:æŸ¥æ‰¾ç›¸é‚»çš„é‡å¤å…ƒç´ ,è¿”å›ç›¸é‚»å…ƒç´ çš„ç¬¬ä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨</li></ul><blockquote><ul><li>first:å¼€å§‹çš„è¿­ä»£å™¨</li><li>last:ç»“æŸçš„è¿­ä»£å™¨</li><li>p:ä¼ å…¥çš„è‡ªå®šä¹‰åˆ¤æ–­å‡½æ•°</li></ul></blockquote><ul><li><p>å¯èƒ½çš„å®ç°:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é»˜è®¤åˆ¤æ–­ç›¸ç­‰</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> ForwardIt&gt;</span></span><br><span class="line"><span class="function">ForwardIt <span class="title">adjacent_find</span><span class="params">(ForwardIt first, ForwardIt last)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (first == last)</span><br><span class="line">        <span class="keyword">return</span> last;</span><br><span class="line"> </span><br><span class="line">    ForwardIt next = first;</span><br><span class="line">    ++next;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (; next != last; ++next, ++first)</span><br><span class="line">        <span class="keyword">if</span> (*first == *next)</span><br><span class="line">            <span class="keyword">return</span> first;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªå®šä¹‰åˆ¤æ–­ç›¸ç­‰</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> ForwardIt, <span class="keyword">class</span> BinaryPred&gt;</span></span><br><span class="line"><span class="function">ForwardIt <span class="title">adjacent_find</span><span class="params">(ForwardIt first, ForwardIt last, BinaryPred p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (first == last)</span><br><span class="line">        <span class="keyword">return</span> last;</span><br><span class="line"> </span><br><span class="line">    ForwardIt next = first;</span><br><span class="line">    ++next;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (; next != last; ++next, ++first)</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">p</span>(*first, *next))</span><br><span class="line">            <span class="keyword">return</span> first;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> last;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¾‹å­:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v1&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">40</span>, <span class="number">40</span>, <span class="number">41</span>, <span class="number">41</span>, <span class="number">5</span>&#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">auto</span> i1 = std::<span class="built_in">adjacent_find</span>(v<span class="number">1.</span><span class="built_in">begin</span>(), v<span class="number">1.</span><span class="built_in">end</span>());</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (i1 == v<span class="number">1.</span><span class="built_in">end</span>())</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;No matching adjacent elements\n&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;The first adjacent pair of equal elements is at &quot;</span></span><br><span class="line">                  &lt;&lt; std::<span class="built_in">distance</span>(v<span class="number">1.</span><span class="built_in">begin</span>(), i1) &lt;&lt; <span class="string">&quot;, *i1 = &quot;</span></span><br><span class="line">                  &lt;&lt; *i1 &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">auto</span> i2 = std::<span class="built_in">adjacent_find</span>(v<span class="number">1.</span><span class="built_in">begin</span>(), v<span class="number">1.</span><span class="built_in">end</span>(), std::<span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line">    <span class="keyword">if</span> (i2 == v<span class="number">1.</span><span class="built_in">end</span>())</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;The entire vector is sorted in ascending order\n&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;The last element in the non-decreasing subsequence is at &quot;</span></span><br><span class="line">                  &lt;&lt; std::<span class="built_in">distance</span>(v<span class="number">1.</span><span class="built_in">begin</span>(), i2) &lt;&lt; <span class="string">&quot;, *i2 = &quot;</span> &lt;&lt; *i2 &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line">The first adjacent pair of equal elements is at <span class="number">4</span>, *i1 = <span class="number">40</span></span><br><span class="line">The last element in the non-decreasing subsequence is at <span class="number">7</span>, *i2 = <span class="number">41</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="binary-search"><a href="#binary-search" class="headerlink" title="binary_search"></a>binary_search</h5><ul><li>ç”¨æ³•:äºŒåˆ†æŸ¥æ‰¾</li></ul><blockquote><ul><li>first:å¼€å§‹çš„è¿­ä»£å™¨</li><li>last:ç»“æŸçš„è¿­ä»£å™¨</li><li>value:æŸ¥æ‰¾çš„å€¼</li><li>comp:ä¼ å…¥çš„è‡ªå®šä¹‰åˆ¤æ–­å‡½æ•°</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">ForwardIt</span>, <span class="keyword">class</span> <span class="title class_">T</span> = <span class="keyword">typename</span> std::iterator_traits&lt;ForwardIt&gt;::value_type&gt;</span><br><span class="line"><span class="type">bool</span> <span class="built_in">binary_search</span>(ForwardIt first, ForwardIt last, <span class="type">const</span> T&amp; value)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> std::<span class="built_in">binary_search</span>(first, last, value, std::less&#123;&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">ForwardIt</span>, <span class="keyword">class</span> <span class="title class_">T</span> = <span class="keyword">typename</span> std::iterator_traits&lt;ForwardIt&gt;::value_type,</span><br><span class="line">         <span class="keyword">class</span> Compare&gt;</span><br><span class="line"><span class="type">bool</span> <span class="built_in">binary_search</span>(ForwardIt first, ForwardIt last, <span class="type">const</span> T&amp; value, Compare comp)</span><br><span class="line">&#123;</span><br><span class="line">    first = std::<span class="built_in">lower_bound</span>(first, last, value, comp);</span><br><span class="line">    <span class="keyword">return</span> (!(first == last) <span class="keyword">and</span> !(<span class="built_in">comp</span>(value, *first)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;complex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="keyword">auto</span> haystack = &#123;<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">9</span>&#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span> needle : &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Searching for &quot;</span> &lt;&lt; needle &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span> (std::<span class="built_in">binary_search</span>(haystack.<span class="built_in">begin</span>(), haystack.<span class="built_in">end</span>(), needle))</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;Found &quot;</span> &lt;&lt; needle &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;No dice!\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">using</span> CD = std::complex&lt;<span class="type">double</span>&gt;;</span><br><span class="line">    std::vector&lt;CD&gt; nums&#123;&#123;<span class="number">1</span>, <span class="number">1</span>&#125;, &#123;<span class="number">2</span>, <span class="number">3</span>&#125;, &#123;<span class="number">4</span>, <span class="number">2</span>&#125;, &#123;<span class="number">4</span>, <span class="number">3</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">auto</span> cmpz = [](CD x, CD y)&#123; <span class="keyword">return</span> <span class="built_in">abs</span>(x) &lt; <span class="built_in">abs</span>(y); &#125;;</span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> __cpp_lib_default_template_type_for_algorithm_values</span></span><br><span class="line">        <span class="built_in">assert</span>(std::<span class="built_in">binary_search</span>(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(), &#123;<span class="number">4</span>, <span class="number">2</span>&#125;, cmpz));</span><br><span class="line">    <span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">        <span class="built_in">assert</span>(std::<span class="built_in">binary_search</span>(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(), CD&#123;<span class="number">4</span>, <span class="number">2</span>&#125;, cmpz));</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line">Searching <span class="keyword">for</span> <span class="number">1</span></span><br><span class="line">Found <span class="number">1</span></span><br><span class="line">Searching <span class="keyword">for</span> <span class="number">2</span></span><br><span class="line">no dice!</span><br><span class="line">Searching <span class="keyword">for</span> <span class="number">3</span></span><br><span class="line">Found <span class="number">3</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="count-count-if"><a href="#count-count-if" class="headerlink" title="count,count_if"></a>count,count_if</h5><ul><li>ç”¨æ³•:ç»Ÿè®¡ä¸€ä¸ªåŒºé—´ä¸­å…ƒç´ å‡ºç°çš„æ¬¡æ•°</li></ul><blockquote><ul><li>first:å¼€å§‹çš„è¿­ä»£å™¨</li><li>last:ç»“æŸçš„è¿­ä»£å™¨</li><li>value:æŸ¥æ‰¾çš„å€¼</li><li>p:ä¼ å…¥çš„åˆ¤æ–­å‡½æ•°</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">InputIt</span>, <span class="keyword">class</span> <span class="title class_">T</span> = <span class="keyword">typename</span> std::iterator_traits&lt;InputIt&gt;::value_type&gt;</span><br><span class="line"><span class="keyword">typename</span> std::iterator_traits&lt;InputIt&gt;::difference_type</span><br><span class="line">    <span class="built_in">count</span>(InputIt first, InputIt last, <span class="type">const</span> T&amp; value)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">typename</span> std::iterator_traits&lt;InputIt&gt;::difference_type ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first)</span><br><span class="line">        <span class="keyword">if</span> (*first == value)</span><br><span class="line">            ++ret;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">InputIt</span>, <span class="keyword">class</span> <span class="title class_">UnaryPred</span>&gt;</span><br><span class="line"><span class="keyword">typename</span> std::iterator_traits&lt;InputIt&gt;::<span class="function">difference_type</span></span><br><span class="line"><span class="function">    <span class="title">count_if</span><span class="params">(InputIt first, InputIt last, UnaryPred p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">typename</span> std::iterator_traits&lt;InputIt&gt;::difference_type ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first)</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">p</span>(*first))</span><br><span class="line">            ++ret;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;complex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">constexpr</span> std::array v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;v: &quot;</span>;</span><br><span class="line">    std::<span class="built_in">copy</span>(v.<span class="built_in">cbegin</span>(), v.<span class="built_in">cend</span>(), std::<span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(std::cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// ç¡®å®šæœ‰å¤šå°‘æ•´æ•°åŒ¹é…</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="type">int</span> target : &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">const</span> <span class="type">int</span> num_items = std::<span class="built_in">count</span>(v.<span class="built_in">cbegin</span>(), v.<span class="built_in">cend</span>(), target);</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;number: &quot;</span> &lt;&lt; target &lt;&lt; <span class="string">&quot;, count: &quot;</span> &lt;&lt; num_items &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// ä½¿ç”¨lambdaæ‰¾å‡ºèƒ½è¢«4æ•´é™¤çš„æ•°å­—</span></span><br><span class="line">    <span class="type">int</span> count_div4 = std::<span class="built_in">count_if</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), [](<span class="type">int</span> i) &#123; <span class="keyword">return</span> i % <span class="number">4</span> == <span class="number">0</span>; &#125;);</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;numbers divisible by four: &quot;</span> &lt;&lt; count_div4 &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// ä¸€ä¸ªå¤æ‚åº¦ä¸ºO(n)çš„è®¡ç®—å®¹å™¨å…ƒç´ è·ç¦»çš„å‡½æ•°</span></span><br><span class="line">    <span class="keyword">auto</span> distance = [](<span class="keyword">auto</span> first, <span class="keyword">auto</span> last)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> std::<span class="built_in">count_if</span>(first, last, [](<span class="keyword">auto</span>) &#123; <span class="keyword">return</span> <span class="literal">true</span>; &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">static_assert</span>(<span class="built_in">distance</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>()) == <span class="number">10</span>);</span><br><span class="line"> </span><br><span class="line">    std::array&lt;std::complex&lt;<span class="type">double</span>&gt;, <span class="number">3</span>&gt; nums&#123;&#123;&#123;<span class="number">4</span>, <span class="number">2</span>&#125;, &#123;<span class="number">1</span>, <span class="number">3</span>&#125;, &#123;<span class="number">4</span>, <span class="number">2</span>&#125;&#125;&#125;;</span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> __cpp_lib_default_template_type_for_algorithm_values</span></span><br><span class="line">        <span class="comment">// T gets deduced making list-initialization possible</span></span><br><span class="line">        <span class="keyword">auto</span> c = std::<span class="built_in">count</span>(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(), &#123;<span class="number">4</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    <span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">        <span class="keyword">auto</span> c = std::<span class="built_in">count</span>(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(), std::complex&lt;<span class="type">double</span>&gt;&#123;<span class="number">4</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="built_in">assert</span>(c == <span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line">v: <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">4</span> <span class="number">3</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">10</span></span><br><span class="line">number: <span class="number">3</span>, count: <span class="number">2</span></span><br><span class="line">number: <span class="number">4</span>, count: <span class="number">2</span></span><br><span class="line">number: <span class="number">5</span>, count: <span class="number">0</span></span><br><span class="line">numbers divisible by four: <span class="number">3</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="search"><a href="#search" class="headerlink" title="search"></a>search</h5><ul><li>ç”¨æ³•:ç»™å‡ºä¸¤ä¸ªèŒƒå›´ï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ŒæŸ¥æ‰¾æˆåŠŸæŒ‡å‘ç¬¬ä¸€ä¸ªèŒƒå›´å†…ç¬¬ä¸€æ¬¡å‡ºç°å­åºåˆ—,æŸ¥æ‰¾å¤±è´¥æŒ‡å‘last1ã€‚</li></ul><blockquote><ul><li>first:å¼€å§‹çš„è¿­ä»£å™¨</li><li>last:ç»“æŸçš„è¿­ä»£å™¨</li><li>p:ä¼ å…¥çš„å‡½æ•°</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">ForwardIt1</span>, <span class="keyword">class</span> <span class="title class_">ForwardIt2</span>&gt;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="comment">//&lt; since C++20</span></span><br><span class="line"><span class="function">ForwardIt1 <span class="title">search</span><span class="params">(ForwardIt1 first, ForwardIt1 last,</span></span></span><br><span class="line"><span class="params"><span class="function">                  ForwardIt2 s_first, ForwardIt2 s_last)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        ForwardIt1 it = first;</span><br><span class="line">        <span class="keyword">for</span> (ForwardIt2 s_it = s_first; ; ++it, ++s_it)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (s_it == s_last)</span><br><span class="line">                <span class="keyword">return</span> first;</span><br><span class="line">            <span class="keyword">if</span> (it == last)</span><br><span class="line">                <span class="keyword">return</span> last;</span><br><span class="line">            <span class="keyword">if</span> (!(*it == *s_it))</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ++first;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">ForwardIt1</span>, <span class="keyword">class</span> <span class="title class_">ForwardIt2</span>, <span class="keyword">class</span> <span class="title class_">BinaryPred</span>&gt;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="comment">//&lt; since C++20</span></span><br><span class="line"><span class="function">ForwardIt1 <span class="title">search</span><span class="params">(ForwardIt1 first, ForwardIt1 last,</span></span></span><br><span class="line"><span class="params"><span class="function">                  ForwardIt2 s_first, ForwardIt2 s_last, BinaryPred p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        ForwardIt1 it = first;</span><br><span class="line">        <span class="keyword">for</span> (ForwardIt2 s_it = s_first; ; ++it, ++s_it)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (s_it == s_last)</span><br><span class="line">                <span class="keyword">return</span> first;</span><br><span class="line">            <span class="keyword">if</span> (it == last)</span><br><span class="line">                <span class="keyword">return</span> last;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">p</span>(*it, *s_it))</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ++first;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cassert&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string_view&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std::literals;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">contains</span><span class="params">(<span class="type">const</span> <span class="keyword">auto</span>&amp; cont, std::string_view s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// str.find() (or str.contains(), since C++23) can be used as well</span></span><br><span class="line">    <span class="keyword">return</span> std::<span class="built_in">search</span>(cont.<span class="built_in">begin</span>(), cont.<span class="built_in">end</span>(), s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>()) != cont.<span class="built_in">end</span>();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">const</span> <span class="keyword">auto</span> str&#123;<span class="string">&quot;why waste time learning, when ignorance is instantaneous?&quot;</span>sv&#125;;</span><br><span class="line">    <span class="built_in">assert</span>(<span class="built_in">contains</span>(str, <span class="string">&quot;learning&quot;</span>));</span><br><span class="line">    <span class="built_in">assert</span>(<span class="keyword">not</span> <span class="built_in">contains</span>(str, <span class="string">&quot;lemming&quot;</span>));</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="type">const</span> std::vector <span class="title">vec</span><span class="params">(str.begin(), str.end())</span></span>;</span><br><span class="line">    <span class="built_in">assert</span>(<span class="built_in">contains</span>(vec, <span class="string">&quot;learning&quot;</span>));</span><br><span class="line">    <span class="built_in">assert</span>(<span class="keyword">not</span> <span class="built_in">contains</span>(vec, <span class="string">&quot;leaning&quot;</span>));</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// The C++17 overload with searchers demo:</span></span><br><span class="line">    <span class="keyword">constexpr</span> <span class="keyword">auto</span> quote</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed &quot;</span></span><br><span class="line">        <span class="string">&quot;do eiusmod tempor incididunt ut labore et dolore magna aliqua&quot;</span>sv</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span> word : &#123;<span class="string">&quot;pisci&quot;</span>sv, <span class="string">&quot;Pisci&quot;</span>sv&#125;)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;The string &quot;</span> &lt;&lt; std::<span class="built_in">quoted</span>(word) &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        <span class="function"><span class="type">const</span> std::boyer_moore_searcher <span class="title">searcher</span><span class="params">(word.begin(), word.end())</span></span>;</span><br><span class="line">        <span class="type">const</span> <span class="keyword">auto</span> it = std::<span class="built_in">search</span>(quote.<span class="built_in">begin</span>(), quote.<span class="built_in">end</span>(), searcher);</span><br><span class="line">        <span class="keyword">if</span> (it == quote.<span class="built_in">end</span>())</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;not found\n&quot;</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;found at offset &quot;</span> &lt;&lt; std::<span class="built_in">distance</span>(quote.<span class="built_in">begin</span>(), it) &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¾“å‡º</span></span><br><span class="line">The string <span class="string">&quot;pisci&quot;</span> found at offset <span class="number">43</span></span><br><span class="line">The string <span class="string">&quot;Pisci&quot;</span> <span class="keyword">not</span> found</span><br></pre></td></tr></table></figure></li></ul><h3 id="æ’åºç®—æ³•"><a href="#æ’åºç®—æ³•" class="headerlink" title="æ’åºç®—æ³•"></a>æ’åºç®—æ³•</h3><h5 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h5><ul><li>ç”¨æ³•:å¿«é€Ÿæ’åº</li></ul><blockquote><ul><li>first:å¼€å§‹çš„è¿­ä»£å™¨</li><li>last:ç»“æŸçš„è¿­ä»£å™¨</li><li>comp:ä¼ å…¥çš„æ¯”è¾ƒå‡½æ•°</li></ul></blockquote><ul><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string_view&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::array&lt;<span class="type">int</span>, 10&gt; s&#123;<span class="number">5</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">3</span>&#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">auto</span> print = [&amp;s](std::string_view <span class="type">const</span> rem)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> a : s)</span><br><span class="line">            std::cout &lt;&lt; a &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;: &quot;</span> &lt;&lt; rem &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">sort</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sorted with the default operator&lt;&quot;</span>);</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">sort</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), std::<span class="built_in">greater</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sorted with the standard library compare function object&quot;</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">struct</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> a &lt; b; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    customLess;</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">sort</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), customLess);</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sorted with a custom function object&quot;</span>);</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">sort</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), [](<span class="type">int</span> a, <span class="type">int</span> b)</span><br><span class="line">                                  &#123;</span><br><span class="line">                                      <span class="keyword">return</span> a &gt; b;</span><br><span class="line">                                  &#125;);</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sorted with a lambda expression&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> : sorted with the <span class="keyword">default</span> <span class="keyword">operator</span>&lt;</span><br><span class="line"><span class="number">9</span> <span class="number">8</span> <span class="number">7</span> <span class="number">6</span> <span class="number">5</span> <span class="number">4</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> : sorted with the standard library compare function object</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> : sorted with a custom function object</span><br><span class="line"><span class="number">9</span> <span class="number">8</span> <span class="number">7</span> <span class="number">6</span> <span class="number">5</span> <span class="number">4</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> : sorted with a lambda expression</span><br></pre></td></tr></table></figure></li></ul><h5 id="random-shuffle"><a href="#random-shuffle" class="headerlink" title="random_shuffle"></a>random_shuffle</h5><ul><li>ç”¨æ³•:éšæœºæ‰“ä¹±</li></ul><blockquote><ul><li>first:å¼€å§‹çš„è¿­ä»£å™¨</li><li>last:ç»“æŸçš„è¿­ä»£å™¨</li><li>RandomFunc:ä¼ å…¥çš„éšæœºå‡½æ•°</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é»˜è®¤å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> RandomIt&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">random_shuffle</span><span class="params">(RandomIt first, RandomIt last)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> std::iterator_traits&lt;RandomIt&gt;::difference_type <span class="type">diff_t</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">diff_t</span> i = last - first - <span class="number">1</span>; i &gt; <span class="number">0</span>; --i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> std::swap;</span><br><span class="line">        <span class="built_in">swap</span>(first[i], first[std::<span class="built_in">rand</span>() % (i + <span class="number">1</span>)]);</span><br><span class="line">        <span class="comment">// rand() % (i + 1) is not actually correct, because the generated number is</span></span><br><span class="line">        <span class="comment">// not uniformly distributed for most values of i. The correct code would be</span></span><br><span class="line">        <span class="comment">// a variation of the C++11 std::uniform_int_distribution implementation.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªå®šä¹‰éšæœºå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> RandomIt, <span class="keyword">class</span> RandomFunc&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">random_shuffle</span><span class="params">(RandomIt first, RandomIt last, RandomFunc&amp;&amp; r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> std::iterator_traits&lt;RandomIt&gt;::difference_type <span class="type">diff_t</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">diff_t</span> i = last - first - <span class="number">1</span>; i &gt; <span class="number">0</span>; --i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> std::swap;</span><br><span class="line">        <span class="built_in">swap</span>(first[i], first[<span class="built_in">r</span>(i + <span class="number">1</span>)]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸çŸ¥é“</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> RandomIt, <span class="keyword">class</span> URBG&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">shuffle</span><span class="params">(RandomIt first, RandomIt last, URBG&amp;&amp; g)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> std::iterator_traits&lt;RandomIt&gt;::difference_type <span class="type">diff_t</span>;</span><br><span class="line">    <span class="keyword">typedef</span> std::uniform_int_distribution&lt;<span class="type">diff_t</span>&gt; <span class="type">distr_t</span>;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> <span class="type">distr_t</span>::param_type <span class="type">param_t</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="type">distr_t</span> D;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">diff_t</span> i = last - first - <span class="number">1</span>; i &gt; <span class="number">0</span>; --i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">using</span> std::swap;</span><br><span class="line">        <span class="built_in">swap</span>(first[i], first[<span class="built_in">D</span>(g, <span class="built_in">param_t</span>(<span class="number">0</span>, i))]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;random&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;;</span><br><span class="line"> </span><br><span class="line">    std::random_device rd;</span><br><span class="line">    <span class="function">std::mt19937 <span class="title">g</span><span class="params">(rd())</span></span>;</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">shuffle</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), g);</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), std::<span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(std::cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line"><span class="number">8</span> <span class="number">6</span> <span class="number">10</span> <span class="number">4</span> <span class="number">2</span> <span class="number">3</span> <span class="number">7</span> <span class="number">1</span> <span class="number">9</span> <span class="number">5</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="merge"><a href="#merge" class="headerlink" title="merge"></a>merge</h5><ul><li>ç”¨æ³•:å®¹å™¨åˆå¹¶</li></ul><blockquote><ul><li>first1:å®¹å™¨1çš„å¼€å§‹è¿­ä»£å™¨</li><li>last1:å®¹å™¨1çš„ç»“æŸè¿­ä»£å™¨</li><li>first2:å®¹å™¨2çš„å¼€å§‹è¿­ä»£å™¨</li><li>last2:å®¹å™¨2çš„ç»“æŸè¿­ä»£å™¨</li><li>d_first:ç›®æ ‡å®¹å™¨çš„èµ·å§‹è¿­ä»£å™¨</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é»˜è®¤å°çš„æ”¾åé¢</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt1, <span class="keyword">class</span> InputIt2, <span class="keyword">class</span> OutputIt&gt;</span></span><br><span class="line"><span class="function">OutputIt <span class="title">merge</span><span class="params">(InputIt1 first1, InputIt1 last1,</span></span></span><br><span class="line"><span class="params"><span class="function">               InputIt2 first2, InputIt2 last2,</span></span></span><br><span class="line"><span class="params"><span class="function">               OutputIt d_first)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first1 != last1; ++d_first)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (first2 == last2)</span><br><span class="line">            <span class="keyword">return</span> std::<span class="built_in">copy</span>(first1, last1, d_first);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (*first2 &lt; *first1)</span><br><span class="line">        &#123;</span><br><span class="line">            *d_first = *first2;</span><br><span class="line">            ++first2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            *d_first = *first1;</span><br><span class="line">            ++first1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> std::<span class="built_in">copy</span>(first2, last2, d_first);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªå®šä¹‰æ”¾çš„é¡ºåº</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt1, <span class="keyword">class</span> InputIt2,</span></span><br><span class="line"><span class="function">         <span class="keyword">class</span> OutputIt, <span class="keyword">class</span> Compare&gt;</span></span><br><span class="line"><span class="function">OutputIt <span class="title">merge</span><span class="params">(InputIt1 first1, InputIt1 last1,</span></span></span><br><span class="line"><span class="params"><span class="function">               InputIt2 first2, InputIt2 last2,</span></span></span><br><span class="line"><span class="params"><span class="function">               OutputIt d_first, Compare comp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first1 != last1; ++d_first)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (first2 == last2)</span><br><span class="line">            <span class="keyword">return</span> std::<span class="built_in">copy</span>(first1, last1, d_first);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">comp</span>(*first2, *first1))</span><br><span class="line">        &#123;</span><br><span class="line">            *d_first = *first2;</span><br><span class="line">            ++first2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            *d_first = *first1;</span><br><span class="line">            ++first1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> std::<span class="built_in">copy</span>(first2, last2, d_first);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;random&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">auto</span> print = [](<span class="type">const</span> <span class="keyword">auto</span> rem, <span class="type">const</span> <span class="keyword">auto</span>&amp; v)</span><br><span class="line">&#123;</span><br><span class="line">    std::cout &lt;&lt; rem;</span><br><span class="line">    std::<span class="built_in">copy</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), std::<span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(std::cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// éšæœºæ•°å¡«å……</span></span><br><span class="line">    std::random_device rd;</span><br><span class="line">    <span class="function">std::mt19937 <span class="title">mt</span><span class="params">(rd())</span></span>;</span><br><span class="line">    std::uniform_int_distribution&lt;&gt; <span class="built_in">dis</span>(<span class="number">0</span>, <span class="number">9</span>);</span><br><span class="line"> </span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">v1</span><span class="params">(<span class="number">10</span>)</span>, <span class="title">v2</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">    std::<span class="built_in">generate</span>(v<span class="number">1.</span><span class="built_in">begin</span>(), v<span class="number">1.</span><span class="built_in">end</span>(), std::<span class="built_in">bind</span>(dis, std::<span class="built_in">ref</span>(mt)));</span><br><span class="line">    std::<span class="built_in">generate</span>(v<span class="number">2.</span><span class="built_in">begin</span>(), v<span class="number">2.</span><span class="built_in">end</span>(), std::<span class="built_in">bind</span>(dis, std::<span class="built_in">ref</span>(mt)));</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Originally:\nv1: &quot;</span>, v1);</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;v2: &quot;</span>, v2);</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">sort</span>(v<span class="number">1.</span><span class="built_in">begin</span>(), v<span class="number">1.</span><span class="built_in">end</span>());</span><br><span class="line">    std::<span class="built_in">sort</span>(v<span class="number">2.</span><span class="built_in">begin</span>(), v<span class="number">2.</span><span class="built_in">end</span>());</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;After sorting:\nv1: &quot;</span>, v1);</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;v2: &quot;</span>, v2);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// merge</span></span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; dst;</span><br><span class="line">    std::<span class="built_in">merge</span>(v<span class="number">1.</span><span class="built_in">begin</span>(), v<span class="number">1.</span><span class="built_in">end</span>(), v<span class="number">2.</span><span class="built_in">begin</span>(), v<span class="number">2.</span><span class="built_in">end</span>(), std::<span class="built_in">back_inserter</span>(dst));</span><br><span class="line"> </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;After merging:\ndst: &quot;</span>, dst);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line">Originally:</span><br><span class="line">v1: <span class="number">2</span> <span class="number">6</span> <span class="number">5</span> <span class="number">7</span> <span class="number">4</span> <span class="number">2</span> <span class="number">2</span> <span class="number">6</span> <span class="number">7</span> <span class="number">0</span></span><br><span class="line">v2: <span class="number">8</span> <span class="number">3</span> <span class="number">2</span> <span class="number">5</span> <span class="number">0</span> <span class="number">1</span> <span class="number">9</span> <span class="number">6</span> <span class="number">5</span> <span class="number">0</span></span><br><span class="line">After sorting:</span><br><span class="line">v1: <span class="number">0</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">6</span> <span class="number">7</span> <span class="number">7</span></span><br><span class="line">v2: <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">5</span> <span class="number">6</span> <span class="number">8</span> <span class="number">9</span></span><br><span class="line">After merging:</span><br><span class="line">dst: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">5</span> <span class="number">5</span> <span class="number">6</span> <span class="number">6</span> <span class="number">6</span> <span class="number">7</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h5><ul><li>ç”¨æ³•:å°†å®¹å™¨å†…çš„å…ƒç´ è¿›è¡Œä¸€ä¸ªåè½¬</li></ul><blockquote><ul><li>first:å¼€å§‹çš„è¿­ä»£å™¨</li><li>last:ç»“æŸçš„è¿­ä»£å™¨</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">BidirIt</span>&gt;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="comment">// since C++20</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">reverse</span><span class="params">(BidirIt first, BidirIt last)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">using</span> iter_cat = <span class="keyword">typename</span> std::iterator_traits&lt;BidirIt&gt;::iterator_category;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// Tag dispatch, e.g. calling reverse_impl(first, last, iter_cat()),</span></span><br><span class="line">    <span class="comment">// can be used in C++14 and earlier modes.</span></span><br><span class="line">    <span class="function"><span class="keyword">if</span> <span class="title">constexpr</span> <span class="params">(std::is_base_of_v&lt;std::random_access_iterator_tag, iter_cat&gt;)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (first == last)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span> (--last; first &lt; last; (<span class="type">void</span>)++first, --last)</span><br><span class="line">            std::<span class="built_in">iter_swap</span>(first, last);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">while</span> (first != last &amp;&amp; first != --last)</span><br><span class="line">            std::<span class="built_in">iter_swap</span>(first++, last);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">println</span><span class="params">(<span class="keyword">auto</span> rem, <span class="keyword">auto</span> <span class="type">const</span>&amp; v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (std::cout &lt;&lt; rem; <span class="keyword">auto</span> e : v)</span><br><span class="line">        std::cout &lt;&lt; e &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;;</span><br><span class="line">    std::<span class="built_in">reverse</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">println</span>(<span class="string">&quot;after reverse, v = &quot;</span>, v);</span><br><span class="line"> </span><br><span class="line">    <span class="type">int</span> a[] = &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125;;</span><br><span class="line">    std::<span class="built_in">reverse</span>(std::<span class="built_in">begin</span>(a), std::<span class="built_in">end</span>(a));</span><br><span class="line">    <span class="built_in">println</span>(<span class="string">&quot;after reverse, a = &quot;</span>, a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line">after reverse, v = <span class="number">3</span> <span class="number">2</span> <span class="number">1</span></span><br><span class="line">after reverse, a = <span class="number">7</span> <span class="number">6</span> <span class="number">5</span> <span class="number">4</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="æ‹·è´å’Œæ›¿æ¢ç®—æ³•"><a href="#æ‹·è´å’Œæ›¿æ¢ç®—æ³•" class="headerlink" title="æ‹·è´å’Œæ›¿æ¢ç®—æ³•"></a>æ‹·è´å’Œæ›¿æ¢ç®—æ³•</h3><h5 id="copy-copy-if"><a href="#copy-copy-if" class="headerlink" title="copy,copy_if"></a>copy,copy_if</h5><ul><li>ç”¨æ³•:å°†å®¹å™¨å†…çš„å…ƒç´ æ‹·è´åˆ°å¦ä¸€å®¹å™¨ä¸­</li></ul><blockquote><ul><li>first:å¼€å§‹çš„è¿­ä»£å™¨</li><li>last:ç»“æŸçš„è¿­ä»£å™¨</li><li>d_first:ç›®çš„å®¹å™¨çš„å¼€å§‹è¿­ä»£å™¨</li><li>pred:åˆ¤æ–­å‡½æ•°</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt, <span class="keyword">class</span> OutputIt&gt;</span></span><br><span class="line"><span class="function">OutputIt <span class="title">copy</span><span class="params">(InputIt first, InputIt last,</span></span></span><br><span class="line"><span class="params"><span class="function">              OutputIt d_first)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; (<span class="type">void</span>)++first, (<span class="type">void</span>)++d_first)</span><br><span class="line">        *d_first = *first;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> d_first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt, <span class="keyword">class</span> OutputIt&gt;</span></span><br><span class="line"><span class="function">OutputIt <span class="title">copy_if</span><span class="params">(InputIt first, InputIt last,</span></span></span><br><span class="line"><span class="params"><span class="function">                 OutputIt d_first, UnaryPred pred)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first)</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">pred</span>(*first))</span><br><span class="line">        &#123;</span><br><span class="line">            *d_first = *first;</span><br><span class="line">            ++d_first;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> d_first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">from_vector</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">    std::<span class="built_in">iota</span>(from_vector.<span class="built_in">begin</span>(), from_vector.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line"> </span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; to_vector;</span><br><span class="line">    std::<span class="built_in">copy</span>(from_vector.<span class="built_in">begin</span>(), from_vector.<span class="built_in">end</span>(),</span><br><span class="line">              std::<span class="built_in">back_inserter</span>(to_vector));</span><br><span class="line"><span class="comment">// æˆ–è€…è¿˜å¯ä»¥è¿™æ ·åš,</span></span><br><span class="line"><span class="comment">//  std::vector&lt;int&gt; to_vector(from_vector.size());</span></span><br><span class="line"><span class="comment">//  std::copy(from_vector.begin(), from_vector.end(), to_vector.begin());</span></span><br><span class="line"><span class="comment">// åŒæ ·åœ°,</span></span><br><span class="line"><span class="comment">//  std::vector&lt;int&gt; to_vector = from_vector;</span></span><br><span class="line"> </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;to_vector contains: &quot;</span>;</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">copy</span>(to_vector.<span class="built_in">begin</span>(), to_vector.<span class="built_in">end</span>(),</span><br><span class="line">              std::<span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(std::cout, <span class="string">&quot; &quot;</span>));</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;odd numbers in to_vector are: &quot;</span>;</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">copy_if</span>(to_vector.<span class="built_in">begin</span>(), to_vector.<span class="built_in">end</span>(),</span><br><span class="line">                 std::<span class="built_in">ostream_iterator</span>&lt;<span class="type">int</span>&gt;(std::cout, <span class="string">&quot; &quot;</span>),</span><br><span class="line">                 [](<span class="type">int</span> x) &#123; <span class="keyword">return</span> x % <span class="number">2</span> != <span class="number">0</span>; &#125;);</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;to_vector contains these multiples of 3: &quot;</span>;</span><br><span class="line"> </span><br><span class="line">    to_vector.<span class="built_in">clear</span>();</span><br><span class="line">    std::<span class="built_in">copy_if</span>(from_vector.<span class="built_in">begin</span>(), from_vector.<span class="built_in">end</span>(),</span><br><span class="line">                 std::<span class="built_in">back_inserter</span>(to_vector),</span><br><span class="line">                 [](<span class="type">int</span> x) &#123; <span class="keyword">return</span> x % <span class="number">3</span> == <span class="number">0</span>; &#125;);</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="type">int</span> x : to_vector)</span><br><span class="line">        std::cout &lt;&lt; x &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line">to_vector contains: <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br><span class="line">odd numbers in to_vector are: <span class="number">1</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span> <span class="number">9</span></span><br><span class="line">to_vector contains these multiples of <span class="number">3</span>: <span class="number">0</span> <span class="number">3</span> <span class="number">6</span> <span class="number">9</span></span><br></pre></td></tr></table></figure></li></ul><h5 id="replace-replace-if"><a href="#replace-replace-if" class="headerlink" title="replace,replace_if"></a>replace,replace_if</h5><ul><li>ç”¨æ³•:å°†å®¹å™¨å†…æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ æ›¿æ¢æˆæ–°å…ƒç´ </li></ul><blockquote><ul><li>first:å¼€å§‹çš„è¿­ä»£å™¨</li><li>last:ç»“æŸçš„è¿­ä»£å™¨</li><li>old_value:å¾…æ›¿æ¢çš„å€¼</li><li>p:åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ›¿æ¢æ¡ä»¶çš„å‡½æ•°</li><li>new_value:æ›¿æ¢åçš„å€¼</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">ForwardIt</span>,</span><br><span class="line">         <span class="keyword">class</span> <span class="title class_">T</span> = <span class="keyword">typename</span> std::iterator_traits&lt;ForwardIt&gt;::value_type&gt;</span><br><span class="line"><span class="type">void</span> <span class="built_in">replace</span>(ForwardIt first, ForwardIt last,</span><br><span class="line">             <span class="type">const</span> T&amp; old_value, <span class="type">const</span> T&amp; new_value)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first)</span><br><span class="line">        <span class="keyword">if</span> (*first == old_value)</span><br><span class="line">            *first = new_value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">ForwardIt</span>, <span class="keyword">class</span> <span class="title class_">UnaryPred</span>,</span><br><span class="line">         <span class="keyword">class</span> <span class="title class_">T</span> = <span class="keyword">typename</span> std::iterator_traits&lt;ForwardIt&gt;::value_type&gt;</span><br><span class="line"><span class="type">void</span> <span class="built_in">replace_if</span>(ForwardIt first, ForwardIt last,</span><br><span class="line">                UnaryPred p, <span class="type">const</span> T&amp; new_value)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first)</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">p</span>(*first))</span><br><span class="line">            *first = new_value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;complex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">println</span><span class="params">(<span class="type">const</span> <span class="keyword">auto</span>&amp; seq)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; e : seq)</span><br><span class="line">        std::cout &lt;&lt; e &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::array&lt;<span class="type">int</span>, 10&gt; s&#123;<span class="number">5</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">3</span>&#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// å°†æ‰€æœ‰çš„8æ›¿æ¢æˆ88</span></span><br><span class="line">    std::<span class="built_in">replace</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), <span class="number">8</span>, <span class="number">88</span>);</span><br><span class="line">    <span class="built_in">println</span>(s);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// å°†æ‰€æœ‰çš„5æ›¿æ¢æˆ55</span></span><br><span class="line">    std::<span class="built_in">replace_if</span>(s.<span class="built_in">begin</span>(), s.<span class="built_in">end</span>(), </span><br><span class="line">                    std::<span class="built_in">bind</span>(std::<span class="built_in">less</span>&lt;<span class="type">int</span>&gt;(), std::placeholders::_1, <span class="number">5</span>), <span class="number">55</span>);</span><br><span class="line">    <span class="built_in">println</span>(s);</span><br><span class="line"> </span><br><span class="line">    std::array&lt;std::complex&lt;<span class="type">double</span>&gt;, <span class="number">2</span>&gt; nums&#123;&#123;&#123;<span class="number">1</span>, <span class="number">3</span>&#125;, &#123;<span class="number">1</span>, <span class="number">3</span>&#125;&#125;&#125;;</span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> __cpp_lib_default_template_type_for_algorithm_values</span></span><br><span class="line">        std::<span class="built_in">replace</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), &#123;<span class="number">1</span>, <span class="number">3</span>&#125;, &#123;<span class="number">4</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    <span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">        std::<span class="built_in">replace</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), std::complex&lt;<span class="type">double</span>&gt;&#123;<span class="number">1</span>, <span class="number">3</span>&#125;,</span><br><span class="line">                                               std::complex&lt;<span class="type">double</span>&gt;&#123;<span class="number">4</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="built_in">println</span>(nums);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line"><span class="number">5</span> <span class="number">7</span> <span class="number">4</span> <span class="number">2</span> <span class="number">88</span> <span class="number">6</span> <span class="number">1</span> <span class="number">9</span> <span class="number">0</span> <span class="number">3</span></span><br><span class="line"><span class="number">5</span> <span class="number">7</span> <span class="number">55</span> <span class="number">55</span> <span class="number">88</span> <span class="number">6</span> <span class="number">55</span> <span class="number">9</span> <span class="number">55</span> <span class="number">55</span></span><br><span class="line">(<span class="number">4</span>,<span class="number">2</span>), (<span class="number">4</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure></li></ul><h5 id="swap"><a href="#swap" class="headerlink" title="swap"></a>swap</h5><ul><li>ç”¨æ³•:äº¤æ¢å…ƒç´ </li></ul><blockquote><ul><li>c1:å®¹å™¨A</li><li>c2:å®¹å™¨B</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(Container1 c1,Container c2)</span></span>;</span><br></pre></td></tr></table></figure></li><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">namespace</span> Ns</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">A</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> id &#123;&#125;;</span><br><span class="line"> </span><br><span class="line">        <span class="function"><span class="keyword">friend</span> <span class="type">void</span> <span class="title">swap</span><span class="params">(A&amp; lhs, A&amp; rhs)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;swap(&quot;</span> &lt;&lt; lhs &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; rhs &lt;&lt; <span class="string">&quot;)\n&quot;</span>;</span><br><span class="line">            std::<span class="built_in">swap</span>(lhs.id, rhs.id);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">friend</span> std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; os, A <span class="type">const</span>&amp; a)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> os &lt;&lt; <span class="string">&quot;A::id=&quot;</span> &lt;&lt; a.id;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">A</span>(<span class="type">int</span> i) : id &#123;i&#125; &#123;&#125;</span><br><span class="line">        <span class="built_in">A</span>(A <span class="type">const</span>&amp;) = <span class="keyword">delete</span>;</span><br><span class="line">        A&amp; <span class="keyword">operator</span> = (A <span class="type">const</span>&amp;) = <span class="keyword">delete</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">5</span>, b = <span class="number">3</span>;</span><br><span class="line">    std::cout &lt;&lt; a &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; b &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    std::<span class="built_in">swap</span>(a, b);</span><br><span class="line">    std::cout &lt;&lt; a &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; b &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"> </span><br><span class="line">    Ns::A p &#123;<span class="number">6</span>&#125;, q &#123;<span class="number">9</span>&#125;;</span><br><span class="line">    std::cout &lt;&lt; p &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; q &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line"><span class="comment">//  std::swap(p, q); // æ ‡å‡†åº“ä¸­æ²¡æœ‰ç›¸å…³å®ç°</span></span><br><span class="line">    <span class="built_in">swap</span>(p, q);      <span class="comment">// éœ€è¦è‡ªå®šä¹‰swapå‡½æ•°</span></span><br><span class="line">    std::cout &lt;&lt; p &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; q &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line"><span class="number">5</span> <span class="number">3</span></span><br><span class="line"><span class="number">3</span> <span class="number">5</span></span><br><span class="line">A::id=<span class="number">6</span> A::id=<span class="number">9</span></span><br><span class="line"><span class="built_in">swap</span>(A::id=<span class="number">6</span>, A::id=<span class="number">9</span>)</span><br><span class="line">A::id=<span class="number">9</span> A::id=<span class="number">6</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="ç®—æ•°ç”Ÿæˆç®—æ³•"><a href="#ç®—æ•°ç”Ÿæˆç®—æ³•" class="headerlink" title="ç®—æ•°ç”Ÿæˆç®—æ³•"></a>ç®—æ•°ç”Ÿæˆç®—æ³•</h3><p>æ‰€å±çš„å¤´æ–‡ä»¶å¹¶ä¸æ˜¯algorithmï¼Œè€Œæ˜¯æˆ‘ä»¬å¼€å¤´æåˆ°è¿‡çš„ numeric</p><h5 id="accumulate"><a href="#accumulate" class="headerlink" title="accumulate"></a>accumulate</h5><ul><li>ç”¨æ³•:è®¡ç®—ä¸€ä¸ªæŒ‡å®šåŒºé—´å†…çš„æ€»å’Œ</li></ul><blockquote><ul><li>first:å®¹å™¨A</li><li>last:å®¹å™¨B</li><li>init:åˆå§‹å€¼</li><li>op:è®¡ç®—å‡½æ•°</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">InputIt</span>, <span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="comment">// since C++20</span></span><br><span class="line"><span class="function">T <span class="title">accumulate</span><span class="params">(InputIt first, InputIt last, T init)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first)</span><br><span class="line">        init = std::<span class="built_in">move</span>(init) + *first; <span class="comment">// std::move since C++20</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> init;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">InputIt</span>, <span class="keyword">class</span> <span class="title class_">T</span>, <span class="keyword">class</span> <span class="title class_">BinaryOperation</span>&gt;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="comment">// since C++20</span></span><br><span class="line"><span class="function">T <span class="title">accumulate</span><span class="params">(InputIt first, InputIt last, T init, BinaryOperation op)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first)</span><br><span class="line">        init = <span class="built_in">op</span>(std::<span class="built_in">move</span>(init), *first); <span class="comment">// std::move since C++20</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> init;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="type">int</span> sum = std::<span class="built_in">accumulate</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> product = std::<span class="built_in">accumulate</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">1</span>, std::<span class="built_in">multiplies</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// ä»å·¦å¼€å§‹,ä»¥&quot;-&quot;é“¾æ¥èµ·æ¥</span></span><br><span class="line">    <span class="keyword">auto</span> dash_fold = [](std::string a, <span class="type">int</span> b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> std::<span class="built_in">move</span>(a) + <span class="string">&#x27;-&#x27;</span> + std::<span class="built_in">to_string</span>(b);</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    std::string s = std::<span class="built_in">accumulate</span>(std::<span class="built_in">next</span>(v.<span class="built_in">begin</span>()), v.<span class="built_in">end</span>(),</span><br><span class="line">                                    std::<span class="built_in">to_string</span>(v[<span class="number">0</span>]), <span class="comment">// ä»ç¬¬ä¸€ä¸ªå¼€å§‹</span></span><br><span class="line">                                    dash_fold);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// ä»å³å¼€å§‹,ä½¿ç”¨åå‘è¿­ä»£å™¨</span></span><br><span class="line">    std::string rs = std::<span class="built_in">accumulate</span>(std::<span class="built_in">next</span>(v.<span class="built_in">rbegin</span>()), v.<span class="built_in">rend</span>(),</span><br><span class="line">                                     std::<span class="built_in">to_string</span>(v.<span class="built_in">back</span>()), <span class="comment">// ä»æœ€åä¸€ä¸ªå¼€å§‹</span></span><br><span class="line">                                     dash_fold);</span><br><span class="line"> </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;sum: &quot;</span> &lt;&lt; sum &lt;&lt; <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">              &lt;&lt; <span class="string">&quot;product: &quot;</span> &lt;&lt; product &lt;&lt; <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">              &lt;&lt; <span class="string">&quot;dash-separated string: &quot;</span> &lt;&lt; s &lt;&lt; <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">              &lt;&lt; <span class="string">&quot;dash-separated string (right-folded): &quot;</span> &lt;&lt; rs &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line">sum: <span class="number">55</span></span><br><span class="line">product: <span class="number">3628800</span></span><br><span class="line">dash-separated string: <span class="number">1</span><span class="number">-2</span><span class="number">-3</span><span class="number">-4</span><span class="number">-5</span><span class="number">-6</span><span class="number">-7</span><span class="number">-8</span><span class="number">-9</span><span class="number">-10</span></span><br><span class="line">dash-<span class="function">separated <span class="title">string</span> <span class="params">(right-folded)</span>: <span class="number">10</span><span class="number">-9</span><span class="number">-8</span><span class="number">-7</span><span class="number">-6</span><span class="number">-5</span><span class="number">-4</span><span class="number">-3</span><span class="number">-2</span><span class="number">-1</span></span></span><br></pre></td></tr></table></figure></li></ul><h5 id="fill"><a href="#fill" class="headerlink" title="fill"></a>fill</h5><ul><li>ç”¨æ³•:å‘å®¹å™¨ä¸­å¡«å……æŒ‡å®šçš„å…ƒç´ </li></ul><blockquote><ul><li>first:å¼€å§‹çš„è¿­ä»£å™¨</li><li>last:ç»“æŸçš„è¿­ä»£å™¨</li><li>value:å¡«å……çš„å€¼</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">ForwardIt</span>,</span><br><span class="line">         <span class="keyword">class</span> <span class="title class_">T</span> = <span class="keyword">typename</span> std::iterator_traits&lt;ForwardIt&gt;::value_type&gt;</span><br><span class="line"><span class="type">void</span> <span class="built_in">fill</span>(ForwardIt first, ForwardIt last, <span class="type">const</span> T&amp; value)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first != last; ++first)</span><br><span class="line">        *first = value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li>ä¾‹å­:<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;complex&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">println</span><span class="params">(<span class="type">const</span> <span class="keyword">auto</span>&amp; seq)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; e : seq)</span><br><span class="line">        std::cout &lt;&lt; e &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;;</span><br><span class="line">    <span class="built_in">println</span>(v);</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// æŠŠæ‰€æœ‰çš„å…ƒç´ è®¾ç½®æˆ8</span></span><br><span class="line">    std::<span class="built_in">fill</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), <span class="number">8</span>);</span><br><span class="line">    <span class="built_in">println</span>(v);</span><br><span class="line"> </span><br><span class="line">    std::vector&lt;std::complex&lt;<span class="type">double</span>&gt;&gt; nums&#123;&#123;<span class="number">1</span>, <span class="number">3</span>&#125;, &#123;<span class="number">2</span>, <span class="number">2</span>&#125;, &#123;<span class="number">4</span>, <span class="number">8</span>&#125;&#125;;</span><br><span class="line">    <span class="built_in">println</span>(nums);</span><br><span class="line">    <span class="meta">#<span class="keyword">ifdef</span> __cpp_lib_default_template_type_for_algorithm_values</span></span><br><span class="line">        std::<span class="built_in">fill</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), &#123;<span class="number">4</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    <span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">        std::<span class="built_in">fill</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">end</span>(), std::complex&lt;<span class="type">double</span>&gt;&#123;<span class="number">4</span>, <span class="number">2</span>&#125;);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="built_in">println</span>(nums);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span></span><br><span class="line"><span class="number">8</span> <span class="number">8</span> <span class="number">8</span> <span class="number">8</span> <span class="number">8</span> <span class="number">8</span> <span class="number">8</span> <span class="number">8</span> <span class="number">8</span></span><br><span class="line">(<span class="number">1</span>,<span class="number">3</span>) (<span class="number">2</span>,<span class="number">2</span>) (<span class="number">4</span>,<span class="number">8</span>) </span><br><span class="line">(<span class="number">4</span>,<span class="number">2</span>) (<span class="number">4</span>,<span class="number">2</span>) (<span class="number">4</span>,<span class="number">2</span>)</span><br></pre></td></tr></table></figure></li></ul><h3 id="é›†åˆç®—æ³•"><a href="#é›†åˆç®—æ³•" class="headerlink" title="é›†åˆç®—æ³•"></a>é›†åˆç®—æ³•</h3><h5 id="set-intersection-set-union-set-difference"><a href="#set-intersection-set-union-set-difference" class="headerlink" title="set_intersection,set_union,set_difference"></a>set_intersection,set_union,set_difference</h5><ul><li>ç”¨æ³•:æ±‚ä¸¤ä¸ªå®¹å™¨ä¸­å…ƒç´ çš„äº¤é›†,å¹¶é›†,å·®é›†</li></ul><blockquote><ul><li>first1:å®¹å™¨Aå¼€å§‹è¿­ä»£å™¨</li><li>last1:å®¹å™¨Aç»“æŸè¿­ä»£å™¨</li><li>first2:å®¹å™¨Bå¼€å§‹è¿­ä»£å™¨</li><li>last2:å®¹å™¨Bç»“æŸè¿­ä»£å™¨</li><li>d_first:ç›®æ ‡å®¹å™¨è¿­ä»£å™¨</li><li>comp:æ¯”è¾ƒçš„å‡½æ•°</li></ul></blockquote><ul><li>å¯èƒ½çš„å®ç°:</li></ul><p>set_intersection</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt1, <span class="keyword">class</span> InputIt2, <span class="keyword">class</span> OutputIt&gt;</span></span><br><span class="line"><span class="function">OutputIt <span class="title">set_intersection</span><span class="params">(InputIt1 first1, InputIt1 last1,</span></span></span><br><span class="line"><span class="params"><span class="function">                          InputIt2 first2, InputIt2 last2, OutputIt d_first)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (first1 != last1 &amp;&amp; first2 != last2)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (*first1 &lt; *first2)</span><br><span class="line">            ++first1;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!(*first2 &lt; *first1))</span><br><span class="line">                *d_first++ = *first1++; <span class="comment">// *first1 and *first2 are equivalent.</span></span><br><span class="line">            ++first2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> d_first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt1, <span class="keyword">class</span> InputIt2, <span class="keyword">class</span> OutputIt, <span class="keyword">class</span> Compare&gt;</span></span><br><span class="line"><span class="function">OutputIt <span class="title">set_intersection</span><span class="params">(InputIt1 first1, InputIt1 last1,</span></span></span><br><span class="line"><span class="params"><span class="function">                          InputIt2 first2, InputIt2 last2, OutputIt d_first, Compare comp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (first1 != last1 &amp;&amp; first2 != last2)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">comp</span>(*first1, *first2))</span><br><span class="line">            ++first1;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">comp</span>(*first2, *first1))</span><br><span class="line">                *d_first++ = *first1++; <span class="comment">// *first1 and *first2 are equivalent.</span></span><br><span class="line">            ++first2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> d_first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>set_union</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt1, <span class="keyword">class</span> InputIt2, <span class="keyword">class</span> OutputIt&gt;</span></span><br><span class="line"><span class="function">OutputIt <span class="title">set_union</span><span class="params">(InputIt1 first1, InputIt1 last1,</span></span></span><br><span class="line"><span class="params"><span class="function">                   InputIt2 first2, InputIt2 last2, OutputIt d_first)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first1 != last1; ++d_first)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (first2 == last2)</span><br><span class="line">            <span class="keyword">return</span> std::<span class="built_in">copy</span>(first1, last1, d_first);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (*first2 &lt; *first1)</span><br><span class="line">            *d_first = *first2++;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            *d_first = *first1;</span><br><span class="line">            <span class="keyword">if</span> (!(*first1 &lt; *first2))</span><br><span class="line">                ++first2;</span><br><span class="line">            ++first1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> std::<span class="built_in">copy</span>(first2, last2, d_first);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt1, <span class="keyword">class</span> InputIt2, <span class="keyword">class</span> OutputIt, <span class="keyword">class</span> Compare&gt;</span></span><br><span class="line"><span class="function">OutputIt <span class="title">set_union</span><span class="params">(InputIt1 first1, InputIt1 last1,</span></span></span><br><span class="line"><span class="params"><span class="function">                   InputIt2 first2, InputIt2 last2, OutputIt d_first, Compare comp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (; first1 != last1; ++d_first)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (first2 == last2)</span><br><span class="line">            <span class="comment">// Finished range 2, include the rest of range 1:</span></span><br><span class="line">            <span class="keyword">return</span> std::<span class="built_in">copy</span>(first1, last1, d_first);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">comp</span>(*first2, *first1))</span><br><span class="line">            *d_first = *first2++;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            *d_first = *first1;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">comp</span>(*first1, *first2)) <span class="comment">// Equivalent =&gt; don&#x27;t need to include *first2.</span></span><br><span class="line">                ++first2;</span><br><span class="line">            ++first1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Finished range 1, include the rest of range 2:</span></span><br><span class="line">    <span class="keyword">return</span> std::<span class="built_in">copy</span>(first2, last2, d_first);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>set_difference</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt1, <span class="keyword">class</span> InputIt2, <span class="keyword">class</span> OutputIt&gt;</span></span><br><span class="line"><span class="function">OutputIt <span class="title">set_difference</span><span class="params">(InputIt1 first1, InputIt1 last1,</span></span></span><br><span class="line"><span class="params"><span class="function">                        InputIt2 first2, InputIt2 last2, OutputIt d_first)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (first1 != last1)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (first2 == last2)</span><br><span class="line">            <span class="keyword">return</span> std::<span class="built_in">copy</span>(first1, last1, d_first);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (*first1 &lt; *first2)</span><br><span class="line">            *d_first++ = *first1++;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (! (*first2 &lt; *first1))</span><br><span class="line">                ++first1;</span><br><span class="line">            ++first2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> d_first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> InputIt1, <span class="keyword">class</span> InputIt2, <span class="keyword">class</span> OutputIt, <span class="keyword">class</span> Compare&gt;</span></span><br><span class="line"><span class="function">OutputIt <span class="title">set_difference</span><span class="params">(InputIt1 first1, InputIt1 last1,</span></span></span><br><span class="line"><span class="params"><span class="function">                        InputIt2 first2, InputIt2 last2, OutputIt d_first, Compare comp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (first1 != last1)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (first2 == last2)</span><br><span class="line">            <span class="keyword">return</span> std::<span class="built_in">copy</span>(first1, last1, d_first);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">comp</span>(*first1, *first2))</span><br><span class="line">            *d_first++ = *first1++;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">comp</span>(*first2, *first1))</span><br><span class="line">                ++first1;</span><br><span class="line">            ++first2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> d_first;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¾‹å­:</li></ul><p>set_intersection</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v1&#123;<span class="number">7</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v2&#123;<span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">7</span>&#125;;</span><br><span class="line">    std::<span class="built_in">sort</span>(v<span class="number">1.</span><span class="built_in">begin</span>(), v<span class="number">1.</span><span class="built_in">end</span>());</span><br><span class="line">    std::<span class="built_in">sort</span>(v<span class="number">2.</span><span class="built_in">begin</span>(), v<span class="number">2.</span><span class="built_in">end</span>());</span><br><span class="line"> </span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v_intersection;</span><br><span class="line">    std::<span class="built_in">set_intersection</span>(v<span class="number">1.</span><span class="built_in">begin</span>(), v<span class="number">1.</span><span class="built_in">end</span>(), v<span class="number">2.</span><span class="built_in">begin</span>(), v<span class="number">2.</span><span class="built_in">end</span>(),</span><br><span class="line">                          std::<span class="built_in">back_inserter</span>(v_intersection));</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> n : v_intersection)</span><br><span class="line">        std::cout &lt;&lt; n &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line"><span class="number">5</span> <span class="number">7</span> <span class="number">7</span></span><br></pre></td></tr></table></figure><p>set_union</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">println</span><span class="params">(<span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt;&amp; v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i : v)</span><br><span class="line">        std::cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v1, v2, dest;</span><br><span class="line"> </span><br><span class="line">    v1 = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    v2 = &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125;;</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">set_union</span>(v<span class="number">1.</span><span class="built_in">cbegin</span>(), v<span class="number">1.</span><span class="built_in">cend</span>(),</span><br><span class="line">                   v<span class="number">2.</span><span class="built_in">cbegin</span>(), v<span class="number">2.</span><span class="built_in">cend</span>(),</span><br><span class="line">                   std::<span class="built_in">back_inserter</span>(dest));</span><br><span class="line">    <span class="built_in">println</span>(dest);</span><br><span class="line"> </span><br><span class="line">    dest.<span class="built_in">clear</span>();</span><br><span class="line"> </span><br><span class="line">    v1 = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    v2 = &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125;;</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">set_union</span>(v<span class="number">1.</span><span class="built_in">cbegin</span>(), v<span class="number">1.</span><span class="built_in">cend</span>(),</span><br><span class="line">                   v<span class="number">2.</span><span class="built_in">cbegin</span>(), v<span class="number">2.</span><span class="built_in">cend</span>(),</span><br><span class="line">                   std::<span class="built_in">back_inserter</span>(dest));</span><br><span class="line">    <span class="built_in">println</span>(dest);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> </span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">5</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span></span><br></pre></td></tr></table></figure><p>set_intersection</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; os, <span class="type">const</span> std::vector&lt;T&gt;&amp; v)</span><br><span class="line">&#123;</span><br><span class="line">    os &lt;&lt; <span class="string">&#x27;&#123;&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> n&#123;v.<span class="built_in">size</span>()&#125;; <span class="type">const</span> <span class="keyword">auto</span>&amp; e : v)</span><br><span class="line">        os &lt;&lt; e &lt;&lt; (--n ? <span class="string">&quot;, &quot;</span> : <span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> os &lt;&lt; <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Order</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> order_id&#123;&#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">friend</span> std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; os, <span class="type">const</span> Order&amp; ord)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> os &lt;&lt; ord.order_id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt; v1&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">9</span>&#125;;</span><br><span class="line">    <span class="type">const</span> std::vector&lt;<span class="type">int</span>&gt; v2&#123;<span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>&#125;;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; diff;</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">set_difference</span>(v<span class="number">1.</span><span class="built_in">begin</span>(), v<span class="number">1.</span><span class="built_in">end</span>(), v<span class="number">2.</span><span class="built_in">begin</span>(), v<span class="number">2.</span><span class="built_in">end</span>(),</span><br><span class="line">                        std::<span class="built_in">inserter</span>(diff, diff.<span class="built_in">begin</span>()));</span><br><span class="line"> </span><br><span class="line">    std::cout &lt;&lt; v1 &lt;&lt; <span class="string">&quot; âˆ– &quot;</span> &lt;&lt; v2 &lt;&lt; <span class="string">&quot; == &quot;</span> &lt;&lt; diff &lt;&lt; <span class="string">&quot;\n\n&quot;</span>;</span><br><span class="line"></span><br><span class="line">    std::vector&lt;Order&gt; old_orders&#123;&#123;<span class="number">1</span>&#125;, &#123;<span class="number">2</span>&#125;, &#123;<span class="number">5</span>&#125;, &#123;<span class="number">9</span>&#125;&#125;;</span><br><span class="line">    std::vector&lt;Order&gt; new_orders&#123;&#123;<span class="number">2</span>&#125;, &#123;<span class="number">5</span>&#125;, &#123;<span class="number">7</span>&#125;&#125;;</span><br><span class="line">    std::vector&lt;Order&gt; cut_orders;</span><br><span class="line"> </span><br><span class="line">    std::<span class="built_in">set_difference</span>(old_orders.<span class="built_in">begin</span>(), old_orders.<span class="built_in">end</span>(),</span><br><span class="line">                        new_orders.<span class="built_in">begin</span>(), new_orders.<span class="built_in">end</span>(),</span><br><span class="line">                        std::<span class="built_in">back_inserter</span>(cut_orders),</span><br><span class="line">                        [](<span class="keyword">auto</span>&amp; a, <span class="keyword">auto</span>&amp; b) &#123; <span class="keyword">return</span> a.order_id &lt; b.order_id; &#125;);</span><br><span class="line"> </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;old orders: &quot;</span> &lt;&lt; old_orders &lt;&lt; <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">              &lt;&lt; <span class="string">&quot;new orders: &quot;</span> &lt;&lt; new_orders &lt;&lt; <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">              &lt;&lt; <span class="string">&quot;cut orders: &quot;</span> &lt;&lt; cut_orders &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾“å‡º</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">9</span>&#125; âˆ– &#123;<span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>&#125; == &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">9</span>&#125;</span><br><span class="line"> </span><br><span class="line">old orders: &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">9</span>&#125;</span><br><span class="line"><span class="keyword">new</span> orders: &#123;<span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>&#125;</span><br><span class="line">cut orders: &#123;<span class="number">1</span>, <span class="number">9</span>&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
          <category> C++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€ä¸ªç®€å•ä»‹ç»ä½¿ç”¨Docker</title>
      <link href="/posts/2be4c85d.html"/>
      <url>/posts/2be4c85d.html</url>
      
        <content type="html"><![CDATA[<h1 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h1><p><a href="https://zh.wikipedia.org/zh-cn/Docker">Dockeræ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„å¼€æ”¾å¹³å°è½¯ä»¶ï¼Œç”¨äºå¼€å‘åº”ç”¨ã€äº¤ä»˜ï¼ˆshippingï¼‰åº”ç”¨å’Œè¿è¡Œåº”ç”¨ã€‚Dockerå…è®¸ç”¨æˆ·å°†åŸºç¡€è®¾æ–½ï¼ˆInfrastructureï¼‰ä¸­çš„åº”ç”¨å•ç‹¬åˆ†å‰²å‡ºæ¥ï¼Œå½¢æˆæ›´å°çš„é¢—ç²’ï¼ˆå®¹å™¨ï¼‰ï¼Œä»è€Œæé«˜äº¤ä»˜è½¯ä»¶çš„é€Ÿåº¦ã€‚</a></p><h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><hr><h5 id="For-Ubuntu"><a href="#For-Ubuntu" class="headerlink" title="For Ubuntu"></a><a href="https://docs.docker.com/engine/install/ubuntu/">For Ubuntu</a></h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°±è¿™ä¸€ä¸ªå‘½ä»¤å°±å¯ä»¥äº†</span></span><br><span class="line"><span class="built_in">sudo</span> apt install docker.io</span><br></pre></td></tr></table></figure><p>é¦–å…ˆæ¸…é™¤åŸæœ‰çš„docker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> pkg <span class="keyword">in</span> docker.io docker-doc docker-compose docker-compose-v2 podman-docker containerd runc; <span class="keyword">do</span> <span class="built_in">sudo</span> apt-get remove <span class="variable">$pkg</span>; <span class="keyword">done</span></span><br></pre></td></tr></table></figure><p>æ›´æ–°åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get update</span><br><span class="line"><span class="built_in">sudo</span> apt-get install ca-certificates curl</span><br><span class="line"><span class="built_in">sudo</span> install -m 0755 -d /etc/apt/keyrings</span><br><span class="line"><span class="built_in">sudo</span> curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">chmod</span> a+r /etc/apt/keyrings/docker.asc</span><br><span class="line"></span><br><span class="line"><span class="comment"># Add the repository to Apt sources:</span></span><br><span class="line"><span class="built_in">echo</span> \</span><br><span class="line">  <span class="string">&quot;deb [arch=<span class="subst">$(dpkg --print-architecture)</span> signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \</span></span><br><span class="line"><span class="string">  <span class="subst">$(. /etc/os-release &amp;&amp; echo <span class="string">&quot;<span class="variable">$VERSION_CODENAME</span>&quot;</span>)</span> stable&quot;</span> | \</span><br><span class="line">  <span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br><span class="line"><span class="built_in">sudo</span> apt-get update</span><br></pre></td></tr></table></figure><p>å®‰è£…docker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></pre></td></tr></table></figure><p>è¿è¡Œç¤ºä¾‹ç¨‹åº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker run hello-world</span><br></pre></td></tr></table></figure><hr><h5 id="For-CentOS"><a href="#For-CentOS" class="headerlink" title="For CentOS"></a><a href="https://docs.docker.com/engine/install/centos/">For CentOS</a></h5><p>é¦–å…ˆæ¸…é™¤åŸæœ‰çš„docker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure><p>æ›´æ–°åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install -y yum-utils</span><br><span class="line"><span class="comment"># å®˜æ–¹</span></span><br><span class="line"><span class="built_in">sudo</span> yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line"><span class="comment"># é˜¿é‡Œäº‘</span></span><br><span class="line"><span class="built_in">sudo</span> yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure><p>å®‰è£…docker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></pre></td></tr></table></figure><p>è¿è¡Œdocker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl start docker</span><br></pre></td></tr></table></figure><p>å¼€æœºè‡ªå¯åŠ¨docker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></table></figure><p>é…ç½®åŠ é€Ÿ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> -p /etc/docker</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/docker/daemon.json &lt;&lt;- <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;registry-mirrors&quot;</span>:[<span class="string">&quot;https://mirror.ccs.tencentyun.com&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">&#x27;EOF&#x27;</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl daemon-reload</span><br><span class="line"><span class="built_in">sudo</span> systemctl restart docker</span><br></pre></td></tr></table></figure><p>å¸è½½docker</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> yum remove docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin docker-ce-rootless-extras</span><br><span class="line"></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> -rf /var/lib/docker</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> -rf /var/lib/containerd</span><br></pre></td></tr></table></figure><hr><h3 id="Docker-å®¹å™¨"><a href="#Docker-å®¹å™¨" class="headerlink" title="Docker å®¹å™¨"></a>Docker å®¹å™¨</h3><p><a href="https://hub.docker.com/">Docker Hub å®˜ç½‘</a></p><h3 id="Docker-å‘½ä»¤"><a href="#Docker-å‘½ä»¤" class="headerlink" title="Docker å‘½ä»¤"></a>Docker å‘½ä»¤</h3><h4 id="æŸ¥çœ‹"><a href="#æŸ¥çœ‹" class="headerlink" title="æŸ¥çœ‹"></a>æŸ¥çœ‹</h4><h5 id="docker-ps"><a href="#docker-ps" class="headerlink" title="docker ps"></a>docker ps</h5><p>æŸ¥çœ‹è¿è¡Œçš„dockerå®¹å™¨</p><h5 id="docker-ps-a"><a href="#docker-ps-a" class="headerlink" title="docker ps -a"></a>docker ps -a</h5><p>æŸ¥çœ‹æ‰€æœ‰çš„dockerå®¹å™¨</p><h5 id="docker-container-inspect-container-name-container-id"><a href="#docker-container-inspect-container-name-container-id" class="headerlink" title="docker container inspect container_name&#x2F;container_id"></a>docker container inspect container_name&#x2F;container_id</h5><p>æŸ¥çœ‹å®¹å™¨çš„ä¿¡æ¯ï¼Œå¦‚ç½‘å…³</p><h4 id="ä¸‹è½½é•œåƒ"><a href="#ä¸‹è½½é•œåƒ" class="headerlink" title="ä¸‹è½½é•œåƒ"></a>ä¸‹è½½é•œåƒ</h4><h5 id="docker-search-mirror-tag"><a href="#docker-search-mirror-tag" class="headerlink" title="docker search mirror:tag"></a>docker search mirror:tag</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker search nginx</span><br></pre></td></tr></table></figure><h5 id="docker-pull-mirror-tag"><a href="#docker-pull-mirror-tag" class="headerlink" title="docker pull mirror:tag"></a>docker pull mirror:tag</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é»˜è®¤lates</span></span><br><span class="line"><span class="built_in">sudo</span> docker pull nginx</span><br></pre></td></tr></table></figure><h5 id="docker-images"><a href="#docker-images" class="headerlink" title="docker images"></a>docker images</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker images</span><br></pre></td></tr></table></figure><h5 id="docker-rmi-mirror-name-mirror-id"><a href="#docker-rmi-mirror-name-mirror-id" class="headerlink" title="docker rmi mirror_name&#x2F;mirror_id"></a>docker rmi mirror_name&#x2F;mirror_id</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker rmi e7</span><br></pre></td></tr></table></figure><h4 id="å¯åŠ¨å®¹å™¨"><a href="#å¯åŠ¨å®¹å™¨" class="headerlink" title="å¯åŠ¨å®¹å™¨"></a>å¯åŠ¨å®¹å™¨</h4><h5 id="docker-run-option-mirror-name-mirror-id"><a href="#docker-run-option-mirror-name-mirror-id" class="headerlink" title="docker run option mirror_name&#x2F;mirror_id"></a>docker run option mirror_name&#x2F;mirror_id</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker run -d --name my_container -p 80:80 -v /home/lnpbqc/html:/usr/share/nginx/html nginx</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨ -d è¡¨ç¤ºåå°</p></blockquote><blockquote><p>ä½¿ç”¨ -p è¡¨ç¤ºä½¿ç”¨ç«¯å£æ˜ å°„ï¼Œæœ¬æœºç«¯å£ï¼šå®¹å™¨ç«¯å£</p></blockquote><blockquote><p>ä½¿ç”¨ â€“name æ¥è®¾ç½®å®¹å™¨å</p></blockquote><blockquote><p>ä½¿ç”¨ -v æ¥å®ç°ç›®å½•æŒ‚è½½ æœ¬ä¸»æœºç›®å½• åˆ° ç›®çš„å®¹å™¨ç›®å½•</p></blockquote><h5 id="docker-exec-option-container-name-container-id-environ"><a href="#docker-exec-option-container-name-container-id-environ" class="headerlink" title="docker exec option container_name&#x2F;container_id environ"></a>docker exec option container_name&#x2F;container_id environ</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker <span class="built_in">exec</span> -it my_container /bin/bash</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨ -it è¡¨ç¤ºä»¥äº¤äº’æ¨¡å¼è¿›å…¥</p></blockquote><blockquote><p>ä»¥ bash è¿›è¡Œå®¹å™¨äº¤äº’</p></blockquote><h5 id="docker-rm-option-container-name-container-id"><a href="#docker-rm-option-container-name-container-id" class="headerlink" title="docker rm option container_name&#x2F;container_id"></a>docker rm option container_name&#x2F;container_id</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker <span class="built_in">rm</span> 592</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨ -f å¯ä»¥å¼ºåˆ¶åˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨</p></blockquote><h5 id="docker-stop-container-name-container-id"><a href="#docker-stop-container-name-container-id" class="headerlink" title="docker stop container_name&#x2F;container_id"></a>docker stop container_name&#x2F;container_id</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker stop 592</span><br></pre></td></tr></table></figure><h5 id="docker-start-container-name-container-id"><a href="#docker-start-container-name-container-id" class="headerlink" title="docker start container_name&#x2F;container_id"></a>docker start container_name&#x2F;container_id</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker start 592</span><br></pre></td></tr></table></figure><h5 id="docker-restart-container-name-container-id"><a href="#docker-restart-container-name-container-id" class="headerlink" title="docker restart container_name&#x2F;container_id"></a>docker restart container_name&#x2F;container_id</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker restart 592</span><br></pre></td></tr></table></figure><h5 id="docker-stats-container-name-container-id"><a href="#docker-stats-container-name-container-id" class="headerlink" title="docker stats container_name&#x2F;container_id"></a>docker stats container_name&#x2F;container_id</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker stats 592</span><br></pre></td></tr></table></figure><h5 id="docker-logs-container-name-container-id"><a href="#docker-logs-container-name-container-id" class="headerlink" title="docker logs container_name&#x2F;container_id"></a>docker logs container_name&#x2F;container_id</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker logs 592</span><br></pre></td></tr></table></figure><h4 id="ä¿å­˜é•œåƒ"><a href="#ä¿å­˜é•œåƒ" class="headerlink" title="ä¿å­˜é•œåƒ"></a>ä¿å­˜é•œåƒ</h4><h5 id="docker-commit-option-container-name-container-id-mirror-tag"><a href="#docker-commit-option-container-name-container-id-mirror-tag" class="headerlink" title="docker commit option container_name&#x2F;container_id mirror:tag"></a>docker commit option container_name&#x2F;container_id mirror:tag</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker commit -a lnpbqc -m <span class="string">&quot;message&quot;</span> -p <span class="literal">true</span> mynginx mynginx:latest</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨ -a æŒ‡å®šä½œè€…</p></blockquote><blockquote><p>ä½¿ç”¨ -m æ·»åŠ ä¿¡æ¯</p></blockquote><blockquote><p>ä½¿ç”¨ -p è®©æäº¤æ—¶åœæ­¢å®¹å™¨ï¼ˆé»˜è®¤ä¸ºtrueï¼‰</p></blockquote><h5 id="docker-save-option-mirror-tag"><a href="#docker-save-option-mirror-tag" class="headerlink" title="docker save option mirror:tag"></a>docker save option mirror:tag</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker save -o mynginx.tar mynginx:latest </span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨ -o æŒ‡å®šç”Ÿæˆæ–‡ä»¶å</p></blockquote><h5 id="docker-load-option"><a href="#docker-load-option" class="headerlink" title="docker load option"></a>docker load option</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker -i mynginx.tar</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨ -i æŒ‡å®šåŠ è½½é•œåƒæ–‡ä»¶</p></blockquote><h4 id="åˆ†äº«"><a href="#åˆ†äº«" class="headerlink" title="åˆ†äº«"></a>åˆ†äº«</h4><h5 id="docker-login"><a href="#docker-login" class="headerlink" title="docker login"></a>docker login</h5><p>é¦–å…ˆè¦æœ‰dockerhubç½‘ç«™è´¦å·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker login</span><br><span class="line"><span class="comment"># ç„¶åè¾“å…¥ç”¨æˆ·åå’Œå¯†ç å³å¯</span></span><br></pre></td></tr></table></figure><h5 id="docker-tag-sourcee-mirror-tag-target-mirror-tag"><a href="#docker-tag-sourcee-mirror-tag-target-mirror-tag" class="headerlink" title="docker tag sourcee_mirror:tag target_mirror:tag"></a>docker tag sourcee_mirror:tag target_mirror:tag</h5><p>å› ä¸ºdockerhubä¸Šçš„é•œåƒåéœ€è¦æ˜¯ç”¨æˆ·ååŠ åŸæ¥é•œåƒ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker tag mynginx:latest lnpbqc/mynginx:latest</span><br></pre></td></tr></table></figure><h5 id="docker-push-mirror-mirror-id-tag"><a href="#docker-push-mirror-mirror-id-tag" class="headerlink" title="docker push mirror&#x2F;mirror_id:tag"></a>docker push mirror&#x2F;mirror_id:tag</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker push lnpbqc/mynginx:latest</span><br></pre></td></tr></table></figure><h4 id="å­˜å‚¨"><a href="#å­˜å‚¨" class="headerlink" title="å­˜å‚¨"></a>å­˜å‚¨</h4><h5 id="ç›®å½•æŒ‚è½½å¯è§å‰é¢çš„-docker-run"><a href="#ç›®å½•æŒ‚è½½å¯è§å‰é¢çš„-docker-run" class="headerlink" title="ç›®å½•æŒ‚è½½å¯è§å‰é¢çš„ docker run"></a>ç›®å½•æŒ‚è½½å¯è§å‰é¢çš„ docker run</h5><p>::: info<br>é€šè¿‡ç›®å½•æŒ‚è½½åï¼Œä¸ç®¡æ˜¯ä¿®æ”¹å¤–é¢ç›®å½•è¿˜æ˜¯å®¹å™¨å†…çš„ç›®å½•éƒ½ä¼šç›¸äº’å½±å“çš„<br>:::</p><h5 id="å·æ˜ å°„"><a href="#å·æ˜ å°„" class="headerlink" title="å·æ˜ å°„"></a>å·æ˜ å°„</h5><p>ä¸åŒäºä¸Šé¢çš„ç›®å½•æŒ‚è½½ï¼Œå› ä¸ºä¸Šé¢é‚£æ ·æŒ‚è½½ä¸ä¼šåˆ›å»ºæ–‡ä»¶ï¼Œåªæ˜¯ä¼šæœ‰ä¸€ä¸ªè¿™æ ·çš„æ–‡ä»¶ç›®å½•ã€‚<br>å¦‚æœæ˜ å°„é…ç½®æ–‡ä»¶ï¼Œåœ¨æŒ‚è½½çš„æ—¶å€™æ²¡æœ‰ï¼Œåˆ™å®¹å™¨è¿è¡Œçš„æ—¶å€™ä¼šå› ä¸ºæ²¡æœ‰é…ç½®æ–‡ä»¶è€Œé€€å‡ºã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker run -d -v ngconf:/etc/nginx --name mynginx nginx</span><br></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªçš„ -v åé¢è·Ÿä¸€ä¸ªå·å ngconfï¼Œå®ƒä½äº &#x2F;var&#x2F;lib&#x2F;docker&#x2F;volumes&#x2F;&lt;å·å&gt;</p></blockquote><p>ä½¿ç”¨ä»¥ä¸‹æ–¹å¼ç®¡ç†å·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹</span></span><br><span class="line"><span class="built_in">sudo</span> docker volume <span class="built_in">ls</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»º</span></span><br><span class="line"><span class="built_in">sudo</span> docker volume create å·å</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°å·çš„ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">sudo</span> docker volume inspect å·å</span><br></pre></td></tr></table></figure><h4 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h4><h5 id="è‡ªå®šä¹‰ç½‘ç»œ"><a href="#è‡ªå®šä¹‰ç½‘ç»œ" class="headerlink" title="è‡ªå®šä¹‰ç½‘ç»œ"></a>è‡ªå®šä¹‰ç½‘ç»œ</h5><ul><li>dockeråœ¨åˆ›å»ºå®¹å™¨çš„æ—¶å€™ä¸ºæ¯ä¸ªå®¹å™¨åˆ†é…ä¸€ä¸ªipï¼ŒåŠ å…¥é»˜è®¤çš„ç½‘å…³ docker0 ï¼Œä½¿ç”¨ å®¹å™¨ip+å®¹å™¨ç«¯å£ å³å¯äº’ç›¸è®¿é—®</li><li>docker0 æ˜¯ç½‘ç»œ bridge</li></ul><p>å› ä¸ºipå¯èƒ½ä¼šå˜åŒ–ï¼Œå› ä¸ºéœ€è¦åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œï¼Œè€Œå®¹å™¨åå°±æ˜¯ç¨³å®šçš„åŸŸå</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºç½‘ç»œ</span></span><br><span class="line"><span class="built_in">sudo</span> docker network create mynet</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®¹å™¨ä»¥æŒ‡å®šç½‘ç»œåˆ›å»º</span></span><br><span class="line"><span class="built_in">sudo</span> docker run -d --name app1 --network mynet nginx</span><br></pre></td></tr></table></figure><p>åœ¨å®¹å™¨å†…å°±å¯ä»¥ä»¥å®¹å™¨åå¯¹åŒä¸€ä¸ªç½‘ç»œä¸‹çš„å¦ä¸€å®¹å™¨è®¿é—®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> docker <span class="built_in">exec</span> -it app1 bash</span><br><span class="line">curl http://app2:80</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯éƒ¨åˆ†åŠŸèƒ½çš„äºŒæ¬¡å°è£…</title>
      <link href="/posts/b6cfa71d.html"/>
      <url>/posts/b6cfa71d.html</url>
      
        <content type="html"><![CDATA[<h3 id="å°è£…axios"><a href="#å°è£…axios" class="headerlink" title="å°è£…axios"></a>å°è£…axios</h3><div class="note flat"><p>è¿™äº›åªæ˜¯ç®€åŒ–ç‰ˆï¼Œå¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ”¹å†™</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">BASE_URL</span> = <span class="string">&quot;example.com&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> instance = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">    baseURL : <span class="variable constant_">BASE_URL</span>,</span><br><span class="line">    timeout : <span class="number">8000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">req</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> headers = req.<span class="property">headers</span></span><br><span class="line">    <span class="keyword">if</span>(!headers.<span class="property">Authorization</span>)headers.<span class="property">Authorization</span> = <span class="string">&quot;Bear lnpbqc&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> req</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">LOGIN_INVALID</span> = <span class="number">6789</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router&quot;</span></span><br><span class="line"></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">resp</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;code,data,msg&#125; = resp.<span class="property">data</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(code==<span class="number">200</span>)&#123;</span><br><span class="line">        <span class="comment">// å¤„ç†</span></span><br><span class="line">        <span class="keyword">return</span> data</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(code==<span class="variable constant_">LOGIN_INVALID</span>)&#123;</span><br><span class="line">        <span class="comment">// æŠ¥é”™</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;router.<span class="title function_">push</span>(<span class="string">&quot;/login&quot;</span>)&#125;,<span class="number">3000</span>)<span class="comment">// ç­‰å¾…æ—¶é—´æŠ¥é”™</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="string">&quot;ç™»å½•å¤±æ•ˆ&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(msg||<span class="string">&quot;å…¶ä»–é”™è¯¯&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚çš„æ¥å£ï¼Œå¯¹äºgetå’Œpostéƒ½ä½¿ç”¨dataä¼ å‚</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">request</span>(<span class="params">options</span>)&#123;</span><br><span class="line">    options.<span class="property">method</span> = options.<span class="property">method</span> || <span class="string">&quot;get&quot;</span></span><br><span class="line">    <span class="keyword">if</span>(options.<span class="property">method</span>.<span class="title function_">toLowerCase</span>()==<span class="string">&#x27;get&#x27;</span>)options.<span class="property">params</span> = options.<span class="property">data</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">instance</span>(options)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[<span class="string">&#x27;get&#x27;</span>,<span class="string">&#x27;post&#x27;</span>,<span class="string">&#x27;patch&#x27;</span>,<span class="string">&#x27;delete&#x27;</span>,<span class="string">&#x27;put&#x27;</span>].<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span><br><span class="line">    request[item] = <span class="function">(<span class="params">url,data,options</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">            url,</span><br><span class="line">            data,</span><br><span class="line">            <span class="attr">method</span>:item,</span><br><span class="line">            ...options</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> request</span><br></pre></td></tr></table></figure><div class="note green flat"><p>ç”¨æ³•ä¸º <code>request({url,method,data})</code> æˆ–è€… <code>request.get(url,data,options)</code><i>ï¼ˆ[post,delete,put,patch]å¯é€‰ï¼‰</i></p></div><h3 id="å°è£…storage"><a href="#å°è£…storage" class="headerlink" title="å°è£…storage"></a>å°è£…storage</h3><div class="note flat"><p>è™½ç„¶è‡ªå¸¦çš„apièƒ½ç”¨ï¼Œä½†ä¸å¥½ç”¨<br>å¦‚è¦ä½¿ç”¨localStorageå­˜å‚¨çš„å€¼ï¼Œä»¥å­—ç¬¦ä¸²æ¥å­˜å‚¨ï¼Œæ‰€ä»¥åœ¨å­˜å–å¯¹è±¡çš„æ—¶å€™è¿˜éœ€è¦å¯¹å…¶è¿›è¡Œæ‰‹åŠ¨jsonçš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–<br>è€Œä¸”æœ¬ä¾‹ä½¿ç”¨äº†ç±»ä¼¼å‘½åç©ºé—´çš„æ–¹æ³•æ¥éš”ç¦»ä¸€ä¸ªç½‘ç«™çš„æ•°æ®</p></div><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">NAMESPACE</span> = <span class="string">&quot;lnpbqc&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">setItem</span>(<span class="params">key,val</span>)&#123;</span><br><span class="line">        <span class="keyword">const</span> storage = <span class="variable language_">this</span>.<span class="title function_">getStorage</span>()</span><br><span class="line">        storage[key] = val</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">updateStorage</span>(storage)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">getItem</span>(<span class="params">key</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">getStorage</span>()[key]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">clearItem</span>(<span class="params">key</span>)&#123;</span><br><span class="line">        <span class="keyword">const</span> storage = <span class="variable language_">this</span>.<span class="title function_">getStorage</span>()</span><br><span class="line">        <span class="keyword">delete</span> storage[key]</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">updateStorage</span>(storage)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">clearAll</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">clear</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">getStorage</span>(<span class="params"></span>)&#123;<span class="comment">// è·å–å‘½åç©ºé—´å­˜å‚¨çš„æ•°æ®</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="variable constant_">NAMESPACE</span>) || <span class="string">&#x27;&#123;&#125;&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">updateStorage</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">setItem</span>(<span class="variable constant_">NAMESPACE</span>,<span class="title class_">JSON</span>.<span class="title function_">stringfy</span>(obj))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note green flat"><p>è¿˜å¯ä»¥å°è£…æˆ<code>localStorage</code>å’Œ<code>sessionStorage</code>ä¸åŒçš„å­˜å‚¨æ–¹å¼ï¼Œè¿˜èƒ½åœ¨å¤–é¢ä½¿ç”¨è‡ªå®šä¹‰å‘½åç©ºé—´ï¼Œæœ€åå¾—åˆ°è¿™æ ·çš„æ•ˆæœï¼š<br><code>this.storage().local().namespace(&quot;lnpbqc&quot;).getItem(&quot;abc&quot;)</code></p></div>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue </tag>
            
            <tag> axios </tag>
            
            <tag> storage </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨VSCä¸Šè¿›è¡Œå•ç‰‡æœºå¼€å‘</title>
      <link href="/posts/6d820b60.html"/>
      <url>/posts/6d820b60.html</url>
      
        <content type="html"><![CDATA[<h3 id="ä½¿ç”¨keilç­‰å…¶ä»–IDEå•ç‰‡æœºå¼€å‘ç°çŠ¶"><a href="#ä½¿ç”¨keilç­‰å…¶ä»–IDEå•ç‰‡æœºå¼€å‘ç°çŠ¶" class="headerlink" title="ä½¿ç”¨keilç­‰å…¶ä»–IDEå•ç‰‡æœºå¼€å‘ç°çŠ¶"></a>ä½¿ç”¨keilç­‰å…¶ä»–IDEå•ç‰‡æœºå¼€å‘ç°çŠ¶</h3><ul><li>ç½‘ç»œä¸Šå¤§éƒ¨åˆ†æ˜¯ä½¿ç”¨Keilè¿›è¡Œå•ç‰‡æœºå¼€å‘</li><li>æœªæˆæƒç‰ˆæœ¬æ¨ªè¡Œ</li><li>æ²¡æœ‰å¾ˆå¥½çš„ä»£ç æç¤ºå’Œè¯­æ³•æ£€æŸ¥åŠŸèƒ½</li></ul><h3 id="å¯èƒ½çš„è§£å†³åŠæ³•"><a href="#å¯èƒ½çš„è§£å†³åŠæ³•" class="headerlink" title="å¯èƒ½çš„è§£å†³åŠæ³•"></a>å¯èƒ½çš„è§£å†³åŠæ³•</h3><ul><li>æ”¾å¼ƒå•ç‰‡æœºå¼€å‘</li><li>è‡ªå·±æ­é…ä¸€å¥—å…è´¹é«˜è‡ªå®šä¹‰çš„è§£å†³æ–¹æ¡ˆ<s>éƒ½åˆ°è¿™ä¸ªåœ°æ­¥äº†è¿˜æ˜¯èµ°ä¸‹å»å§</s></li></ul><blockquote><p>æ–¹æ¡ˆæ¥æºäº<a href="https://space.bilibili.com/454042501">ControlCoreX</a></p></blockquote><h3 id="å‰ç½®çŸ¥è¯†å’Œå·¥å…·ä¸‹è½½"><a href="#å‰ç½®çŸ¥è¯†å’Œå·¥å…·ä¸‹è½½" class="headerlink" title="å‰ç½®çŸ¥è¯†å’Œå·¥å…·ä¸‹è½½"></a>å‰ç½®çŸ¥è¯†å’Œå·¥å…·ä¸‹è½½</h3><div class="note red flat"><ul><li>VSC <a href="https://code.visualstudio.com/docs">å®˜ç½‘æ–‡æ¡£</a> <a href="https://code.visualstudio.com/Download">ä¸‹è½½åœ°å€</a></li><li>CMake <a href="https://cmake.org/documentation/">å®˜ç½‘æ–‡æ¡£</a> <a href="https://cmake.org/download/">ä¸‹è½½åœ°å€</a> <a href="/posts/1a349ac7.html">ç›¸å…³åšå®¢</a></li><li>Clangd <a href="https://clangd.llvm.org/installation">å®˜ç½‘æ–‡æ¡£</a> <a href="https://github.com/llvm/llvm-project/releases/tag/llvmorg-18.1.8">ä¸‹è½½åœ°å€</a></li><li>Openocd <a href="https://openocd.org/">å®˜ç½‘</a> <a href="https://repo.or.cz/w/openocd.git">ä¸‹è½½åœ°å€</a></li><li>Arm GNU ToolChain <a href="https://developer.arm.com/documentation">å®˜ç½‘æ–‡æ¡£</a> <a href="https://developer.arm.com/downloads/-/arm-gnu-toolchain-downloads/11-3-rel1">ä¸‹è½½åœ°å€</a></li><li>Ninja <a href="https://ninja-build.org/">å®˜ç½‘</a> <a href="https://github.com/ninja-build/ninja/releases/v1.12.1">ä¸‹è½½åœ°å€</a><blockquote><p>æ–‡æ¡£åªæ˜¯åˆ—ä¸¾ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸Šæ¥å°±æ˜¯è¦å»è¯»å®Œ<br>ç›¸å…³çŸ¥è¯†ç‚¹æœ¬åšå®¢æ­£åœ¨è¡¥å…¨ingï¼Œå¯ä»¥æ¥å‚¬</p></blockquote></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
            <tag> Cmake </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¹–å—ç§‘æŠ€å¤§å­¦çš„è®¡ç®—æœºå›¾å½¢å­¦ä½œä¸š</title>
      <link href="/posts/cbbb7aae.html"/>
      <url>/posts/cbbb7aae.html</url>
      
        <content type="html"><![CDATA[<h3 id="X-4ä½œä¸š"><a href="#X-4ä½œä¸š" class="headerlink" title="X.4ä½œä¸š"></a>X.4ä½œä¸š</h3><ul><li>å‚è€ƒC++æ ‡å‡†åº“çš„stringæ„é€ ä¸€ä¸ªè‡ªå®šä¹‰çš„å­—ç¬¦ä¸²ç±»ã€‚</li><li>ä½¿ç”¨C++æ„é€ ä¸€ä¸ªçŸ©é˜µç±»æ¨¡æ¿ï¼Œè‡³å°‘èƒ½å¤Ÿå®Œæˆè¡Œåˆ—æ•°è¯»å–å’Œå…ƒç´ è®¿é—®ã€‚</li></ul><h3 id="å®ç°æ•ˆæœ"><a href="#å®ç°æ•ˆæœ" class="headerlink" title="å®ç°æ•ˆæœ"></a>å®ç°æ•ˆæœ</h3><figure class="highlight c++"><figcaption><span>main.cpp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;lnpbqc.hpp&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">testString</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤æ— å‚ </span></span><br><span class="line">lnpbqc::string s1;</span><br><span class="line">std::cout&lt;&lt;s1&lt;&lt;std::endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">// char* æ„é€  </span></span><br><span class="line"><span class="function">lnpbqc::string <span class="title">s2</span><span class="params">(<span class="string">&quot;lnpbqc&quot;</span>)</span></span>;</span><br><span class="line">std::cout&lt;&lt;s2&lt;&lt;std::endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤åˆ¶æ„é€  </span></span><br><span class="line"><span class="function">lnpbqc::string <span class="title">s3</span><span class="params">(s2)</span></span>;</span><br><span class="line">std::cout&lt;&lt;s3&lt;&lt;std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function">lnpbqc::string <span class="title">s4</span><span class="params">(<span class="string">&quot;hnust&quot;</span>)</span></span>;</span><br><span class="line"><span class="comment">// å­ä¸²æ„é€  </span></span><br><span class="line"><span class="function">lnpbqc::string <span class="title">s5</span><span class="params">(s4,<span class="number">2</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line">s5[<span class="number">0</span>] = <span class="string">&#x27;c&#x27;</span>;<span class="comment">// operator[]</span></span><br><span class="line">std::cout&lt;&lt;s<span class="number">5.</span><span class="built_in">at</span>(<span class="number">0</span>)&lt;&lt;std::endl;<span class="comment">// at()</span></span><br><span class="line">std::cout&lt;&lt;s5&lt;&lt;std::endl;</span><br><span class="line">s5 += <span class="string">&quot; go&quot;</span>;<span class="comment">// +=</span></span><br><span class="line">std::cout&lt;&lt;s5&lt;&lt;std::endl;</span><br><span class="line"></span><br><span class="line"><span class="comment">// +</span></span><br><span class="line">lnpbqc::string s6 = s5 + <span class="string">&quot;:2&quot;</span>;</span><br><span class="line">std::cout&lt;&lt;s6&lt;&lt;std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function">lnpbqc::string <span class="title">s7</span><span class="params">(<span class="string">&quot;12&quot;</span>)</span>,<span class="title">s8</span><span class="params">(<span class="string">&quot;12&quot;</span>)</span>,<span class="title">s9</span><span class="params">(<span class="string">&quot;123&quot;</span>)</span></span>;</span><br><span class="line">std::cout&lt;&lt;(s7==s8)&lt;&lt;std::endl;<span class="comment">// ==</span></span><br><span class="line">std::cout&lt;&lt;(s7!=s9)&lt;&lt;std::endl;<span class="comment">// !=</span></span><br><span class="line">std::cout&lt;&lt;(s7&lt;s9)&lt;&lt;std::endl;<span class="comment">// &lt;</span></span><br><span class="line">std::cout&lt;&lt;(s7&gt;s9)&lt;&lt;std::endl;<span class="comment">// &gt;</span></span><br><span class="line">std::cout&lt;&lt;(s7&lt;=s9)&lt;&lt;std::endl;<span class="comment">// &lt;=</span></span><br><span class="line">std::cout&lt;&lt;(s7&gt;=s9)&lt;&lt;std::endl;<span class="comment">// &gt;=</span></span><br><span class="line"></span><br><span class="line">std::cout&lt;&lt;s<span class="number">6.</span><span class="built_in">substr</span>(<span class="number">3</span>,<span class="number">5</span>)&lt;&lt;std::endl;</span><br><span class="line">std::cout&lt;&lt;s<span class="number">6.f</span>ind(<span class="string">&quot;go&quot;</span>)&lt;&lt;std::endl;</span><br><span class="line">std::cout&lt;&lt;s<span class="number">6.f</span>ind(<span class="string">&quot;go2&quot;</span>)&lt;&lt;std::endl;</span><br><span class="line">s6+=<span class="string">&quot;21321&quot;</span> ;</span><br><span class="line">std::cout&lt;&lt;s6&lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">testMatrix</span><span class="params">()</span></span>&#123;</span><br><span class="line">&#123;<span class="comment">// åŠ </span></span><br><span class="line">std::cerr&lt;&lt;<span class="string">&quot;åŠ æ³•&quot;</span>&lt;&lt;std::endl;</span><br><span class="line"><span class="function">lnpbqc::matrix&lt;<span class="type">int</span>&gt; <span class="title">m1</span><span class="params">(<span class="number">4</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line"><span class="function">lnpbqc::matrix&lt;<span class="type">int</span>&gt; <span class="title">m2</span><span class="params">(<span class="number">4</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j&lt;<span class="number">4</span>;j++)m<span class="number">1.</span><span class="built_in">set</span>(i,j,i*j);</span><br><span class="line">&#125;</span><br><span class="line">m<span class="number">1.</span><span class="built_in">PrintMatrix</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j&lt;<span class="number">4</span>;j++)m<span class="number">2.</span><span class="built_in">set</span>(i,j,i+j);</span><br><span class="line">&#125;</span><br><span class="line">m<span class="number">2.</span><span class="built_in">PrintMatrix</span>();</span><br><span class="line">m1 = m1+m2;</span><br><span class="line">m<span class="number">1.</span><span class="built_in">PrintMatrix</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#123;<span class="comment">// å‡</span></span><br><span class="line">std::cerr&lt;&lt;<span class="string">&quot;å‡æ³•&quot;</span>&lt;&lt;std::endl;</span><br><span class="line"><span class="function">lnpbqc::matrix&lt;<span class="type">int</span>&gt; <span class="title">m1</span><span class="params">(<span class="number">4</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line"><span class="function">lnpbqc::matrix&lt;<span class="type">int</span>&gt; <span class="title">m2</span><span class="params">(<span class="number">4</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j&lt;<span class="number">4</span>;j++)m<span class="number">1.</span><span class="built_in">set</span>(i,j,i*j);</span><br><span class="line">&#125;</span><br><span class="line">m<span class="number">1.</span><span class="built_in">PrintMatrix</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j&lt;<span class="number">4</span>;j++)m<span class="number">2.</span><span class="built_in">set</span>(i,j,i+j);</span><br><span class="line">&#125;</span><br><span class="line">m<span class="number">2.</span><span class="built_in">PrintMatrix</span>();</span><br><span class="line">m1 = m1-m2;</span><br><span class="line">m<span class="number">1.</span><span class="built_in">PrintMatrix</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment">// ä¹˜</span></span><br><span class="line">std::cerr&lt;&lt;<span class="string">&quot;ä¹˜æ³•&quot;</span>&lt;&lt;std::endl;</span><br><span class="line"><span class="function">lnpbqc::matrix&lt;<span class="type">int</span>&gt; <span class="title">m1</span><span class="params">(<span class="number">4</span>,<span class="number">5</span>)</span></span>;</span><br><span class="line"><span class="function">lnpbqc::matrix&lt;<span class="type">int</span>&gt; <span class="title">m2</span><span class="params">(<span class="number">5</span>,<span class="number">6</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j&lt;<span class="number">5</span>;j++)m<span class="number">1.</span><span class="built_in">set</span>(i,j,i*j);</span><br><span class="line">&#125;</span><br><span class="line">m<span class="number">1.</span><span class="built_in">PrintMatrix</span>();</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j&lt;<span class="number">6</span>;j++)m<span class="number">2.</span><span class="built_in">set</span>(i,j,i+j);</span><br><span class="line">&#125;</span><br><span class="line">m<span class="number">2.</span><span class="built_in">PrintMatrix</span>();</span><br><span class="line">m1 = m1*m2;</span><br><span class="line">m<span class="number">1.</span><span class="built_in">PrintMatrix</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#123;<span class="comment">// è½¬ç½®</span></span><br><span class="line">std::cerr&lt;&lt;<span class="string">&quot;è½¬ç½®&quot;</span>&lt;&lt;std::endl;</span><br><span class="line"><span class="function">lnpbqc::matrix&lt;<span class="type">int</span>&gt; <span class="title">m1</span><span class="params">(<span class="number">4</span>,<span class="number">4</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>;j&lt;<span class="number">4</span>;j++)m<span class="number">1.</span><span class="built_in">set</span>(i,j,i+j-((i%<span class="number">2</span>==<span class="number">0</span>)?<span class="number">12</span>:<span class="number">21</span>));</span><br><span class="line">&#125;</span><br><span class="line">m<span class="number">1.</span><span class="built_in">PrintMatrix</span>();</span><br><span class="line"><span class="keyword">auto</span> m2 = m<span class="number">1.</span><span class="built_in">TransposeMatrix</span>();</span><br><span class="line">m<span class="number">2.</span><span class="built_in">PrintMatrix</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span>** argv)</span> </span>&#123;</span><br><span class="line"><span class="built_in">testString</span>();</span><br><span class="line"><span class="built_in">testMatrix</span>();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/posts/cbbb7aae/%E6%95%88%E6%9E%9C.png" alt="è¿è¡Œæ•ˆæœå›¾"></p><h3 id="å…·ä½“å®ç°å†…å®¹"><a href="#å…·ä½“å®ç°å†…å®¹" class="headerlink" title="å…·ä½“å®ç°å†…å®¹"></a>å…·ä½“å®ç°å†…å®¹</h3><h5 id="string"><a href="#string" class="headerlink" title="string"></a>string</h5><figure class="highlight c++"><figcaption><span>lnpbqc_string.hpp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> lnpbqc&#123;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">string</span>&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="type">char</span>* _str;</span><br><span class="line"><span class="type">int</span> _capacity;</span><br><span class="line"><span class="type">int</span> _length;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> _cp(<span class="type">const</span> string&amp; src,<span class="type">char</span>* des,<span class="type">int</span> begin,<span class="type">int</span> end)&#123;</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(;begin&lt;=end;begin++)des[i++] = src[begin];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="built_in">string</span>():_str(<span class="literal">nullptr</span>),_capacity(<span class="number">0</span>),_length(<span class="number">0</span>)&#123;&#125;</span><br><span class="line"><span class="built_in">string</span>(<span class="type">const</span> <span class="type">char</span>* s)&#123;</span><br><span class="line">_length = <span class="built_in">strlen</span>(s);</span><br><span class="line">_capacity = _length*<span class="number">2</span>;</span><br><span class="line">_str = <span class="keyword">new</span> <span class="type">char</span>[_capacity];</span><br><span class="line"><span class="built_in">strcpy</span>(_str,s);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">string</span>(<span class="type">const</span> string&amp; s)&#123;</span><br><span class="line">_length = s.<span class="built_in">length</span>();</span><br><span class="line">_capacity = _length*<span class="number">2</span>;</span><br><span class="line">_str = <span class="keyword">new</span> <span class="type">char</span>[_capacity];</span><br><span class="line"></span><br><span class="line">_cp(s,_str,<span class="number">0</span>,s.<span class="built_in">length</span>());</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">string</span>(<span class="type">const</span> string&amp; s,<span class="type">int</span> begin,<span class="type">int</span> end)&#123;</span><br><span class="line">_length = end-begin;</span><br><span class="line">_capacity = _length*<span class="number">2</span>;</span><br><span class="line">_str = <span class="keyword">new</span> <span class="type">char</span>[_capacity];</span><br><span class="line"></span><br><span class="line">_cp(s,_str,begin,end);</span><br><span class="line">_str[end] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">~<span class="built_in">string</span>()&#123;</span><br><span class="line"><span class="keyword">delete</span> []_str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">friend</span> std::ostream&amp; <span class="keyword">operator</span>&lt;&lt;(std::ostream&amp; os,<span class="type">const</span> string&amp; s)&#123;</span><br><span class="line"><span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(s.<span class="built_in">length</span>()!=<span class="number">0</span>&amp;&amp;i&lt;s.<span class="built_in">length</span>())os&lt;&lt;s[i++];</span><br><span class="line"><span class="keyword">return</span> os;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">char</span>* <span class="keyword">operator</span>&amp;()<span class="type">const</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;_str;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">char</span> <span class="keyword">operator</span>[](<span class="type">int</span> i)<span class="type">const</span>&#123;</span><br><span class="line"><span class="keyword">return</span> _str[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">char</span>&amp; <span class="keyword">operator</span>[](<span class="type">int</span> i)&#123;</span><br><span class="line"><span class="keyword">return</span> _str[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">char</span> <span class="title">at</span><span class="params">(<span class="type">int</span> i)</span><span class="type">const</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;<span class="keyword">operator</span>[](i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">length</span><span class="params">()</span><span class="type">const</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> _length;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">capacity</span><span class="params">()</span><span class="type">const</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> _capacity;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="keyword">operator</span>+=(<span class="type">const</span> string&amp; s)&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">this</span>-&gt;<span class="built_in">length</span>()+s.<span class="built_in">length</span>()&gt;<span class="keyword">this</span>-&gt;<span class="built_in">capacity</span>())&#123;</span><br><span class="line"><span class="keyword">this</span>-&gt;_capacity*=<span class="number">2</span>;</span><br><span class="line"><span class="type">char</span>* t = <span class="keyword">new</span> <span class="type">char</span>[<span class="keyword">this</span>-&gt;_capacity];</span><br><span class="line"><span class="built_in">strcpy</span>(t,<span class="keyword">this</span>-&gt;_str);</span><br><span class="line"><span class="type">char</span>* tt = <span class="keyword">this</span>-&gt;_str;</span><br><span class="line"><span class="keyword">this</span>-&gt;_str = t;</span><br><span class="line"><span class="keyword">delete</span> []tt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">strncpy</span>(<span class="keyword">this</span>-&gt;_str+<span class="keyword">this</span>-&gt;<span class="built_in">length</span>(),&amp;s,s.<span class="built_in">length</span>());</span><br><span class="line"><span class="keyword">this</span>-&gt;_length = <span class="keyword">this</span>-&gt;<span class="built_in">length</span>()+s.<span class="built_in">length</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">string <span class="title">substr</span><span class="params">(<span class="type">int</span> begin,<span class="type">int</span> end)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">string</span>(*<span class="keyword">this</span>,begin,end);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">const</span> string&amp; s)</span></span>&#123;</span><br><span class="line">std::vector&lt;<span class="type">int</span>&gt; matches = _KMP(*<span class="keyword">this</span>, s);</span><br><span class="line"><span class="keyword">return</span> matches.<span class="built_in">empty</span>()?<span class="number">-1</span>:matches[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">friend</span> string <span class="keyword">operator</span>+(<span class="type">const</span> string&amp;s1,<span class="type">const</span> string&amp; s2)&#123;</span><br><span class="line"><span class="function">string <span class="title">s</span><span class="params">(s1)</span></span>;</span><br><span class="line">s+=s2;</span><br><span class="line"><span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">friend</span> <span class="type">bool</span> <span class="keyword">operator</span>&gt;(<span class="type">const</span> string&amp;s1,<span class="type">const</span> string&amp; s2)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">strcmp</span>(&amp;s1,&amp;s2) &gt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">friend</span> <span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> string&amp;s1,<span class="type">const</span> string&amp; s2)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">strcmp</span>(&amp;s1,&amp;s2) &lt; <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> <span class="type">bool</span> <span class="keyword">operator</span>&gt;=(<span class="type">const</span> string&amp;s1,<span class="type">const</span> string&amp; s2)&#123;</span><br><span class="line"><span class="keyword">return</span> s1&gt;s2||s1==s2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">friend</span> <span class="type">bool</span> <span class="keyword">operator</span>&lt;=(<span class="type">const</span> string&amp;s1,<span class="type">const</span> string&amp; s2)&#123;</span><br><span class="line"><span class="keyword">return</span> s1&lt;s2||s1==s2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">friend</span> <span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> string&amp;s1,<span class="type">const</span> string&amp; s2)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">strcmp</span>(&amp;s1,&amp;s2) == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">friend</span> <span class="type">bool</span> <span class="keyword">operator</span>!=(<span class="type">const</span> string&amp;s1,<span class="type">const</span> string&amp; s2)&#123;</span><br><span class="line"><span class="keyword">return</span> !(s1==s2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„å»ºéƒ¨åˆ†åŒ¹é…è¡¨ï¼ˆå‰ç¼€å‡½æ•°è¡¨ï¼‰</span></span><br><span class="line">std::vector&lt;<span class="type">int</span>&gt; _buildPartialMatchTable(<span class="type">const</span> string&amp; pattern) &#123;</span><br><span class="line">    <span class="type">int</span> m = pattern.<span class="built_in">length</span>();</span><br><span class="line">    <span class="function">std::vector&lt;<span class="type">int</span>&gt; <span class="title">partialMatchTable</span><span class="params">(m, <span class="number">0</span>)</span></span>;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; m; ++i) &#123;</span><br><span class="line">        <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; pattern[i] != pattern[j]) &#123;</span><br><span class="line">            j = partialMatchTable[j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pattern[i] == pattern[j]) &#123;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        partialMatchTable[i] = j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> partialMatchTable;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// KMPå­—ç¬¦ä¸²åŒ¹é…ç®—æ³•</span></span><br><span class="line">std::vector&lt;<span class="type">int</span>&gt; _KMP(<span class="type">const</span> string&amp; text, <span class="type">const</span> string&amp; pattern) &#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; result;</span><br><span class="line">    <span class="type">int</span> n = text.<span class="built_in">length</span>();</span><br><span class="line">    <span class="type">int</span> m = pattern.<span class="built_in">length</span>();</span><br><span class="line">    <span class="keyword">if</span> (m == <span class="number">0</span> || n &lt; m) &#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; partialMatchTable = _buildPartialMatchTable(pattern);</span><br><span class="line">    <span class="type">int</span> j = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; text[i] != pattern[j]) &#123;</span><br><span class="line">            j = partialMatchTable[j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (text[i] == pattern[j]) &#123;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (j == m) &#123;</span><br><span class="line">            result.<span class="built_in">push_back</span>(i - m + <span class="number">1</span>);</span><br><span class="line">            j = partialMatchTable[j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="matrix"><a href="#matrix" class="headerlink" title="matrix"></a>matrix</h5><figure class="highlight c++"><figcaption><span>lnpbqc_matrix.hpp</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> lnpbqc&#123;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> DataType&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">matrixAtom</span>&#123;</span><br><span class="line"><span class="type">int</span> row,col;</span><br><span class="line">DataType ele;</span><br><span class="line"><span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> matrixAtom&lt;DataType&gt;&amp;others)&#123;</span><br><span class="line"><span class="keyword">return</span> row==others.row&amp;&amp;col==others.col&amp;&amp;ele==others.ele;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> DataType&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">matrix</span>&#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">vector&lt;matrixAtom&lt;DataType&gt; &gt; _data; <span class="comment">/*å­˜å‚¨å®é™…çš„çŸ©é˜µæ•°æ®ï¼Œè‡ªåŒ…å«éé›¶å…ƒä¸ªæ•°*/</span></span><br><span class="line"><span class="type">int</span> _matrixRowNum; <span class="comment">/*çŸ©é˜µè¡Œæ•°ï¼Œä»é›¶å¼€å§‹*/</span></span><br><span class="line"><span class="type">int</span> _matrixColNum; <span class="comment">/*çŸ©é˜µåˆ—æ•°ï¼Œä»é›¶å¼€å§‹*/</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">row</span><span class="params">()</span><span class="type">const</span></span>&#123;<span class="keyword">return</span> _matrixRowNum;&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">col</span><span class="params">()</span><span class="type">const</span></span>&#123;<span class="keyword">return</span> _matrixColNum;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">row</span><span class="params">(<span class="type">int</span> r)</span></span>&#123;_matrixRowNum=r;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">col</span><span class="params">(<span class="type">int</span> c)</span></span>&#123;_matrixColNum=c;&#125;</span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">shape</span><span class="params">()</span><span class="type">const</span></span>&#123;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="built_in">row</span>());</span><br><span class="line">v.<span class="built_in">push_back</span>(<span class="built_in">col</span>());</span><br><span class="line"><span class="keyword">return</span> v;</span><br><span class="line">&#125;</span><br><span class="line">vector&lt;matrixAtom&lt;DataType&gt; &gt; <span class="built_in">data</span>()<span class="type">const</span>&#123;<span class="keyword">return</span> _data;&#125;</span><br><span class="line"><span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="built_in">matrix</span>() : _matrixRowNum(<span class="number">0</span>), _matrixColNum(<span class="number">0</span>) &#123;</span><br><span class="line">std::cout&lt;&lt;<span class="string">&quot;éœ€è¦è®¾ç½®rowå’Œcol&quot;</span>&lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">matrix</span>(<span class="type">int</span> rows, <span class="type">int</span> cols) : _matrixRowNum(rows), _matrixColNum(cols) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">matrix</span>(<span class="type">const</span> vector&lt;vector&lt;DataType&gt; &gt; &amp;inArray)&#123;</span><br><span class="line">        _matrixRowNum = inArray.<span class="built_in">size</span>();</span><br><span class="line">_matrixColNum = _matrixRowNum &gt; <span class="number">0</span> ? inArray[<span class="number">0</span>].<span class="built_in">size</span>() : <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; _matrixRowNum; ++i) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; _matrixColNum; ++j) &#123;</span><br><span class="line"><span class="keyword">if</span> (inArray[i][j] != <span class="number">0</span>) &#123;</span><br><span class="line">_data.<span class="built_in">push_back</span>(&#123;i, j, inArray[i][j]&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">matrix</span>(<span class="type">const</span> matrix&lt;DataType&gt;&amp; other) &#123;</span><br><span class="line">_matrixRowNum = other.<span class="built_in">row</span>();</span><br><span class="line">_matrixColNum = other.<span class="built_in">col</span>();</span><br><span class="line">_data = other.<span class="built_in">data</span>(); <span class="comment">// ç›´æ¥å¤åˆ¶dataå‘é‡</span></span><br><span class="line">&#125;</span><br><span class="line">matrix&lt;DataType&gt;&amp; <span class="keyword">operator</span>=(<span class="type">const</span> matrix&lt;DataType&gt;&amp; other) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span> != &amp;other) &#123; <span class="comment">// é˜²æ­¢è‡ªèµ‹å€¼</span></span><br><span class="line">_matrixRowNum = other.<span class="built_in">row</span>();</span><br><span class="line">_matrixColNum = other.<span class="built_in">col</span>();</span><br><span class="line">_data = other.<span class="built_in">data</span>(); <span class="comment">// ç›´æ¥å¤åˆ¶dataå‘é‡</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">      ~<span class="built_in">matrix</span>()&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å…ƒç´ å€¼</span></span><br><span class="line"><span class="function">DataType <span class="title">get</span><span class="params">(<span class="type">int</span> row, <span class="type">int</span> col)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; atom : _data) &#123;</span><br><span class="line"><span class="keyword">if</span> (atom.row == row &amp;&amp; atom.col == col)</span><br><span class="line"><span class="keyword">return</span> atom.ele;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">DataType</span>(<span class="number">0</span>); <span class="comment">// å¦‚æœæœªæ‰¾åˆ°éé›¶å…ƒç´ ï¼Œè¿”å›0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è®¾ç½®å…ƒç´ å€¼</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">set</span><span class="params">(<span class="type">int</span> row, <span class="type">int</span> col, DataType value)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(row&gt;=_matrixRowNum||col&gt;=_matrixColNum)<span class="keyword">throw</span> <span class="string">&quot;è¶…å‡ºèŒƒå›´&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> found = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">auto</span>&amp; atom : _data) &#123;</span><br><span class="line"><span class="keyword">if</span> (atom.row == row &amp;&amp; atom.col == col) &#123;</span><br><span class="line">found = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span> (value == <span class="number">0</span>) &#123;</span><br><span class="line">_data.<span class="built_in">erase</span>(std::<span class="built_in">find</span>(_data.<span class="built_in">begin</span>(), _data.<span class="built_in">end</span>(), atom));</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">atom.ele = value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!found&amp;&amp;value != <span class="number">0</span>) &#123;</span><br><span class="line">_data.<span class="built_in">push_back</span>(&#123;row, col, value&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">      </span><br><span class="line">      <span class="function">matrix&lt;DataType&gt; <span class="title">TransposeMatrix</span><span class="params">()</span><span class="type">const</span></span>&#123;<span class="comment">/*å¸¸è§„è½¬ç½®æ€è·¯*/</span></span><br><span class="line"><span class="function">matrix&lt;DataType&gt; <span class="title">result</span><span class="params">(_matrixColNum, _matrixRowNum)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; atom : _data) &#123;</span><br><span class="line">result.<span class="built_in">set</span>(atom.col, atom.row, atom.ele);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="type">void</span> <span class="title">FastTransposeMatrix</span><span class="params">()</span></span>&#123;<span class="comment">/*å¿«é€Ÿè½¬ç½®*/</span></span><br><span class="line"><span class="comment">// todo:å¾…å®Œæˆ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">matrix&lt;DataType&gt; <span class="title">AddMatrix</span><span class="params">(<span class="type">const</span> matrix&lt;DataType&gt; &amp;otherMatrix)</span></span>&#123; <span class="comment">/*åŠ ä¸Šå¦å¤–ä¸€ä¸ªçŸ©é˜µï¼Œç¬¬äºŒä¸ªçŸ©é˜µä¿æŒä¸å˜*/</span></span><br><span class="line"><span class="keyword">if</span> (_matrixRowNum != otherMatrix.<span class="built_in">row</span>() || _matrixColNum != otherMatrix.<span class="built_in">col</span>())&#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="string">&quot;çŸ©é˜µå½¢çŠ¶ä¸åŒ¹é…&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">matrix&lt;DataType&gt; <span class="title">result</span><span class="params">(_matrixRowNum, _matrixColNum)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; atom : _data) &#123;</span><br><span class="line">result.<span class="built_in">set</span>(atom.row, atom.col, atom.ele);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; atom : otherMatrix.<span class="built_in">data</span>()) &#123;</span><br><span class="line">result.<span class="built_in">set</span>(atom.row, atom.col, result.<span class="built_in">get</span>(atom.row, atom.col) + atom.ele);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">matrix&lt;DataType&gt; <span class="keyword">operator</span>+(<span class="type">const</span> matrix&lt;DataType&gt;&amp; otherMatrix)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;<span class="built_in">AddMatrix</span>(otherMatrix);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function">matrix&lt;DataType&gt; <span class="title">SubMatrix</span><span class="params">(<span class="type">const</span> matrix&lt;DataType&gt; &amp;otherMatrix)</span></span>&#123;<span class="comment">/*å‡å»å¦å¤–ä¸€ä¸ªçŸ©é˜µï¼Œç¬¬äºŒä¸ªçŸ©é˜µä¿æŒä¸å˜*/</span></span><br><span class="line"><span class="keyword">if</span> (_matrixRowNum != otherMatrix.<span class="built_in">row</span>() || _matrixColNum != otherMatrix.<span class="built_in">col</span>())&#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="string">&quot;çŸ©é˜µå½¢çŠ¶ä¸åŒ¹é…&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">matrix&lt;DataType&gt; <span class="title">result</span><span class="params">(_matrixRowNum, _matrixColNum)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; atom : _data) &#123;</span><br><span class="line">result.<span class="built_in">set</span>(atom.row, atom.col, atom.ele);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; atom : otherMatrix.<span class="built_in">data</span>()) &#123;</span><br><span class="line">result.<span class="built_in">set</span>(atom.row, atom.col, result.<span class="built_in">get</span>(atom.row, atom.col) - atom.ele);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">matrix&lt;DataType&gt; <span class="keyword">operator</span>-(<span class="type">const</span> matrix&lt;DataType&gt;&amp; otherMatrix)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;<span class="built_in">SubMatrix</span>(otherMatrix);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">matrix&lt;DataType&gt; <span class="title">MultiMatrix</span><span class="params">(<span class="type">const</span> matrix&lt;DataType&gt; &amp;otherMatrix)</span></span>&#123;<span class="comment">/*ä¹˜ä¸Šå¦å¤–ä¸€ä¸ªçŸ©é˜µï¼Œç¬¬äºŒä¸ªçŸ©é˜µä¿æŒä¸å˜*/</span></span><br><span class="line"><span class="keyword">if</span> (_matrixColNum != otherMatrix.<span class="built_in">row</span>())&#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="string">&quot;çŸ©é˜µå½¢çŠ¶ä¸åŒ¹é…&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">matrix&lt;DataType&gt; <span class="title">result</span><span class="params">(_matrixRowNum, otherMatrix.col())</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; atomA : _data) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; atomB : otherMatrix.<span class="built_in">data</span>()) &#123;</span><br><span class="line"><span class="keyword">if</span> (atomA.col == atomB.row) &#123;</span><br><span class="line">DataType newValue = result.<span class="built_in">get</span>(atomA.row, atomB.col) + atomA.ele * atomB.ele;</span><br><span class="line">result.<span class="built_in">set</span>(atomA.row, atomB.col, newValue);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">matrix&lt;DataType&gt; <span class="keyword">operator</span>*(<span class="type">const</span> matrix&lt;DataType&gt; &amp; other)&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">this</span>-&gt;<span class="built_in">MultiMatrix</span>(other);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">matrix&lt;DataType&gt; <span class="title">inverse</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line"><span class="comment">//å¾…å®ç°</span></span><br><span class="line"><span class="keyword">return</span> <span class="built_in">matrix</span>&lt;DataType&gt;();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    vector&lt;vector&lt;DataType&gt; &gt; <span class="built_in">TransformTo2DArray</span>()&#123;<span class="comment">/*è½¬æ¢æˆäºŒç»´æ•°ç»„*/</span></span><br><span class="line">vector&lt;vector&lt;DataType&gt;&gt; <span class="built_in">result</span>(_matrixRowNum, <span class="built_in">vector</span>&lt;DataType&gt;(_matrixColNum, <span class="number">0</span>));</span><br><span class="line"><span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; atom : _data) &#123;</span><br><span class="line">result[atom.row][atom.col] = atom.ele;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">PrintMatrix</span><span class="params">()</span></span>&#123;<span class="comment">/*æ‰“å°çŸ©é˜µ*/</span></span><br><span class="line">std::cout &lt;&lt;<span class="string">&quot;Address::&quot;</span>&lt;&lt;<span class="keyword">this</span>&lt;&lt; <span class="string">&quot;\nMatrix Rows: &quot;</span> &lt;&lt; _matrixRowNum &lt;&lt; <span class="string">&quot;, Columns: &quot;</span> &lt;&lt; _matrixColNum &lt;&lt; std::endl;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; _matrixRowNum; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; _matrixColNum; j++) &#123;</span><br><span class="line">std::cout &lt;&lt; <span class="built_in">get</span>(i, j) &lt;&lt; <span class="string">&quot;\t&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">std::cout &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
          <category> ä½œä¸š </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¡ç®—æœºå›¾å½¢å­¦ </tag>
            
            <tag> CV </tag>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯è·¨åŸŸæºå¸¦Cookie</title>
      <link href="/posts/87b619b6.html"/>
      <url>/posts/87b619b6.html</url>
      
        <content type="html"><![CDATA[<h3 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h3><p>æƒ³å¿…å¹¶ä¸æ˜¯å‰åç«¯ä¸€å®šå¤„äºä¸€ä¸ªåŒåŸŸçš„çŠ¶æ€ï¼Œå¯èƒ½æœ‰ä»¥ä¸‹æƒ…å†µï¼š</p><ul><li>å‰åç«¯åˆ†ç¦»</li><li>åŸŸåä¸åŒ</li></ul><p>è¿™æ ·å°±å®¹æ˜“é‡è§ä¸€ä¸ªè¿™æ ·çš„é—®é¢˜ï¼Œåç«¯æƒ³åŸºäºSessionæ¥å­˜å‚¨å’Œä½¿ç”¨æ•°æ®ï¼Œå¯è¿™ä¸ªæ—¶å€™å°±æ ¹æœ¬æ‹¿ä¸åˆ°SessionIDã€‚<br>å°±åƒæˆ‘åˆšåˆšé‚£æ ·ï¼Œæ˜æ˜åç«¯å·²ç»é…å¥½äº†CORSï¼Œå‰ç«¯è¿˜æ˜¯æœ‰é—®é¢˜ã€‚</p><h3 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h3><h5 id="å‰ç«¯"><a href="#å‰ç«¯" class="headerlink" title="å‰ç«¯"></a>å‰ç«¯</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‰ç«¯æ˜¯5173ç«¯å£</span></span><br><span class="line">axios.<span class="property">defaults</span>.<span class="property">baseURL</span> = <span class="string">&#x27;http://localhost:8080&#x27;</span>;</span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å…è®¸è·¨åŸŸè¯·æ±‚æ—¶æºå¸¦ Cookie</span></span><br><span class="line">    config.<span class="property">withCredentials</span>=<span class="literal">true</span></span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">&#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5 id="åç«¯"><a href="#åç«¯" class="headerlink" title="åç«¯"></a>åç«¯</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value(&quot;$&#123;lnpbqc.allowCORS&#125;&quot;)</span></span><br><span class="line">String allowCORS;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addCorsMappings</span><span class="params">(CorsRegistry registry)</span> &#123;</span><br><span class="line">    registry.addMapping(<span class="string">&quot;/**&quot;</span>)  <span class="comment">// å…è®¸è·¨åŸŸçš„è·¯å¾„</span></span><br><span class="line">            .allowedOrigins(allowCORS)  <span class="comment">// å…è®¸çš„åŸŸå</span></span><br><span class="line">            .allowedMethods(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;POST&quot;</span>, <span class="string">&quot;PUT&quot;</span>, <span class="string">&quot;DELETE&quot;</span>)  <span class="comment">// å…è®¸çš„æ–¹æ³•</span></span><br><span class="line">            .allowedHeaders(<span class="string">&quot;*&quot;</span>)  <span class="comment">// å…è®¸çš„è¯·æ±‚å¤´</span></span><br><span class="line">            .allowCredentials(<span class="literal">true</span>)  <span class="comment">// æ˜¯å¦å…è®¸å‘é€å‡­è¯ï¼ˆå¦‚ Cookieï¼‰</span></span><br><span class="line">            .maxAge(<span class="number">3600</span>);  <span class="comment">// é¢„æ£€è¯·æ±‚çš„ç¼“å­˜æ—¶é—´ï¼ˆç§’ï¼‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h3><p>å¯ä»¥æ­£å¸¸æ‹¿åˆ°SessionIDï¼Œè¿›è€Œå­˜å‚¨å’Œä½¿ç”¨æ•°æ®äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> è·¨åŸŸ </tag>
            
            <tag> Cookie </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Javaä¸­ä½¿ç”¨ThreadLocal</title>
      <link href="/posts/2d276131.html"/>
      <url>/posts/2d276131.html</url>
      
        <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯ThreadLocal"><a href="#ä»€ä¹ˆæ˜¯ThreadLocal" class="headerlink" title="ä»€ä¹ˆæ˜¯ThreadLocal"></a>ä»€ä¹ˆæ˜¯ThreadLocal</h3><p>å®ƒæ˜¯ä¸€ä¸ªçº¿ç¨‹æœ¬åœ°å˜é‡ï¼Œè®¿é—®è¿™ä¸ªå˜é‡çš„æ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæœ‰è¿™ä¸ªå˜é‡çš„ä¸€ä¸ªæœ¬åœ°æ‹·è´ï¼ˆå‰¯æœ¬ï¼‰ï¼Œå¤šä¸ªçº¿ç¨‹æ“ä½œçš„æ—¶å€™ï¼Œå®é™…æ˜¯æ“ä½œè‡ªå·±æœ¬åœ°å†…å­˜é‡Œé¢çš„å˜é‡ï¼Œä»è€Œèµ·åˆ°çº¿ç¨‹éš”ç¦»çš„ä½œç”¨ï¼Œé¿å…çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p><p>å¦‚ä¸‹é¢çš„æ¼”ç¤ºç¨‹åºï¼š</p><figure class="highlight java"><figcaption><span>Main.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> ThreadLocal&lt;Integer&gt; threadLocal = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(threadLocal.get());</span><br><span class="line">            threadLocal.set(<span class="number">0</span>);</span><br><span class="line">            System.out.println(threadLocal.get());</span><br><span class="line">        &#125;, <span class="string">&quot;1&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            System.out.println(threadLocal.get());</span><br><span class="line">            threadLocal.set(<span class="number">2</span>);</span><br><span class="line">            System.out.println(threadLocal.get());</span><br><span class="line">        &#125;, <span class="string">&quot;2&quot;</span>);</span><br><span class="line">        thread.start();</span><br><span class="line">        thread.join();</span><br><span class="line">        thread2.start();</span><br><span class="line">        thread2.join();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ƒçš„è¾“å‡ºæ˜¯ <code>null 0 null 2</code></p><h3 id="å®ç°çš„åŸç†"><a href="#å®ç°çš„åŸç†" class="headerlink" title="å®ç°çš„åŸç†"></a>å®ç°çš„åŸç†</h3><p>é€šè¿‡ä¸€ä¸ªKey-Valueå½¢å¼ï¼Œå°†å½“å‰çº¿ç¨‹çš„å€¼å­˜å…¥ThreadLocalä¸­ï¼Œä¹Ÿå°±æ˜¯ThreadLocalMapï¼Œæ¯ä¸ªThreadå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªThreadLocalMapï¼ŒKeyä¸ºThreadLocalå¯¹è±¡ï¼ŒValuehä¸ºéœ€è¦ç¼“å­˜çš„å€¼ã€‚</p><figure class="highlight java"><figcaption><span>ThreadLocal.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(T value)</span> &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> Thread.currentThread();<span class="comment">//è·å–å½“å‰çº¿ç¨‹</span></span><br><span class="line">    <span class="type">ThreadLocalMap</span> <span class="variable">map</span> <span class="operator">=</span> getMap(t);<span class="comment">//æ‹¿åˆ°å½“å‰çº¿ç¨‹çš„ThreadLocalMap</span></span><br><span class="line">    <span class="keyword">if</span> (map != <span class="literal">null</span>) &#123;</span><br><span class="line">        map.set(<span class="built_in">this</span>, value);<span class="comment">//å­˜åœ¨è¿™ä¸ªMapå°±ç›´æ¥ä¿®æ”¹</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        createMap(t, value);<span class="comment">//ä¸å­˜åœ¨å°±åˆ›å»º</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> T <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">    <span class="type">ThreadLocalMap</span> <span class="variable">map</span> <span class="operator">=</span> getMap(t);</span><br><span class="line">    <span class="comment">//ä¸ä¸ºç©ºåˆ™ä»Mapä¸­å–å‡ºæ¥</span></span><br><span class="line">    <span class="keyword">if</span> (map != <span class="literal">null</span>) &#123;</span><br><span class="line">        ThreadLocalMap.<span class="type">Entry</span> <span class="variable">e</span> <span class="operator">=</span> map.getEntry(<span class="built_in">this</span>);</span><br><span class="line">        <span class="keyword">if</span> (e != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">            <span class="type">T</span> <span class="variable">result</span> <span class="operator">=</span> (T)e.value;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> setInitialValue();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‹¿åˆ°Map</p><figure class="highlight java"><figcaption><span>ThreadLocal.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ThreadLocalMap <span class="title function_">getMap</span><span class="params">(Thread t)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> t.threadLocals;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>ThreadLocal.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">createMap</span><span class="params">(Thread t, T firstValue)</span> &#123;</span><br><span class="line">    t.threadLocals = <span class="keyword">new</span> <span class="title class_">ThreadLocalMap</span>(<span class="built_in">this</span>, firstValue);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><figcaption><span>ThreadLoca.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> T <span class="title function_">setInitialValue</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">T</span> <span class="variable">value</span> <span class="operator">=</span> initialValue();</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">    <span class="type">ThreadLocalMap</span> <span class="variable">map</span> <span class="operator">=</span> getMap(t);</span><br><span class="line">    <span class="keyword">if</span> (map != <span class="literal">null</span>) &#123;</span><br><span class="line">        map.set(<span class="built_in">this</span>, value);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        createMap(t, value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span> <span class="keyword">instanceof</span> TerminatingThreadLocal) &#123;</span><br><span class="line">        TerminatingThreadLocal.register((TerminatingThreadLocal&lt;?&gt;) <span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> ThreadLocal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>makeå’ŒCmakeç•¥è§£</title>
      <link href="/posts/1a349ac7.html"/>
      <url>/posts/1a349ac7.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ–‡ä»¶å‡†å¤‡"><a href="#æ–‡ä»¶å‡†å¤‡" class="headerlink" title="æ–‡ä»¶å‡†å¤‡"></a>æ–‡ä»¶å‡†å¤‡</h2><figure class="highlight c"><figcaption><span>hello.c</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;message.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    sayHello();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span>message.h</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">sayHello</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><figure class="highlight c"><figcaption><span>message.c</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;message.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">sayHello</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello world lnpbqc&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¼ ç»Ÿæ–¹æ³•"><a href="#ä¼ ç»Ÿæ–¹æ³•" class="headerlink" title="ä¼ ç»Ÿæ–¹æ³•"></a>ä¼ ç»Ÿæ–¹æ³•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcc hello.c message.c -o hello</span><br><span class="line">./hello</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨æ„å»ºå·¥å…·"><a href="#ä½¿ç”¨æ„å»ºå·¥å…·" class="headerlink" title="ä½¿ç”¨æ„å»ºå·¥å…·"></a>ä½¿ç”¨æ„å»ºå·¥å…·</h2><p>åªæ˜¯ä¸€äº›ç®€å•çš„é¡¹ç›®å’Œæ–‡ä»¶ç»“æ„å½“ç„¶å¯ä»¥è¿™æ ·å†™ï¼Œä½†è¦æ˜¯å¤æ‚èµ·æ¥å°±ä¸æ˜¯é‚£ä¹ˆå‹å¥½äº†ã€‚</p><p>è¿™ä¸ªæ—¶å€™å°±éœ€è¦å¯ç”¨<mark class="hl-label green">make</mark> å’Œ<mark class="hl-label green">cmake</mark> äº†ã€‚</p><h2 id="makeçš„ç®€å•ä½¿ç”¨"><a href="#makeçš„ç®€å•ä½¿ç”¨" class="headerlink" title="makeçš„ç®€å•ä½¿ç”¨"></a>makeçš„ç®€å•ä½¿ç”¨</h2><blockquote><p>make æ˜¯ä¸€ä¸ªæ„å»ºè‡ªåŠ¨åŒ–å·¥å…·ï¼Œå¹¿æ³›åº”ç”¨äºè½¯ä»¶å¼€å‘ä¸­ï¼Œå°¤å…¶åœ¨ Unix å’Œ Linux ç¯å¢ƒä¸‹ã€‚<br>å®ƒé€šè¿‡è¯»å–åä¸º Makefile(<em>å½“ç„¶å¯ä»¥è¯»å–å…¶ä»–æ–‡ä»¶ï¼Œåç»­ä»‹ç»</em>) çš„æ–‡ä»¶ï¼Œæ ¹æ®å…¶ä¸­å®šä¹‰çš„è§„åˆ™å’Œä¾èµ–å…³ç³»æ¥ç¼–è¯‘å’Œé“¾æ¥ç¨‹åº</p></blockquote><blockquote><p>make: é»˜è®¤æƒ…å†µä¸‹ï¼Œmake ä¼šæ‰§è¡Œ Makefile ä¸­ç¬¬ä¸€ä¸ªç›®æ ‡ï¼ˆé€šå¸¸æ˜¯ all æˆ–ä¸»ç›®æ ‡ï¼‰ã€‚<br>make target: åªæ‰§è¡Œç‰¹å®šç›®æ ‡çš„è§„åˆ™ã€‚ä¾‹å¦‚ make clean åªä¼šæ‰§è¡Œ clean è§„åˆ™ã€‚<br>make -j [N]: å¹¶è¡Œæ„å»ºï¼ŒN æŒ‡å®šå¹¶è¡Œçš„ä»»åŠ¡æ•°ï¼Œå¯ä»¥åŠ é€Ÿç¼–è¯‘ã€‚<br>ä½¿ç”¨make -f æŒ‡å®šæ–‡ä»¶åå­— æ¥æ ¹æ®å…¶ä»–Makefileè§„åˆ™ç¼–è¯‘<br>ä½¿ç”¨make -n åªæ‰“å°å‘½ä»¤ä¸æ‰§è¡Œ<br>ä½¿ç”¨make -C ç›®å½• æŒ‡å®šmakefileå·¥ä½œç›®å½•</p></blockquote><p>åŸºæœ¬çš„ç»“æ„ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç”Ÿæˆç›®æ ‡ï¼šä¾èµ–æ–‡ä»¶</span><br><span class="line">å‘½ä»¤</span><br></pre></td></tr></table></figure><p>ç”±æ­¤å³å¯ç¼–å†™åŸºæœ¬makeæ–‡ä»¶ï¼š</p><figure class="highlight makefile"><figcaption><span>makefile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">hello: main.c message.c</span></span><br><span class="line">gcc main.c message.c -o hello</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œåªè¦<code>main.c</code>æˆ–è€…<code>message.c</code>å‘ç”Ÿæ”¹å˜ï¼Œä½¿ç”¨<code>make</code>å‘½ä»¤å³å¯å®Œæˆç¼–è¯‘ã€‚å¦‚æœæ²¡æœ‰æ”¹å˜æ–‡ä»¶ï¼Œåˆ™ä¸ä¼šé‡æ–°ç¼–è¯‘ã€‚</p><h3 id="éƒ¨åˆ†ä¾èµ–ç¼–è¯‘"><a href="#éƒ¨åˆ†ä¾èµ–ç¼–è¯‘" class="headerlink" title="éƒ¨åˆ†ä¾èµ–ç¼–è¯‘"></a>éƒ¨åˆ†ä¾èµ–ç¼–è¯‘</h3><p>é‚£ä¹ˆå¦‚æœæ–‡ä»¶è¿‡å¤šï¼Œæœ‰æ›´å¤šçš„ä¾èµ–éœ€è¦ç¼–è¯‘ï¼Œä½†ä½ åªæ˜¯æ”¹åŠ¨äº†å…¶ä¸­éƒ¨åˆ†æ–‡ä»¶ï¼Œä¸æƒ³å…¨éƒ¨é‡æ–°ç¼–è¯‘ï¼Œä¹Ÿå¯ä»¥åˆ†å¼€ç¼–è¯‘ä¸­é—´æ–‡ä»¶ï¼Œæœ€åé“¾æ¥ã€‚</p><figure class="highlight makefile"><figcaption><span>makefile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="keyword">.PHONY</span>: clean all</span></span><br><span class="line">//.PHONY è¡¨ç¤ºåé¢æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œè€Œä¸ä¼šä½œä¸ºä¸€ä¸ªæ–‡ä»¶è¢«makeè¯†åˆ«</span><br><span class="line"></span><br><span class="line"><span class="section">hello: main.o message.o</span></span><br><span class="line">gcc main.o message.o -o hello</span><br><span class="line"></span><br><span class="line"><span class="section">main.o: main.c</span></span><br><span class="line">gcc -c main.c</span><br><span class="line"></span><br><span class="line"><span class="section">message.o: message.c</span></span><br><span class="line">gcc -c message.c</span><br><span class="line"></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">rm -f *.o hello</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸€æ¥ï¼Œåªæ˜¯æ”¹åŠ¨éƒ¨åˆ†æ–‡ä»¶ï¼Œè€Œä¸éœ€è¦å…¨éƒ¨é‡æ–°ç¼–è¯‘ã€‚</p><h3 id="æœ‰å¤šä¸ªç›®æ ‡ç¨‹åºç”Ÿæˆ"><a href="#æœ‰å¤šä¸ªç›®æ ‡ç¨‹åºç”Ÿæˆ" class="headerlink" title="æœ‰å¤šä¸ªç›®æ ‡ç¨‹åºç”Ÿæˆ"></a>æœ‰å¤šä¸ªç›®æ ‡ç¨‹åºç”Ÿæˆ</h3><p>å¯ä»¥ä½¿ç”¨æŒ‰ç…§makeçš„ç‰¹æ€§ï¼ŒæŠŠç›®æ ‡ç¨‹åºä½œä¸ºä¾èµ–ï¼Œæ¥å®ç°å¤šä¸ªç›®æ ‡åŒæ—¶ç¼–è¯‘</p><figure class="highlight makefile"><figcaption><span>Makefile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="keyword">.PHONY</span>: clean all</span></span><br><span class="line"></span><br><span class="line"><span class="section">all: hello world</span></span><br><span class="line">@echo <span class="string">&quot;Done&quot;</span></span><br><span class="line">// åœ¨å‘½ä»¤å‰é¢æ·»åŠ  @ åªä¼šæ˜¾ç¤ºæ‰§è¡Œç»“æœï¼Œè€Œä¸ä¼šæ˜¾ç¤ºå‘½ä»¤æœ¬èº«ï¼Œ@echo <span class="string">&quot;Done&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="section">hello: main.o message.o</span></span><br><span class="line">gcc main.o message.o -o hello</span><br><span class="line"></span><br><span class="line"><span class="section">world: main.o message.o</span></span><br><span class="line">gcc main.o message.o -o world</span><br><span class="line"></span><br><span class="line"><span class="section">main.o: main.c</span></span><br><span class="line">gcc -c main.c</span><br><span class="line"></span><br><span class="line"><span class="section">message.o: message.c</span></span><br><span class="line">gcc -c message.c</span><br><span class="line"></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">rm -f *.o hello world</span><br></pre></td></tr></table></figure><p>è€Œè¿›ä¸€æ­¥åœ°ï¼Œç›¸åŒç”Ÿæˆè§„åˆ™å¯ä»¥å†™åœ¨ä¸€èµ·ã€‚</p><figure class="highlight makefile"><figcaption><span>makefile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="keyword">.PHONY</span>: clean all</span></span><br><span class="line"></span><br><span class="line"><span class="section">all: hello world</span></span><br><span class="line">@echo <span class="string">&quot;Done&quot;</span></span><br><span class="line"></span><br><span class="line">hello world:main.o message.o</span><br><span class="line">gcc main.o message.o -o <span class="variable">$@</span></span><br><span class="line"></span><br><span class="line"><span class="section">main.o: main.c</span></span><br><span class="line">gcc -c main.c</span><br><span class="line"></span><br><span class="line"><span class="section">message.o: message.c</span></span><br><span class="line">gcc -c message.c</span><br><span class="line"></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">rm -f *.o hello world</span><br></pre></td></tr></table></figure><h3 id="å®šä¹‰å˜é‡"><a href="#å®šä¹‰å˜é‡" class="headerlink" title="å®šä¹‰å˜é‡"></a>å®šä¹‰å˜é‡</h3><p>å¯¹åº”é‡å¤ä½¿ç”¨çš„å€¼ï¼Œå¯ä»¥é€šè¿‡å˜é‡ä¸€èµ·ç®¡ç†ï¼Œæ–¹ä¾¿åç»­æ›´æ”¹ã€‚</p><p><strong>è‡ªåŠ¨å˜é‡</strong></p><ul><li>$@ è¡¨ç¤ºç›®æ ‡æ–‡ä»¶</li><li>$&lt; è¡¨ç¤ºç¬¬ä¸€ä¸ªä¾èµ–</li><li>$^ è¡¨ç¤ºæ‰€æœ‰ä¾èµ–</li></ul><figure class="highlight makefile"><figcaption><span>makefile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="keyword">.PHONY</span>: clean all</span></span><br><span class="line"></span><br><span class="line">CFLAGS = -Wall -g -O2</span><br><span class="line">targets = hello world</span><br><span class="line">sources = main.c message.c</span><br><span class="line">objects = main.o message.o</span><br><span class="line"></span><br><span class="line"><span class="section">all: <span class="variable">$(targets)</span></span></span><br><span class="line">@echo <span class="string">&quot;Done&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$(targets)</span>:<span class="variable">$(objects)</span></span><br><span class="line">gcc <span class="variable">$(CFLAGS)</span> <span class="variable">$(objects)</span> -o <span class="variable">$@</span></span><br><span class="line"></span><br><span class="line"><span class="section">main.o: main.c</span></span><br><span class="line">gcc <span class="variable">$(CFLAGS)</span> -c main.c</span><br><span class="line"></span><br><span class="line"><span class="section">message.o: message.c</span></span><br><span class="line">gcc <span class="variable">$(CFLAGS)</span> -c message.c</span><br><span class="line"></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">rm -f *.o hello world</span><br></pre></td></tr></table></figure><p>å¯¹äºåŒæ ·çš„æ–‡ä»¶åç¼€æœ‰ç€åŒæ ·å¤„ç†é€»è¾‘çš„ï¼Œå¯ä»¥è¿›æ­¥è¿™æ ·çœç•¥ã€‚<br><strong>ä½¿ç”¨é€šé…ç¬¦ç®€åŒ–</strong></p><figure class="highlight makefile"><figcaption><span>makefile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">%.o: %.c</span></span><br><span class="line">gcc <span class="variable">$(CFLAGS)</span> -c <span class="variable">$&lt;</span> -o <span class="variable">$@</span></span><br></pre></td></tr></table></figure><h3 id="å®Œæ•´ç¤ºä¾‹"><a href="#å®Œæ•´ç¤ºä¾‹" class="headerlink" title="å®Œæ•´ç¤ºä¾‹"></a>å®Œæ•´ç¤ºä¾‹</h3><p>ä¸€ä¸ªå®Œæ•´çš„<mark class="hl-label green">Makefile</mark> å¦‚ä¸‹æ‰€ç¤ºã€‚</p><figure class="highlight makefile"><figcaption><span>makefile</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰ç¼–è¯‘å™¨å’Œç¼–è¯‘æ ‡å¿—</span></span><br><span class="line">CC = gcc</span><br><span class="line">CFLAGS = -Wall -g</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›®æ ‡å¯æ‰§è¡Œæ–‡ä»¶</span></span><br><span class="line">TARGET = HelloWorld</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›®æ ‡è§„åˆ™</span></span><br><span class="line"><span class="variable">$(TARGET)</span>: main.o message.o</span><br><span class="line">    <span class="variable">$(CC)</span> <span class="variable">$(CFLAGS)</span> -o <span class="variable">$(TARGET)</span> main.o message.o</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¯‘ç›®æ ‡æ–‡ä»¶</span></span><br><span class="line"><span class="section">main.o: main.c</span></span><br><span class="line">    <span class="variable">$(CC)</span> <span class="variable">$(CFLAGS)</span> -c main.c</span><br><span class="line"></span><br><span class="line"><span class="section">message.o: message.c</span></span><br><span class="line">    <span class="variable">$(CC)</span> <span class="variable">$(CFLAGS)</span> -c message.c</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…ç†æ„å»ºæ–‡ä»¶</span></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">    rm -f <span class="variable">$(TARGET)</span> *.o</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h2 id="Cmakeçš„åˆçº§ä½¿ç”¨"><a href="#Cmakeçš„åˆçº§ä½¿ç”¨" class="headerlink" title="Cmakeçš„åˆçº§ä½¿ç”¨"></a>Cmakeçš„åˆçº§ä½¿ç”¨</h2><blockquote><p>CMake æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„æ„å»ºç³»ç»Ÿç”Ÿæˆå·¥å…·ï¼Œå¹¿æ³›ç”¨äºè½¯ä»¶å¼€å‘ä¸­ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦ç”Ÿæˆé¡¹ç›®çš„æ„å»ºç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼ˆå¦‚ Makefile æˆ– Visual Studio é¡¹ç›®æ–‡ä»¶ï¼‰æ—¶ã€‚<br>CMake çš„ä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡ä¸€ä¸ªç®€å•çš„è„šæœ¬è¯­è¨€ï¼ˆCMakeLists.txtï¼‰æ¥æè¿°é¡¹ç›®ç»“æ„ã€ä¾èµ–å…³ç³»ã€ç¼–è¯‘å’Œé“¾æ¥è§„åˆ™ï¼Œç„¶åä¸ºä¸åŒçš„å¹³å°ç”Ÿæˆç›¸åº”çš„æ„å»ºæ–‡ä»¶ã€‚</p></blockquote><p>ä¸€ä¸ªç®€å•çš„<mark class="hl-label green">CmakeLists.txt</mark> ç¤ºä¾‹å¦‚ä¸‹ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.10)</span><br><span class="line"></span><br><span class="line">project(HelloWorld)</span><br><span class="line"></span><br><span class="line"># å®šä¹‰å˜é‡</span><br><span class="line">set(C_SOURCES hello.c message.c)</span><br><span class="line">message(&quot;C_SOURCES: $&#123;C_SOURCES&#125;&quot;)</span><br><span class="line"></span><br><span class="line">add_executable(HelloWorld $&#123;C_SOURCES&#125;)</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><ul><li>ä½¿ç”¨ cmake -S CmakeLists.txtæ‰€åœ¨ç›®å½• -B ç”Ÿæˆçš„ç¼–è¯‘ç›®å½•</li><li>ä½¿ç”¨ cmake â€“build ç¼–è¯‘ç”Ÿæˆç›®å½•</li></ul><div class="note green flat"><p>å½“ä½ ä¿®æ”¹æºæ–‡ä»¶åï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œé‡æ–°ç¼–è¯‘ï¼š<br><code>cmake --build build</code><br>ä¸éœ€è¦é‡æ–°è¿è¡Œ <code>cmake -S . -B build</code>ï¼Œå› ä¸ºæ„å»ºç³»ç»Ÿå·²ç»ç”Ÿæˆå¥½äº†ã€‚<br>å¦‚æœä½ åªæ˜¯åœ¨ç¼–è¾‘ .c æ–‡ä»¶æˆ–å…¶ä»–æºæ–‡ä»¶ï¼Œç›´æ¥è¿è¡Œ cmake â€“build build å°±ä¼šé‡æ–°ç¼–è¯‘å—å½±å“çš„éƒ¨åˆ†ï¼Œå¹¶ç”Ÿæˆæ›´æ–°åçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚</p><p>ä»€ä¹ˆæ—¶å€™éœ€è¦é‡æ–°è¿è¡Œ cmake -S . -B buildï¼Ÿ<br>ä½ åªéœ€è¦é‡æ–°è¿è¡Œ <code>cmake -S . -B build</code> æˆ–è€…æ‰§è¡Œç±»ä¼¼æ­¥éª¤çš„æƒ…å†µåŒ…æ‹¬ï¼š</p><p>ä¿®æ”¹äº† CMakeLists.txt æ–‡ä»¶ï¼šä¾‹å¦‚æ·»åŠ æ–°çš„æºæ–‡ä»¶ã€æ›´æ”¹ç¼–è¯‘é€‰é¡¹ã€æ·»åŠ æ–°çš„åº“ä¾èµ–ç­‰ã€‚<br>ç§»åŠ¨æˆ–åˆ é™¤äº†æºæ–‡ä»¶ï¼šæ¯”å¦‚ä½ æ›´æ”¹äº†æ–‡ä»¶è·¯å¾„æˆ–æ–‡ä»¶åã€‚<br>æ›´æ¢äº†ç¼–è¯‘å·¥å…·é“¾ï¼šä¾‹å¦‚ä» make åˆ‡æ¢åˆ° ninjaï¼Œæˆ–è€…ä» gcc åˆ‡æ¢åˆ° clangã€‚<br>åœ¨è¿™äº›æƒ…å†µä¸‹ï¼ŒCMake éœ€è¦é‡æ–°é…ç½®æ„å»ºç³»ç»Ÿï¼Œæ‰€ä»¥ä½ éœ€è¦é‡æ–°æ‰§è¡Œ <code>cmake -S . -B build</code>ã€‚</p></div>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºåŸºç¡€ </category>
          
          <category> è¯­è¨€ç¼–è¯‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> C </tag>
            
            <tag> make </tag>
            
            <tag> cmake </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Javaè¿æ¥Redis</title>
      <link href="/posts/da220756.html"/>
      <url>/posts/da220756.html</url>
      
        <content type="html"><![CDATA[<h3 id="ä½¿ç”¨Jedis"><a href="#ä½¿ç”¨Jedis" class="headerlink" title="ä½¿ç”¨Jedis"></a>ä½¿ç”¨Jedis</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>RedisDemo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>17<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>17<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>redis.clients<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jedis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.BeforeEach;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Jedis jedis;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeEach</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span>&#123;</span><br><span class="line">        jedis = <span class="keyword">new</span> <span class="title class_">Jedis</span>(<span class="string">&quot;**.**.**.**&quot;</span>,<span class="number">6379</span>);</span><br><span class="line">        jedis.auth(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">        jedis.select(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">var</span> <span class="variable">a</span> <span class="operator">=</span> jedis.get(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        System.out.println(a);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello world!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œä¸ºåŸºæœ¬ä½¿ç”¨ã€‚</p><h4 id="Jedisçš„è¿æ¥æ± "><a href="#Jedisçš„è¿æ¥æ± " class="headerlink" title="Jedisçš„è¿æ¥æ± "></a>Jedisçš„è¿æ¥æ± </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPool;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.JedisPoolConfig;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.time.Duration;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JedisConnectionFactory</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> JedisPool jedisPool;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// é…ç½®</span></span><br><span class="line">        <span class="type">JedisPoolConfig</span> <span class="variable">jedisPoolConfig</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JedisPoolConfig</span>();</span><br><span class="line">        <span class="comment">// æœ€å¤§è¿æ¥æ•°</span></span><br><span class="line">        jedisPoolConfig.setMaxTotal(<span class="number">8</span>);</span><br><span class="line">        <span class="comment">// æœ€å¤§ç©ºé—²æ•°</span></span><br><span class="line">        jedisPoolConfig.setMaxIdle(<span class="number">8</span>);;</span><br><span class="line">        jedisPoolConfig.setMinIdle(<span class="number">0</span>);</span><br><span class="line">        <span class="comment">// æœ€é•¿ç­‰å¾…æ—¶é—´</span></span><br><span class="line">        jedisPoolConfig.setMaxWait(Duration.ofMillis(<span class="number">200</span>));</span><br><span class="line">        jedisPool = <span class="keyword">new</span> <span class="title class_">JedisPool</span>(jedisPoolConfig,<span class="string">&quot;**.**.**.**&quot;</span>,<span class="number">6379</span>,<span class="number">1000</span>,<span class="string">&quot;123&quot;</span>,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Jedis <span class="title function_">getJedis</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> jedisPool.getResource();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.AfterEach;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.BeforeEach;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> redis.clients.jedis.Jedis;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Jedis jedis;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@BeforeEach</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span>&#123;</span><br><span class="line">        jedis = JedisConnectionFactory.getJedis();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@AfterEach</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">tearDown</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(jedis!=<span class="literal">null</span>)&#123;</span><br><span class="line">            jedis.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testPool</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">var</span> <span class="variable">a</span> <span class="operator">=</span> jedis.get(<span class="string">&quot;hunan:name&quot;</span>);</span><br><span class="line">        System.out.println(a);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello world!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨SpringDataRedis"><a href="#ä½¿ç”¨SpringDataRedis" class="headerlink" title="ä½¿ç”¨SpringDataRedis"></a>ä½¿ç”¨SpringDataRedis</h3><p>åœ¨é‡Œé¢æä¾›äº†<code>RedisTemplate</code>å·¥å…·ç±»ï¼Œå°è£…Redisçš„æ“ä½œï¼Œå¦‚API<code>redisTemplate.opsForValue()</code>è¿”å›<code>ValueOperations</code>æ¥æ“ä½œStringç±»å‹ã€‚</p><p>åœ¨åˆ›å»ºçš„æ—¶å€™å‹¾é€‰<code>SpringDataRedis</code>ã€‚</p><p>pom.xmlæ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-pool2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">data:</span></span><br><span class="line">    <span class="attr">redis:</span></span><br><span class="line">      <span class="attr">host:</span> <span class="string">**.**.**.**</span></span><br><span class="line">      <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">      <span class="attr">password:</span> <span class="number">123</span></span><br><span class="line">      <span class="attr">database:</span> <span class="number">0</span></span><br><span class="line">      <span class="attr">lettuce:</span></span><br><span class="line">        <span class="attr">pool:</span></span><br><span class="line">          <span class="attr">max-idle:</span> <span class="number">8</span></span><br><span class="line">          <span class="attr">max-active:</span> <span class="number">8</span></span><br><span class="line">          <span class="attr">min-idle:</span> <span class="number">0</span></span><br><span class="line">          <span class="attr">max-wait:</span> <span class="number">100</span></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">level:</span></span><br><span class="line">    <span class="attr">org.springframework.data.redis:</span> <span class="string">DEBUG</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="è§£å†³åºåˆ—åŒ–å› ç´ -è‡ªå®šä¹‰RedisTemplate"><a href="#è§£å†³åºåˆ—åŒ–å› ç´ -è‡ªå®šä¹‰RedisTemplate" class="headerlink" title="è§£å†³åºåˆ—åŒ–å› ç´ -è‡ªå®šä¹‰RedisTemplate"></a>è§£å†³åºåˆ—åŒ–å› ç´ -è‡ªå®šä¹‰RedisTemplate</h4><p>é¿å…åœ¨åºåˆ—åŒ–æ—¶å€™é”™è¯¯åºåˆ—åŒ–<strong>å³ä½ å­˜çš„å’Œå®é™…å­˜çš„ä¸ä¸€æ ·</strong>ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªè¿”å›redisTemplateçš„Beanï¼Œå…¶ä¸­Keyä½¿ç”¨Stringåºåˆ—åŒ–å¯¹è±¡ï¼ŒValueä½¿ç”¨Jsonåºåˆ—åŒ–å¯¹è±¡ã€‚</p><p>é¦–å…ˆæ·»åŠ jacksonä»¥æ¥åˆ°pom.xmlï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.redisdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.connection.RedisConnectionFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.RedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.serializer.RedisSerializer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.serializer.StringRedisSerializer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate&lt;String,Object&gt; <span class="title function_">redisTemplate</span><span class="params">(RedisConnectionFactory redisConnectionFactory)</span>&#123;</span><br><span class="line">        RedisTemplate&lt;String,Object&gt; redisTemplate = <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>&lt;&gt;();</span><br><span class="line">        redisTemplate.setConnectionFactory(redisConnectionFactory);</span><br><span class="line">        redisTemplate.setKeySerializer(RedisSerializer.string());</span><br><span class="line">        redisTemplate.setHashKeySerializer(RedisSerializer.string());</span><br><span class="line">        redisTemplate.setValueSerializer(<span class="keyword">new</span> <span class="title class_">GenericJackson2JsonRedisSerializer</span>());</span><br><span class="line">        redisTemplate.setHashValueSerializer(<span class="keyword">new</span> <span class="title class_">GenericJackson2JsonRedisSerializer</span>());</span><br><span class="line">        <span class="keyword">return</span> redisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨è‡ªå¸¦çš„StringRedisTemplate"><a href="#ä½¿ç”¨è‡ªå¸¦çš„StringRedisTemplate" class="headerlink" title="ä½¿ç”¨è‡ªå¸¦çš„StringRedisTemplate"></a>ä½¿ç”¨è‡ªå¸¦çš„StringRedisTemplate</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.redisdemo.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">ObjectMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testObject2</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException &#123;</span><br><span class="line">    <span class="type">User</span> <span class="variable">china</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;china&quot;</span>, <span class="number">5000</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> mapper.writeValueAsString(china);</span><br><span class="line">    stringRedisTemplate.opsForValue().set(<span class="string">&quot;user&quot;</span>,string);</span><br><span class="line"></span><br><span class="line">    string = stringRedisTemplate.opsForValue().get(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">    china = mapper.readValue(string,User.class);</span><br><span class="line">    System.out.println(china);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ç”¨äºæµ‹è¯•ç”¨çš„æ–‡ä»¶</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.redisdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.example.redisdemo.pojo.User;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.core.JsonProcessingException;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> jakarta.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.RedisTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.redis.core.StringRedisTemplate;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RedisDemoApplicationTests</span> &#123;</span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testString</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">System.out.println(redisTemplate);</span><br><span class="line"><span class="type">var</span> <span class="variable">name</span> <span class="operator">=</span> redisTemplate.opsForValue();</span><br><span class="line">System.out.println(name);</span><br><span class="line">name.set(<span class="string">&quot;asd&quot;</span>,<span class="string">&quot;asd&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testObject1</span><span class="params">()</span>&#123;</span><br><span class="line">redisTemplate.opsForValue().set(<span class="string">&quot;user&quot;</span>,<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;lnpbqc&quot;</span>,<span class="number">18</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> StringRedisTemplate stringRedisTemplate;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">ObjectMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>();</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testObject2</span><span class="params">()</span> <span class="keyword">throws</span> JsonProcessingException &#123;</span><br><span class="line"><span class="type">User</span> <span class="variable">china</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;china&quot;</span>, <span class="number">5000</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">string</span> <span class="operator">=</span> mapper.writeValueAsString(china);</span><br><span class="line">stringRedisTemplate.opsForValue().set(<span class="string">&quot;user&quot;</span>,string);</span><br><span class="line"></span><br><span class="line">string = stringRedisTemplate.opsForValue().get(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">china = mapper.readValue(string,User.class);</span><br><span class="line">System.out.println(china);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
          <category> ä½¿ç”¨Javaè¿æ¥Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Redis </tag>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redisæ•°æ®ç»“æ„ç•¥è§£</title>
      <link href="/posts/ab6ae3ea.html"/>
      <url>/posts/ab6ae3ea.html</url>
      
        <content type="html"><![CDATA[<h3 id="ç®€å•è¯´æ˜"><a href="#ç®€å•è¯´æ˜" class="headerlink" title="ç®€å•è¯´æ˜"></a>ç®€å•è¯´æ˜</h3><p>Redisæ˜¯key-valueçš„æ•°æ®åº“ï¼Œkeyä¸€èˆ¬ä¸ºStringï¼Œvalueå¤šç§å¤šæ ·ï¼š</p><ul><li>String</li><li>Hash</li><li>List</li><li>Set</li><li>SortedSet<br>ä»¥ä¸Šä¸ºåŸºæœ¬ç±»å‹ï¼Œä»¥ä¸‹ä¸ºç‰¹æ®Šç±»å‹</li></ul><ul><li>GEO</li><li>BitMap</li><li>HyperLog</li></ul><h3 id="Keyçš„å±‚çº§"><a href="#Keyçš„å±‚çº§" class="headerlink" title="Keyçš„å±‚çº§"></a>Keyçš„å±‚çº§</h3><p>Redisçš„keyå…è®¸å¤šä¸ªå•è¯å½¢æˆå±‚çº§ï¼Œå•è¯ä¹‹é—´ä»¥<code>ï¼š</code>éš”å¼€ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p><blockquote><p>é¡¹ç›®åï¼šä¸šåŠ¡åï¼šç±»å‹ï¼šid</p></blockquote><h3 id="æ“ä½œå‘½ä»¤"><a href="#æ“ä½œå‘½ä»¤" class="headerlink" title="æ“ä½œå‘½ä»¤"></a>æ“ä½œå‘½ä»¤</h3><p><a href="https://redis.io/commands">å®˜ç½‘æ–‡æ¡£</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">help</span> @group <span class="comment">#æŸ¥çœ‹å¯¹åº”çš„ç±»å‹çš„å‘½ä»¤</span></span><br></pre></td></tr></table></figure><h4 id="é€šç”¨å‘½ä»¤"><a href="#é€šç”¨å‘½ä»¤" class="headerlink" title="é€šç”¨å‘½ä»¤"></a>é€šç”¨å‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">keys &lt;pattern&gt; <span class="comment">#æŸ¥çœ‹ç¬¦åˆçš„keyï¼Œå¤ªå¤šå•çº¿ç¨‹ä¼šé˜»å¡</span></span><br><span class="line">del &lt;key&gt; [key...] <span class="comment">#åˆ é™¤ç¬¦åˆçš„keyï¼Œè¿”å›æˆåŠŸåˆ é™¤çš„æ•°é‡</span></span><br><span class="line">exists &lt;key&gt; [key...] <span class="comment">#åˆ¤æ–­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">expire &lt;key&gt; &lt;time&gt; <span class="comment">#ç»™keyè®¾ç½®æœ‰æ•ˆæœŸï¼ˆç§’ï¼‰</span></span><br><span class="line">ttl &lt;key&gt; <span class="comment">#æŸ¥çœ‹keyçš„å­˜æ´»äº‹ä»¶ï¼Œ-1è¡¨æ°¸ä¹…æœ‰æ•ˆï¼Œ-2è¡¨å¤±æ•ˆï¼ˆå³æ²¡æœ‰ï¼‰</span></span><br></pre></td></tr></table></figure><h4 id="Stringå‘½ä»¤"><a href="#Stringå‘½ä»¤" class="headerlink" title="Stringå‘½ä»¤"></a>Stringå‘½ä»¤</h4><p>åˆæ ¹æ®å­—ç¬¦ä¸²å®é™…æ ¼å¼ï¼Œåˆ†ä¸ºä¸‰ç±»ï¼š</p><ul><li>string</li><li>int</li><li>float<blockquote><p>ä¸è¶…è¿‡512m</p></blockquote></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> &lt;key&gt; &lt;value&gt; [nx] [ex time] <span class="comment">#æ·»åŠ å€¼</span></span><br><span class="line">get &lt;key&gt; <span class="comment">#è·å–å€¼</span></span><br><span class="line">mset &lt;key value&gt;[key value...] <span class="comment">#æ·»åŠ å¤šä¸ªå€¼</span></span><br><span class="line">mget &lt;key&gt; [key...] <span class="comment">#è·å¾—å¤šä¸ªå€¼ï¼Œå¯¹åº”è¿”å›</span></span><br><span class="line">incr &lt;key&gt; <span class="comment">#æ•´æ•°è‡ªå¢</span></span><br><span class="line">incrby &lt;key&gt; &lt;increment&gt; <span class="comment">#è®©æ•´æ•°å¢é•¿increment</span></span><br><span class="line">decr &lt;key&gt; <span class="comment">#æ•´æ•°è‡ªå‡</span></span><br><span class="line">incrbyfloat &lt;key&gt; &lt;increment&gt; <span class="comment">#æµ®ç‚¹å¢é•¿</span></span><br><span class="line">setnx &lt;key&gt; &lt;value&gt; <span class="comment">#å¦‚æœkeyä¸å­˜åœ¨å°±æ–°å¢</span></span><br><span class="line">setex &lt;key&gt; &lt;value&gt; &lt;time&gt; <span class="comment">#æ–°å¢å¹¶è®¾ç½®æœ‰æ•ˆæœŸ</span></span><br></pre></td></tr></table></figure><h4 id="Hashå‘½ä»¤"><a href="#Hashå‘½ä»¤" class="headerlink" title="Hashå‘½ä»¤"></a>Hashå‘½ä»¤</h4><p><em>ä¸Stringçš„åŒºåˆ«ï¼šStringæ˜¯å°†å¯¹è±¡åºåˆ—åŒ–æˆJSONå­˜å‚¨ï¼Œæ— æ³•ä¿®æ”¹æŸä¸ªå­—æ®µã€‚è€ŒHashåˆ™æ˜¯å°†æ¯ä¸ªå­—æ®µå•ç‹¬å­˜å‚¨ï¼Œå¯ä»¥å•ç‹¬CRUD</em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">hset &lt;key&gt; &lt;filed&gt; &lt;value&gt; [nx] <span class="comment">#å¯¹æŸä¸ªå¯¹è±¡çš„å­—æ®µæ·»åŠ </span></span><br><span class="line">hget &lt;key&gt; &lt;field&gt; <span class="comment">#è·å–å€¼</span></span><br><span class="line">hmset &lt;key&gt; &lt;filed&gt; &lt;value&gt;[field value...] <span class="comment">#ä¸€ä¸ªkeyæ·»åŠ å¤šä¸ªå­—æ®µ</span></span><br><span class="line">hmget &lt;key&gt; &lt;filed&gt; [field...] <span class="comment">#è·å¾—å¤šä¸ªå€¼ï¼Œå¯¹åº”è¿”å›</span></span><br><span class="line">hgetall &lt;key&gt; <span class="comment">#è·å–keyçš„æ‰€æœ‰å­—æ®µ</span></span><br><span class="line">hkeys <span class="comment">#è·å–æ‰€æœ‰keyå€¼</span></span><br><span class="line">hvals <span class="comment">#è·å–æ‰€æœ‰å€¼</span></span><br><span class="line">hincrby &lt;key&gt; &lt;field&gt; &lt;increment&gt; <span class="comment">#è®©æ•´æ•°å¢é•¿increment</span></span><br><span class="line">hsetnx &lt;key&gt; &lt;field&gt; &lt;value&gt; <span class="comment">#å¦‚æœfieldä¸å­˜åœ¨å°±æ–°å¢</span></span><br></pre></td></tr></table></figure><h4 id="Listå‘½ä»¤"><a href="#Listå‘½ä»¤" class="headerlink" title="Listå‘½ä»¤"></a>Listå‘½ä»¤</h4><ul><li>æœ‰åº</li><li>å¯é‡å¤</li><li>æ“ä½œå¿«</li><li>æŸ¥è¯¢ä¸€èˆ¬</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">lpush &lt;key&gt; &lt;value&gt; [value ...]</span><br><span class="line">lpop &lt;key&gt; [count]</span><br><span class="line">rpush &lt;key&gt; &lt;value&gt; [value ...]</span><br><span class="line">rpop &lt;key&gt; [count]</span><br><span class="line"><span class="comment"># ä¸Šé¢å¯ä»¥ç›¸å½“äºåŒç«¯é˜Ÿåˆ—</span></span><br><span class="line"></span><br><span class="line">lrange &lt;key&gt; start end <span class="comment">#è·å–keyçš„åˆ—è¡¨çš„ä¸‹æ ‡èŒƒå›´å€¼(é›¶å¼€å§‹)</span></span><br><span class="line">blpop &lt;key&gt; &lt;<span class="built_in">timeout</span>&gt; <span class="comment">#block å¦‚æœæ²¡æœ‰ä¼šç­‰å¾…æ—¶é—´</span></span><br><span class="line">brpop &lt;key&gt; &lt;<span class="built_in">timeout</span>&gt; <span class="comment">#block å¦‚æœæ²¡æœ‰ä¼šç­‰å¾…æ—¶é—´</span></span><br></pre></td></tr></table></figure><h4 id="Setå‘½ä»¤"><a href="#Setå‘½ä»¤" class="headerlink" title="Setå‘½ä»¤"></a>Setå‘½ä»¤</h4><ul><li>æ— åº</li><li>ä¸å¯é‡å¤</li><li>æŸ¥æ‰¾å¿«</li><li>æ”¯æŒå¹¶äº¤å·®é›†ç­‰</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sadd &lt;key&gt; &lt;value&gt; <span class="comment">#æ·»åŠ å…ƒç´ </span></span><br><span class="line">srem &lt;key&gt; &lt;value&gt; <span class="comment">#åˆ é™¤å…ƒç´ </span></span><br><span class="line">scard &lt;key&gt; <span class="comment">#è¿”å›é›†åˆå¤§å°</span></span><br><span class="line">sismember &lt;key&gt; &lt;value&gt; <span class="comment">#é›†åˆæ˜¯å¦å­˜åœ¨å¯¹åº”å…ƒç´ </span></span><br><span class="line">smembers &lt;key&gt; <span class="comment">#é›†åˆä¸­çš„å…ƒç´ </span></span><br><span class="line">sinter &lt;key1&gt; &lt;key2&gt; <span class="comment">#ä¸¤ä¸ªé›†åˆçš„äº¤é›†</span></span><br><span class="line">sdiff &lt;key1&gt; &lt;key2&gt; <span class="comment">#å·®é›†</span></span><br><span class="line">sunion &lt;key1&gt; &lt;key2&gt; <span class="comment">#å¹¶é›†</span></span><br></pre></td></tr></table></figure><h4 id="SortedSetå‘½ä»¤"><a href="#SortedSetå‘½ä»¤" class="headerlink" title="SortedSetå‘½ä»¤"></a>SortedSetå‘½ä»¤</h4><blockquote><p>åº•å±‚å®ç°æ˜¯ä¸€ä¸ªè·³è¡¨åŠ Hash<br>å¸¸åº”ç”¨åœ¨æ’è¡Œæ¦œ</p></blockquote><ul><li>å¯æ’åº</li><li>ä¸é‡å¤</li><li>æŸ¥è¯¢å¿«<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">zadd &lt;key&gt; &lt;score&gt; &lt;value&gt; <span class="comment">#æ·»åŠ ä¸€ä¸ªå…ƒç´ æˆ–å¤šä¸ªå…ƒç´ åˆ°é›†åˆä¸­ï¼Œè‹¥å­˜åœ¨æ›´æ–°score</span></span><br><span class="line">zrem &lt;key&gt; &lt;value&gt; <span class="comment">#ç§»é™¤å…ƒç´ </span></span><br><span class="line">zscore &lt;key&gt; &lt;value&gt; <span class="comment">#è·å–scoreå€¼</span></span><br><span class="line">zrank &lt;key&gt; &lt;value&gt; <span class="comment">#è·å–æ’å</span></span><br><span class="line">zcard &lt;key&gt;<span class="comment">#è·å–ä¸ªæ•°</span></span><br><span class="line">zcount &lt;key&gt; &lt;min&gt; &lt;max&gt; <span class="comment">#ç»Ÿè®¡[min,max]èŒƒå›´çš„ä¸ªæ•°</span></span><br><span class="line"></span><br><span class="line">zincrby &lt;key&gt; &lt;increment&gt; &lt;value&gt; <span class="comment">#æŒ‡å®šå…ƒç´ è‡ªå¢</span></span><br><span class="line">zrange &lt;key&gt; &lt;min&gt; &lt;max&gt; <span class="comment">#æŒ‰ç…§scoreæ’åï¼Œè·å–æ’ååœ¨[min,max]çš„å…ƒç´ </span></span><br><span class="line">zrangebyscore &lt;key&gt; &lt;min&gt; &lt;max&gt; <span class="comment">#æŒ‰ç…§scoreï¼Œè·å–åˆ†æ•°åœ¨[min,max]çš„å…ƒç´ </span></span><br><span class="line"></span><br><span class="line"><span class="comment">#åœ¨ä¸­é—´åŠ å…¥revï¼Œå³åè½¬ï¼Œå¦‚zrevrange &lt;key&gt; &lt;min&gt; &lt;max&gt; #åå‘æ’åº</span></span><br><span class="line"></span><br><span class="line">zinter &lt;key1&gt; &lt;key2&gt; <span class="comment">#ä¸¤ä¸ªé›†åˆçš„äº¤é›†</span></span><br><span class="line">zdiff &lt;key1&gt; &lt;key2&gt; <span class="comment">#å·®é›†</span></span><br><span class="line">zunion &lt;key1&gt; &lt;key2&gt; <span class="comment">#å¹¶é›†</span></span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
          <category> Redisæ•°æ® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•å®‰è£…é…ç½®Redis</title>
      <link href="/posts/280089b4.html"/>
      <url>/posts/280089b4.html</url>
      
        <content type="html"><![CDATA[<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>Ubuntu å·²ç»é…ç½®å¥½äº†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install redis</span><br></pre></td></tr></table></figure><h3 id="ç›¸å…³é…ç½®æ–‡ä»¶"><a href="#ç›¸å…³é…ç½®æ–‡ä»¶" class="headerlink" title="ç›¸å…³é…ç½®æ–‡ä»¶"></a>ç›¸å…³é…ç½®æ–‡ä»¶</h3><ul><li><p>redis.conf </p><blockquote><p>Ubuntuç³»ç»Ÿåœ¨&#x2F;etc&#x2F;redisä¸‹é¢</p></blockquote></li></ul><h3 id="å‘½ä»¤é…ç½®"><a href="#å‘½ä»¤é…ç½®" class="headerlink" title="å‘½ä»¤é…ç½®"></a>å‘½ä»¤é…ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">service redis-server restart</span><br><span class="line">service redis-server status</span><br><span class="line">service redis start</span><br><span class="line">service redis stop</span><br></pre></td></tr></table></figure><h3 id="äº¤äº’"><a href="#äº¤äº’" class="headerlink" title="äº¤äº’"></a>äº¤äº’</h3><h5 id="å‘½ä»¤è¡Œ"><a href="#å‘½ä»¤è¡Œ" class="headerlink" title="å‘½ä»¤è¡Œ"></a>å‘½ä»¤è¡Œ</h5><blockquote><p>redis-cli [options] [command]</p><ul><li><p>-h 127.0.0.1ï¼šåœ°å€</p></li><li><p>-p 6379ï¼šç«¯å£</p></li><li><p>-a 123ï¼šå¯†ç </p><blockquote><p>ç›´æ¥æŒ‡å®šä¸å®‰å…¨ï¼Œå¯ä»¥çœç•¥ï¼Œåœ¨æ‰“å¼€åçš„äº¤äº’å‘½ä»¤è¡Œè¾“å…¥<code>auth ç”¨æˆ· å¯†ç </code>æˆ–è€…<code>auth å¯†ç </code>è¿›è¡Œç™»å½•</p></blockquote></li></ul></blockquote><h5 id="å®¢æˆ·ç«¯"><a href="#å®¢æˆ·ç«¯" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h5><p><a href="https://github.com/lework/RedisDesktopManager-Windows/releases">ç½‘ç«™ä¸‹è½½åœ°å€</a></p><p><a href="https://redis.io/insight/">å®˜æ–¹å·¥å…·ä¸‹è½½åœ°å€</a></p><h5 id="è¯­è¨€é…ç½®"><a href="#è¯­è¨€é…ç½®" class="headerlink" title="è¯­è¨€é…ç½®"></a>è¯­è¨€é…ç½®</h5><blockquote><p>è¯·å…³æ³¨åç»­æ›´æ–°</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
          <category> å®‰è£…ä¸é…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®‰è£…/é…ç½®Freeglut</title>
      <link href="/posts/c2835fa6.html"/>
      <url>/posts/c2835fa6.html</url>
      
        <content type="html"><![CDATA[<h2 id="æ€ä¹ˆåŠæ€ä¹ˆåŠè¦å­¦ä¹ è®¡ç®—æœºå›¾å½¢å­¦äº†"><a href="#æ€ä¹ˆåŠæ€ä¹ˆåŠè¦å­¦ä¹ è®¡ç®—æœºå›¾å½¢å­¦äº†" class="headerlink" title="æ€ä¹ˆåŠæ€ä¹ˆåŠè¦å­¦ä¹ è®¡ç®—æœºå›¾å½¢å­¦äº†"></a>æ€ä¹ˆåŠæ€ä¹ˆåŠè¦å­¦ä¹ è®¡ç®—æœºå›¾å½¢å­¦äº†</h2><p>é…ç½®ç¯å¢ƒå¯¹æ¯ä¸ªäººæ¥è¯´éƒ½ååˆ†çš„è‹¦æ¼ï¼Œå³ä¾¿æˆ‘æŒ‰ç…§è€å¸ˆçš„æ­¥éª¤ä¸€æ­¥æ­¥æ¥ï¼Œä¹Ÿæ²¡æˆåŠŸ<del>ï¼ˆä»€ä¹ˆæƒ…å†µï¼Ÿè¿™å°±æ˜¯é…ç½®çš„é­…åŠ›æ‰€åœ¨ï¼‰</del></p><h2 id="é…ç½®é¡»çŸ¥"><a href="#é…ç½®é¡»çŸ¥" class="headerlink" title="é…ç½®é¡»çŸ¥"></a>é…ç½®é¡»çŸ¥</h2><div class="note green flat"><p>æˆ‘åªèƒ½ä¿è¯åœ¨æˆ‘è¿™æ ·çš„ç¯å¢ƒä¸‹èƒ½æ­£å¸¸è¿è¡Œã€‚</p></div><ul><li>ç³»ç»Ÿï¼šWindows10æ•™è‚²ç‰ˆï¼ˆ21H2ï¼Œ19044.1766ï¼‰</li></ul><h2 id="é…ç½®å‰å‡†å¤‡"><a href="#é…ç½®å‰å‡†å¤‡" class="headerlink" title="é…ç½®å‰å‡†å¤‡"></a>é…ç½®å‰å‡†å¤‡</h2><p>é¦–å…ˆè¯·å‡†å¤‡å¥½ä»¥ä¸‹å®‰è£…åŒ…ï¼ˆé“¾æ¥ä¸ä¿çœŸï¼‰ï¼š</p><ul><li>Dev-C++ v5.11ï¼ˆæ— ç¼–è¯‘å™¨ç‰ˆï¼‰:<a href="https://sourceforge.net/projects/orwelldevcpp">ä¸‹è½½åœ°å€</a></li><li>Cmake v3.13.5:<a href="https://github.com/Kitware/CMake/releases/download/v3.13.5/cmake-3.13.5-win32-x86.msi">ä¸‹è½½åœ°å€</a></li><li>GCC v8.1.0:<a href="https://sourceforge.net/projects/mingw-w64/files/Toolchains%20targetting%20Win32/Personal%20Builds/mingw-builds/8.1.0/threads-posix/dwarf/i686-8.1.0-release-posix-dwarf-rt_v6-rev0.7z">ä¸‹è½½åœ°å€</a></li><li>Freeglut v3.6.0:<a href="https://sourceforge.net/projects/freeglut/files/freeglut/3.6.0/freeglut-3.6.0.tar.gz/download">ä¸‹è½½åœ°å€</a></li></ul><h2 id="å®‰è£…ä¸è§£å‹"><a href="#å®‰è£…ä¸è§£å‹" class="headerlink" title="å®‰è£…ä¸è§£å‹"></a>å®‰è£…ä¸è§£å‹</h2><p>å¯¹äº<mark class="hl-label green">Dev-C++</mark>  å’Œ <mark class="hl-label green">Cmake</mark> ç›´æ¥åŒå‡»å®‰è£…å³å¯ï¼Œæ³¨æ„å®‰è£…ä½ç½®ï¼ŒåŒæ—¶åœ¨å®‰è£…Cmakeçš„æ—¶å€™è®°çš„é€‰æ‹© <mark class="hl-label blue">å¯¼å…¥Pathï¼Œåˆ›å»ºæ¡Œé¢å›¾æ ‡</mark>  é€‰é¡¹ã€‚</p><blockquote><p>å¦‚æœæ²¡æœ‰å¯¼å…¥ç³»ç»Ÿè·¯å¾„ï¼Œè¯·è‡ªè¡Œæœç´¢å¯¼å…¥ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ cmake --version</span><br><span class="line"><span class="comment">#cmake version 3.13.5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#CMake suite maintained and supported by Kitware (kitware.com/cmake).</span></span><br></pre></td></tr></table></figure><p>å¯¹äº<mark class="hl-label green">GCC</mark>  å’Œ <mark class="hl-label green">Freeglut</mark> è§£å‹åˆ°åˆé€‚çš„ç›®å½•å³å¯ã€‚</p><p>å°†è§£å‹çš„GCCæ–‡ä»¶å¤¹<mark class="hl-label green">mingw32</mark> å¤åˆ¶ç²˜è´´åˆ°å¦‚<mark class="hl-label blue">C:\Program Files (x86)\Dev-Cpp</mark> çš„Dev-C++å®‰è£…ç›®å½•ä¸‹ã€‚</p><p><img src="/posts/c2835fa6/mingw32%E8%B7%AF%E5%BE%84.png" alt="mingw32è·¯å¾„"></p><blockquote><p>è‡ªè¡Œå°†<mark class="hl-label blue">mingw32/bin</mark> æ·»åŠ åˆ°ç³»ç»Ÿè·¯å¾„ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ g++ --version</span><br><span class="line"><span class="comment">#g++ (i686-posix-dwarf-rev0, Built by MinGW-W64 project) 8.1.0</span></span><br><span class="line"><span class="comment">#Copyright (C) 2018 Free Software Foundation, Inc.</span></span><br><span class="line"><span class="comment">#This is free software; see the source for copying conditions.  There is NO</span></span><br><span class="line"><span class="comment">#warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</span></span><br></pre></td></tr></table></figure><h3 id="ç¼–è¯‘Freeglut"><a href="#ç¼–è¯‘Freeglut" class="headerlink" title="ç¼–è¯‘Freeglut"></a>ç¼–è¯‘Freeglut</h3><ul><li>åŒå‡»æ‰“å¼€<mark class="hl-label green">Cmake</mark> ã€‚</li><li>é€‰æ‹©Freeglutä¹‹å‰è§£å‹çš„ç›®å½•å’ŒCmakeè¾“å‡ºç›®å½•ã€‚<br><img src="/posts/c2835fa6/%E7%BC%96%E8%AF%91Freeglut-1.png" alt="é€‰æ‹©ç›®å½•"></li><li>é€‰æ‹©ç”Ÿæˆå™¨ï¼ˆgenerator)ä¸º <mark class="hl-label blue">Mingw Makefiles</mark> ,å…¶ä»–é»˜è®¤ã€‚</li><li>ç‚¹å‡» <mark class="hl-label blue">Configure</mark> ï¼Œå‡ºç°æŠ¥çº¢ï¼Œæ›´æ”¹å…¶ä¸­çš„å€¼ï¼ˆinstallæ˜¯æŒ‡åœ¨ç¼–è¯‘åè¾“å‡ºçš„ç›®å½•ï¼Œå¦‚åœ¨<code>C:/Users/lnpbqc/Documents/freeglut-build/install</code>ä¸‹é¢ï¼‰ã€‚<br><img src="/posts/c2835fa6/%E7%BC%96%E8%AF%91Freeglut-2.png" alt="é€‰æ‹©Cmakeé…ç½®"></li><li>ç‚¹å‡»<mark class="hl-label blue">Configure</mark> ï¼Œ<mark class="hl-label blue">Generate</mark> ï¼Œåæ‰“å¼€<code>C:/Users/lnpbqc/Documents/freeglut-build</code></li><li>åœ¨<mark class="hl-label blue">æ–‡ä»¶å¤¹</mark> ä¸­æ‰“å¼€<code>cmd</code>,è¾“å…¥ <code>mingw32-make install</code>ï¼Œç­‰å¾…å®Œæˆå³å¯ã€‚</li><li>å¾—åˆ° <code>install</code> æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰<code>bin</code>ï¼Œ<code>include</code>ï¼Œ<code>lib</code>ã€‚</li><li>å°†å…¶å¤åˆ¶åˆ°<mark class="hl-label blue">Dev-C++å®‰è£…ç›®å½•ä¸‹</mark> ï¼Œé‡å‘½åä¸º<code>opengl</code>ã€‚<br><img src="/posts/c2835fa6/%E7%BC%96%E8%AF%91Freeglut-3.png" alt="Freeglutç›®å½•æƒ…å†µ"></li></ul><h2 id="è‡ªæ­¤å¯ä»¥æ¥é…ç½®Dev-C-äº†"><a href="#è‡ªæ­¤å¯ä»¥æ¥é…ç½®Dev-C-äº†" class="headerlink" title="è‡ªæ­¤å¯ä»¥æ¥é…ç½®Dev-C++äº†"></a>è‡ªæ­¤å¯ä»¥æ¥é…ç½®Dev-C++äº†</h2><p>è¿™ä¸ªæ²¡ä»€ä¹ˆè¯´çš„ï¼ŒæŠŠå¯¹åº”çš„ç›®å½•æ·»åŠ è¿›æ¥å³å¯ï¼Œä¸‹é¢ç»™å‡ºæˆ‘çš„ä¾‹å­ã€‚<br><img src="/posts/c2835fa6/%E9%85%8D%E7%BD%AEDev-1.png" alt="æ–°å»ºé…ç½®åŠé“¾æ¥è¯´æ˜"><br><img src="/posts/c2835fa6/%E9%85%8D%E7%BD%AEDev-2.png" alt="æ·»åŠ äºŒè¿›åˆ¶æ–‡ä»¶"><br><img src="/posts/c2835fa6/%E9%85%8D%E7%BD%AEDev-3.png" alt="æ·»åŠ åº“æ–‡ä»¶"><br><img src="/posts/c2835fa6/%E9%85%8D%E7%BD%AEDev-4.png" alt="æ·»åŠ Cå¤´æ–‡ä»¶"><br><img src="/posts/c2835fa6/%E9%85%8D%E7%BD%AEDev-5.png" alt="æ·»åŠ C++å¤´æ–‡ä»¶"><br><img src="/posts/c2835fa6/%E9%85%8D%E7%BD%AEDev-6.png" alt="é…ç½®å¯¹åº”ç¨‹åº"></p><p>æœ€åç¡®å®šä¿å­˜å³å¯ã€‚</p><h2 id="è¿è¡ŒGlutç¨‹åº"><a href="#è¿è¡ŒGlutç¨‹åº" class="headerlink" title="è¿è¡ŒGlutç¨‹åº"></a>è¿è¡ŒGlutç¨‹åº</h2><p>ä¸‹é¢ç»™å‡ºä¸€æ®µCè¯­è¨€ç¨‹åºï¼Œæµ‹è¯•è¿è¡Œã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;GL/glut.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">    glutInitWindowPosition(<span class="number">100</span>,<span class="number">100</span>);</span><br><span class="line">    glutInitWindowSize(<span class="number">150</span>,<span class="number">150</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">init2</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Reshape</span><span class="params">(<span class="type">int</span> w,<span class="type">int</span> h)</span>&#123;</span><br><span class="line">    glViewport(w/<span class="number">4</span>,h/<span class="number">4</span>,w/<span class="number">2</span>,h/<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Paint</span><span class="params">()</span>&#123;</span><br><span class="line">glClear(GL_COLOR_BUFFER_BIT);</span><br><span class="line">    glBegin(GL_TRIANGLES);</span><br><span class="line">    &#123;</span><br><span class="line">        glVertex2d(<span class="number">-0.95</span>,<span class="number">-0.95</span>);</span><br><span class="line">        glVertex2d(<span class="number">0.95</span>,<span class="number">-0.95</span>);</span><br><span class="line">        glVertex2d(<span class="number">0</span>,<span class="number">0.95</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    glEnd();</span><br><span class="line">glFlush();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc,<span class="type">char</span>* argv[])</span>&#123;</span><br><span class="line">glutInit(&amp;argc,argv);</span><br><span class="line">    init();</span><br><span class="line">glutCreateWindow(<span class="string">&quot;First OpenGL!&quot;</span>);</span><br><span class="line">    init2();</span><br><span class="line">glutDisplayFunc(Paint);</span><br><span class="line">    glutReshapeFunc(Reshape);</span><br><span class="line">glutMainLoop();</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/posts/c2835fa6/ProgramResult.png" alt="è¿è¡Œç»“æœ"></p><blockquote><p>ä¸€èˆ¬åœ°ï¼Œå¯¹äºè¿™ä¸ªç¨‹åºéƒ½èƒ½æ­£å¸¸è¿è¡Œã€‚ä½†æˆ‘çš„ç”µè„‘ä¸ä¸€èˆ¬ï¼Œæ‰€ä»¥è¿˜éœ€è¦å…¶ä»–é…ç½®ï¼Œå¦‚æœä¹Ÿå‡ºç°ç›¸åŒæƒ…å†µå¯ä»¥å‚è€ƒã€‚</p></blockquote><h2 id="é—®é¢˜åŠè¡¥ä¸"><a href="#é—®é¢˜åŠè¡¥ä¸" class="headerlink" title="é—®é¢˜åŠè¡¥ä¸"></a>é—®é¢˜åŠè¡¥ä¸</h2><h3 id="undefined-reference"><a href="#undefined-reference" class="headerlink" title="undefined reference"></a>undefined reference</h3><p>å¯ä»¥è¯•ç€åœ¨å¼•å…¥å¤´æ–‡ä»¶<code>&lt;GL/glut.h&gt;</code>ä¹‹å‰åŠ å…¥ä»¥ä¸‹ä»£ç ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> GLUT_DISABLE_ATEXIT_HACK </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GLUT_DISABLE_ATEXIT_HACK </span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><h3 id="æœªæ‰¾åˆ°libglut-dll"><a href="#æœªæ‰¾åˆ°libglut-dll" class="headerlink" title="æœªæ‰¾åˆ°libglut.dll"></a>æœªæ‰¾åˆ°libglut.dll</h3><p>å¯ä»¥å°†å‰æ–‡çš„<code>opengl/bin</code>ç›®å½•ä¸‹çš„<code>libglut.dll</code>æ–‡ä»¶æ‹·è´åˆ°<code>C:\Windows\SysWOW64</code>ä¸‹é¢ï¼Œå³å¯è§£å†³ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è®¡ç®—æœºå›¾å½¢å­¦ </category>
          
          <category> Freeglut </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CV </tag>
            
            <tag> è®¡ç®—æœºå›¾å½¢ </tag>
            
            <tag> GLUT </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Fyneå®ç°ä¸€ä¸ªMarkdownç¼–è¾‘å™¨</title>
      <link href="/posts/efd5f3e1.html"/>
      <url>/posts/efd5f3e1.html</url>
      
        <content type="html"><![CDATA[<p>å‰é¢å­¦ä¹ äº†å¦‚ä½•ç”¨<mark class="hl-label green">Fyne</mark> ç®€å•æ­å»ºä¸€ä¸ªGUIæ¡†æ¶<br>è€Œæœ¬ç½‘ç«™çš„åšå®¢æ˜¯ä½¿ç”¨Markdownè¿›è¡Œåˆ›ä½œçš„ï¼Œç†æ‰€å½“ç„¶çš„è¦å†™ä¸€ä¸ª <mark class="hl-label green">åŸºäºFyneçš„Markdownç¼–è¾‘å™¨</mark> </p><h2 id="ç¨‹åºæ¡†æ¶æ­å»º"><a href="#ç¨‹åºæ¡†æ¶æ­å»º" class="headerlink" title="ç¨‹åºæ¡†æ¶æ­å»º"></a>ç¨‹åºæ¡†æ¶æ­å»º</h2><figure class="highlight golang"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/app&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/container&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/dialog&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/storage&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/widget&quot;</span></span><br><span class="line"><span class="string">&quot;io&quot;</span></span><br><span class="line"><span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> config <span class="keyword">struct</span> &#123;</span><br><span class="line">Edit        *widget.Entry <span class="comment">// è¾“å…¥åŒºåŸŸ</span></span><br><span class="line">Preview     *widget.RichText <span class="comment">// æ¸²æŸ“åŒºåŸŸ</span></span><br><span class="line">CurrentFile fyne.URI <span class="comment">// æ–‡ä»¶URIï¼Œå³æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">MenuItem    *fyne.MenuItem <span class="comment">// Saveèœå•é€‰é¡¹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cfg config</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">a := app.New()</span><br><span class="line">w := a.NewWindow(<span class="string">&quot;Markdownç¼–è¾‘å™¨&quot;</span>)</span><br><span class="line"></span><br><span class="line">w.SetContent(container.NewHSplit(cfg.makeUI()))</span><br><span class="line">cfg.createMenu(w)</span><br><span class="line">w.Resize(fyne.NewSize(<span class="number">800</span>, <span class="number">600</span>))</span><br><span class="line">w.CenterOnScreen()</span><br><span class="line">w.ShowAndRun()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> makeUI() (*widget.Entry, *widget.RichText) &#123;</span><br><span class="line">edit := widget.NewMultiLineEntry()</span><br><span class="line">preview := widget.NewRichTextFromMarkdown(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">edit.OnChanged = preview.ParseMarkdown</span><br><span class="line"></span><br><span class="line">cfg.Edit = edit</span><br><span class="line">cfg.Preview = preview</span><br><span class="line"><span class="keyword">return</span> edit, preview</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> createMenu(win fyne.Window) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œä½¿ç”¨äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„configç»“æ„ï¼Œé‡Œé¢å­˜å‚¨äº†ä¼šç”¨åˆ°çš„ä¸€äº›å±æ€§ï¼Œå¦‚è¾“å…¥çš„æ–‡æœ¬ï¼Œè¾“å‡ºæ¸²æŸ“å®Œæˆçš„Markdownæ–‡æœ¬ï¼Œå·²ç»ä¿å­˜æ–‡ä»¶è·¯å¾„ç­‰ã€‚</p><p>ä½¿ç”¨äº†<code>container.NewHSplit</code>æ–°å®¹å™¨ï¼Œå®ƒä»¥å‚ç›´çš„åˆ†å‰²çº¿å·¦å³å¹³åˆ†é¡µé¢ã€‚</p><p>åœ¨<code>makeUI</code>ä¸­ï¼Œå°†<code>Edit</code>å’Œ<code>Preview</code>ç­‰ç»„ä»¶ä¸cfgå…³è”èµ·æ¥ï¼Œè€Œ<code>edit.OnChanged = preview.ParseMarkdown</code>åˆ™æ˜¯åœ¨ç¼–è¾‘åŒºå‘ç”Ÿå˜åŠ¨çš„æ—¶å€™è°ƒç”¨Markdownå¯Œæ–‡æœ¬æ¸²æŸ“ã€‚</p><h2 id="åˆ›å»ºèœå•"><a href="#åˆ›å»ºèœå•" class="headerlink" title="åˆ›å»ºèœå•"></a>åˆ›å»ºèœå•</h2><p><img src="/posts/efd5f3e1/image.png" alt="VSCèœå•æ ·å¼"></p><figure class="highlight golang"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> createMenu(win fyne.Window) &#123;</span><br><span class="line">open := fyne.NewMenuItem(<span class="string">&quot;Open&quot;</span>, cfg.open(win))</span><br><span class="line">save := fyne.NewMenuItem(<span class="string">&quot;save&quot;</span>, cfg.save(win))</span><br><span class="line">cfg.MenuItem = save</span><br><span class="line">save.Disabled = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">saveAs := fyne.NewMenuItem(<span class="string">&quot;save as&quot;</span>, cfg.saveAsFunc(win))</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èœå•ï¼Œç›¸å½“äºVSVä¸Šé¢ä¸€è¡Œä¸­çš„ä¸€é¡¹</span></span><br><span class="line">file := fyne.NewMenu(<span class="string">&quot;File&quot;</span>, open, save, saveAs)</span><br><span class="line">    <span class="comment">// ä¸»èœå•æ ï¼Œç›¸å½“äºVSCä¸Šé¢é‚£ä¸€è¡Œ</span></span><br><span class="line">menu := fyne.NewMainMenu(file)</span><br><span class="line">win.SetMainMenu(menu)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> save(win fyne.Window) <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> open(win fyne.Window) <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> saveAsFunc(win fyne.Window) <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå°†<mark class="hl-label green">save</mark>  èµ‹å€¼ç»™cfgæ˜¯ä¸ºäº†ä¿è¯ <mark class="hl-label green">æ²¡æœ‰æ‰“å¼€æ–‡ä»¶å’Œå¦å­˜ä¸ºæ–‡ä»¶å‰ï¼Œç”¨æˆ·æ— æ³•è¿›è¡Œä¿å­˜æ“ä½œï¼Œé˜²æ­¢ä¸å¯é¢„çŸ¥çš„é”™è¯¯å‡ºç°</mark> ã€‚</p><blockquote><p>åç»­ä¼šé€šè¿‡cfgæ¥è®¾ç½®å…è®¸ä¿å­˜ã€‚</p></blockquote><p>é€šè¿‡å›è°ƒå‡½æ•°åˆ†ç¦»å®ç°åŠŸèƒ½ã€‚</p><h2 id="å®ç°å¯¹åº”åŠŸèƒ½"><a href="#å®ç°å¯¹åº”åŠŸèƒ½" class="headerlink" title="å®ç°å¯¹åº”åŠŸèƒ½"></a>å®ç°å¯¹åº”åŠŸèƒ½</h2><figure class="highlight golang"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> save(win fyne.Window) <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">// æ³¨æ„æ­¤æ—¶å·²ç»æœ‰äº†ä¿å­˜è·¯å¾„ï¼Œæ‰€ä»¥å°±ä¸æ˜¯è°ƒç”¨ NewFileSave äº†ï¼Œè€Œæ˜¯é€šè¿‡URIæ¥è·å–è¾“å‡ºæµå¹¶è¾“å‡ºä¿å­˜</span></span><br><span class="line">writer, err := storage.Writer(cfg.CurrentFile)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">dialog.ShowError(err, win)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> writer == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> writer.Close()</span><br><span class="line"></span><br><span class="line">writer.Write([]<span class="type">byte</span>(cfg.Edit.Text))</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> open(win fyne.Window) <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">openDialog := dialog.NewFileOpen(<span class="function"><span class="keyword">func</span><span class="params">(closer fyne.URIReadCloser, err <span class="type">error</span>)</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">dialog.ShowError(err, win)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> closer == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> closer.Close()</span><br><span class="line"></span><br><span class="line">data, err := io.ReadAll(closer) <span class="comment">// è¯»å–æ“ä½œ</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">dialog.ShowError(err, win)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cfg.Edit.SetText(<span class="type">string</span>(data))<span class="comment">// å°†æ•°æ®æ”¾åˆ°ç¼–è¾‘åŒº</span></span><br><span class="line"></span><br><span class="line">cfg.CurrentFile = closer.URI()</span><br><span class="line"></span><br><span class="line">win.SetTitle(<span class="string">&quot;Markdownç¼–è¾‘å™¨-&quot;</span> + closer.URI().Name())</span><br><span class="line"></span><br><span class="line">cfg.MenuItem.Disabled = <span class="literal">false</span> <span class="comment">// å…è®¸ä¿å­˜</span></span><br><span class="line"></span><br><span class="line">&#125;, win)</span><br><span class="line"></span><br><span class="line">openDialog.Show()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> saveAsFunc(win fyne.Window) <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">saveDialog := dialog.NewFileSave(<span class="function"><span class="keyword">func</span><span class="params">(closer fyne.URIWriteCloser, err <span class="type">error</span>)</span></span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">dialog.ShowError(err, win)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> closer == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> closer.Close() <span class="comment">// deferå¯ä»¥ç†è§£ä¸ºåœ¨å‡½æ•°çš„ç»“å°¾ä¼šè‡ªåŠ¨è°ƒç”¨åé¢çš„å‡½æ•°ï¼ŒIOè¦è®°å¾—åŠæ—¶å…³é—­</span></span><br><span class="line">closer.Write([]<span class="type">uint8</span>(cfg.Edit.Text))</span><br><span class="line"></span><br><span class="line">cfg.CurrentFile = closer.URI() <span class="comment">// è·å–è¾“å‡ºçš„URI</span></span><br><span class="line"></span><br><span class="line">win.SetTitle(<span class="string">&quot;Markdownç¼–è¾‘å™¨-&quot;</span> + closer.URI().Name())<span class="comment">// æ›´æ–°æ ‡é¢˜</span></span><br><span class="line"></span><br><span class="line">cfg.MenuItem.Disabled = <span class="literal">false</span> <span class="comment">// å¯ä»¥ä¿å­˜äº†</span></span><br><span class="line"></span><br><span class="line">&#125;, win)</span><br><span class="line">saveDialog.SetFileName(<span class="string">&quot;æœªå‘½å-&quot;</span> + time.DateOnly + <span class="string">&quot;.md&quot;</span>)</span><br><span class="line">saveDialog.Show()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è‡³æ­¤ï¼ŒåŸºç¡€çš„<mark class="hl-label green">Markdownç¼–è¾‘å™¨</mark> çš„åŠŸèƒ½å°±å®Œæˆäº†ã€‚</p><h2 id="ä½†æ˜¯æ‰“å¼€çš„æ–‡ä»¶ä¸åªæœ‰Markdownæ€ä¹ˆåŠå‘¢"><a href="#ä½†æ˜¯æ‰“å¼€çš„æ–‡ä»¶ä¸åªæœ‰Markdownæ€ä¹ˆåŠå‘¢" class="headerlink" title="ä½†æ˜¯æ‰“å¼€çš„æ–‡ä»¶ä¸åªæœ‰Markdownæ€ä¹ˆåŠå‘¢"></a>ä½†æ˜¯æ‰“å¼€çš„æ–‡ä»¶ä¸åªæœ‰Markdownæ€ä¹ˆåŠå‘¢</h2><p>ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨<code>storage.NewExtensionFileFilter</code>æ¥è¿‡æ»¤æ‰ä¸éœ€è¦çš„æ–‡ä»¶ã€‚</p><figure class="highlight diff"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">var cfg config</span><br><span class="line"><span class="addition">+ var filter = storage.NewExtensionFileFilter([]string&#123;&quot;.md&quot;, &quot;.MD&quot;&#125;)</span></span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">func (cfg *config) open(win fyne.Window) func() &#123;</span><br><span class="line">return func() &#123;</span><br><span class="line">...</span><br><span class="line"><span class="addition">+openDialog.SetFilter(filter)</span></span><br><span class="line"></span><br><span class="line">openDialog.Show()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func (cfg *config) saveAsFunc(win fyne.Window) func() &#123;</span><br><span class="line">return func() &#123;</span><br><span class="line">...</span><br><span class="line"><span class="addition">+saveDialog.SetFilter(filter)</span></span><br><span class="line"></span><br><span class="line">saveDialog.SetFileName(&quot;æœªå‘½å-&quot; + time.DateOnly + &quot;.md&quot;)</span><br><span class="line">saveDialog.Show()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="è™½ç„¶ç›®å‰å·²ç»å¤§ä½“ä¸Šå®Œæˆï¼Œä½†è¿˜æ˜¯æœ‰ä¸€äº›Bug"><a href="#è™½ç„¶ç›®å‰å·²ç»å¤§ä½“ä¸Šå®Œæˆï¼Œä½†è¿˜æ˜¯æœ‰ä¸€äº›Bug" class="headerlink" title="è™½ç„¶ç›®å‰å·²ç»å¤§ä½“ä¸Šå®Œæˆï¼Œä½†è¿˜æ˜¯æœ‰ä¸€äº›Bug"></a>è™½ç„¶ç›®å‰å·²ç»å¤§ä½“ä¸Šå®Œæˆï¼Œä½†è¿˜æ˜¯æœ‰ä¸€äº›Bug</h2><ul><li>å¯èƒ½ä¿å­˜çš„æ–‡ä»¶ç±»å‹é”™è¯¯ï¼ˆç¼ºçœæ–‡ä»¶ç±»å‹ï¼‰</li><li>éƒ½åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹å†…å¤ªè¿‡è‡ƒè‚¿</li></ul><h3 id="å¯¹ä¿å­˜æ–‡ä»¶çš„ç±»å‹è¿›è¡Œæ£€æŸ¥"><a href="#å¯¹ä¿å­˜æ–‡ä»¶çš„ç±»å‹è¿›è¡Œæ£€æŸ¥" class="headerlink" title="å¯¹ä¿å­˜æ–‡ä»¶çš„ç±»å‹è¿›è¡Œæ£€æŸ¥"></a>å¯¹ä¿å­˜æ–‡ä»¶çš„ç±»å‹è¿›è¡Œæ£€æŸ¥</h3><p>åœ¨saveAsFuncçš„æ–¹æ³•å†…éƒ¨æ·»åŠ ä¸€ä¸‹è¯­å¥ï¼š</p><figure class="highlight diff"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">defer closer.Close()</span><br><span class="line"></span><br><span class="line"><span class="addition">+if !strings.HasSuffix(strings.ToLower(closer.URI().String()), &quot;.md&quot;) &#123;</span></span><br><span class="line"><span class="addition">+    dialog.ShowInformation(&quot;æ–‡ä»¶ç±»å‹é”™è¯¯&quot;, &quot;å¿…é¡»æ˜¯ .md æˆ– .MD&quot;, win)</span></span><br><span class="line"><span class="addition">+    return</span></span><br><span class="line"><span class="addition">+&#125;</span></span><br><span class="line"></span><br><span class="line">closer.Write([]uint8(cfg.Edit.Text))</span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="åˆ†å¼€å­˜æ”¾åœ¨ä¸åŒçš„æ–‡ä»¶ä¸‹ï¼Œä¾¿äºç®¡ç†"><a href="#åˆ†å¼€å­˜æ”¾åœ¨ä¸åŒçš„æ–‡ä»¶ä¸‹ï¼Œä¾¿äºç®¡ç†" class="headerlink" title="åˆ†å¼€å­˜æ”¾åœ¨ä¸åŒçš„æ–‡ä»¶ä¸‹ï¼Œä¾¿äºç®¡ç†"></a>åˆ†å¼€å­˜æ”¾åœ¨ä¸åŒçš„æ–‡ä»¶ä¸‹ï¼Œä¾¿äºç®¡ç†</h3><p>æ­¤æ¬¡å®æ“ï¼Œæˆ‘å°±å°†å…¶åˆ†ä¸º</p><ul><li>main.go</li><li>ui.go</li><li>config.go</li></ul><div class="note green flat"><p>æ³¨æ„ï¼ŒGolangè™½ç„¶æ²¡æœ‰<strong>public,protected,private</strong>è¿™æ ·çš„ä¿®é¥°ç¬¦ï¼Œä½†èƒ½å¤Ÿé€šè¿‡æ›´æ”¹é¦–å­—æ¯çš„å¤§å°å†™æ¥æ›´æ”¹<strong>å¯è§æ€§</strong>ã€‚<br>è‹¥é¦–å­—æ¯æ˜¯å¤§å†™å­—æ¯ï¼Œåˆ™è¡¨ç¤ºå¯ä»¥è¢«å…¶ä»–åŒ…é€šè¿‡ <strong>import</strong> æ¥è®¿é—®ï¼Œç›¸å½“äºå…¬å¼€ï¼›è€Œå°å†™å­—æ¯çš„è¯ï¼Œåˆ™è¡¨ç¤ºåœ¨æœ¬åŒ…å†…ä½¿ç”¨ï¼Œç›¸å½“äºç§æœ‰ã€‚<br>å› æ­¤ï¼Œåœ¨æœ¬èŠ‚å†…å®¹çš„åˆ†å¼€å­˜æ”¾æºä»£ç å¹¶ä¸å½±å“å…¶å˜é‡å’Œstructç­‰çš„å¯è§æ€§ï¼Œç›´æ¥å¤åˆ¶ç²˜è´´å³å¯ã€‚å› ä¸ºä»–ä»¬éƒ½åœ¨ <code>package main</code>ä¸‹é¢ã€‚</p></div><h2 id="æœ€åçš„æºç "><a href="#æœ€åçš„æºç " class="headerlink" title="æœ€åçš„æºç "></a>æœ€åçš„æºç </h2><figure class="highlight golang"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/app&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/container&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/storage&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/widget&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> config <span class="keyword">struct</span> &#123;</span><br><span class="line">Edit        *widget.Entry</span><br><span class="line">Preview     *widget.RichText</span><br><span class="line">CurrentFile fyne.URI</span><br><span class="line">MenuItem    *fyne.MenuItem</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> cfg config</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> filter = storage.NewExtensionFileFilter([]<span class="type">string</span>&#123;<span class="string">&quot;.md&quot;</span>, <span class="string">&quot;.MD&quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">a := app.New()</span><br><span class="line">w := a.NewWindow(<span class="string">&quot;Markdownç¼–è¾‘å™¨&quot;</span>)</span><br><span class="line"></span><br><span class="line">w.SetContent(container.NewHSplit(cfg.makeUI()))</span><br><span class="line">cfg.createMenu(w)</span><br><span class="line">w.Resize(fyne.NewSize(<span class="number">800</span>, <span class="number">600</span>))</span><br><span class="line">w.CenterOnScreen()</span><br><span class="line">w.ShowAndRun()</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight golang"><figcaption><span>ui.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/widget&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> makeUI() (*widget.Entry, *widget.RichText) &#123;</span><br><span class="line">edit := widget.NewMultiLineEntry()</span><br><span class="line">preview := widget.NewRichTextFromMarkdown(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">edit.OnChanged = preview.ParseMarkdown</span><br><span class="line"></span><br><span class="line">cfg.Edit = edit</span><br><span class="line">cfg.Preview = preview</span><br><span class="line"><span class="keyword">return</span> edit, preview</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> createMenu(win fyne.Window) &#123;</span><br><span class="line">open := fyne.NewMenuItem(<span class="string">&quot;Open&quot;</span>, cfg.open(win))</span><br><span class="line">save := fyne.NewMenuItem(<span class="string">&quot;save&quot;</span>, cfg.save(win))</span><br><span class="line">cfg.MenuItem = save</span><br><span class="line">save.Disabled = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">saveAs := fyne.NewMenuItem(<span class="string">&quot;save as&quot;</span>, cfg.saveAsFunc(win))</span><br><span class="line"></span><br><span class="line">file := fyne.NewMenu(<span class="string">&quot;File&quot;</span>, open, save, saveAs)</span><br><span class="line"></span><br><span class="line">menu := fyne.NewMainMenu(file)</span><br><span class="line">win.SetMainMenu(menu)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight golang"><figcaption><span>config.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/dialog&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/storage&quot;</span></span><br><span class="line"><span class="string">&quot;io&quot;</span></span><br><span class="line"><span class="string">&quot;strings&quot;</span></span><br><span class="line"><span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> save(win fyne.Window) <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">writer, err := storage.Writer(cfg.CurrentFile)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">dialog.ShowError(err, win)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> writer == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> writer.Close()</span><br><span class="line"></span><br><span class="line">writer.Write([]<span class="type">byte</span>(cfg.Edit.Text))</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> open(win fyne.Window) <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">openDialog := dialog.NewFileOpen(<span class="function"><span class="keyword">func</span><span class="params">(closer fyne.URIReadCloser, err <span class="type">error</span>)</span></span> &#123;</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">dialog.ShowError(err, win)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> closer == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> closer.Close()</span><br><span class="line"></span><br><span class="line">data, err := io.ReadAll(closer)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">dialog.ShowError(err, win)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cfg.Edit.SetText(<span class="type">string</span>(data))</span><br><span class="line"></span><br><span class="line">cfg.CurrentFile = closer.URI()</span><br><span class="line"></span><br><span class="line">win.SetTitle(<span class="string">&quot;Markdownç¼–è¾‘å™¨-&quot;</span> + closer.URI().Name())</span><br><span class="line"></span><br><span class="line">cfg.MenuItem.Disabled = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">&#125;, win)</span><br><span class="line">openDialog.SetFilter(filter)</span><br><span class="line"></span><br><span class="line">openDialog.Show()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(cfg *config)</span></span> saveAsFunc(win fyne.Window) <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">saveDialog := dialog.NewFileSave(<span class="function"><span class="keyword">func</span><span class="params">(closer fyne.URIWriteCloser, err <span class="type">error</span>)</span></span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">dialog.ShowError(err, win)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> closer == <span class="literal">nil</span> &#123;</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> closer.Close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> !strings.HasSuffix(strings.ToLower(closer.URI().String()), <span class="string">&quot;.md&quot;</span>) &#123;</span><br><span class="line">dialog.ShowInformation(<span class="string">&quot;æ–‡ä»¶ç±»å‹é”™è¯¯&quot;</span>, <span class="string">&quot;å¿…é¡»æ˜¯ .md æˆ– .MD&quot;</span>, win)</span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">closer.Write([]<span class="type">uint8</span>(cfg.Edit.Text))</span><br><span class="line"></span><br><span class="line">cfg.CurrentFile = closer.URI()</span><br><span class="line"></span><br><span class="line">win.SetTitle(<span class="string">&quot;Markdownç¼–è¾‘å™¨-&quot;</span> + closer.URI().Name())</span><br><span class="line"></span><br><span class="line">cfg.MenuItem.Disabled = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">&#125;, win)</span><br><span class="line"></span><br><span class="line">saveDialog.SetFilter(filter)</span><br><span class="line"></span><br><span class="line">saveDialog.SetFileName(<span class="string">&quot;æœªå‘½å-&quot;</span> + time.DateOnly + <span class="string">&quot;.md&quot;</span>)</span><br><span class="line">saveDialog.Show()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ‰“åŒ…"><a href="#æ‰“åŒ…" class="headerlink" title="æ‰“åŒ…"></a>æ‰“åŒ…</h2><p>æ¥ä¸‹æ¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿›è¡Œæ‰“åŒ…å³å¯éšæ—¶éšåœ°ä½¿ç”¨äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ fyne package -os windows -icon lnpbqc.png</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
          <category> Fyneæ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Go </tag>
            
            <tag> Fyne </tag>
            
            <tag> Markdownç¼–è¾‘å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Goçš„FyneGUIæ¡†æ¶</title>
      <link href="/posts/755f3e3d.html"/>
      <url>/posts/755f3e3d.html</url>
      
        <content type="html"><![CDATA[<h2 id="åˆä½“éªŒGoçš„GUIæ¡†æ¶"><a href="#åˆä½“éªŒGoçš„GUIæ¡†æ¶" class="headerlink" title="åˆä½“éªŒGoçš„GUIæ¡†æ¶"></a>åˆä½“éªŒGoçš„GUIæ¡†æ¶</h2><h3 id="é¦–å…ˆå®‰è£…å¥½Goå’Œmingwç¼–è¯‘å™¨å¹¶é…ç½®å®Œæˆ"><a href="#é¦–å…ˆå®‰è£…å¥½Goå’Œmingwç¼–è¯‘å™¨å¹¶é…ç½®å®Œæˆ" class="headerlink" title="é¦–å…ˆå®‰è£…å¥½Goå’Œmingwç¼–è¯‘å™¨å¹¶é…ç½®å®Œæˆ"></a>é¦–å…ˆå®‰è£…å¥½Goå’Œmingwç¼–è¯‘å™¨å¹¶é…ç½®å®Œæˆ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ go version</span><br><span class="line">$ g++ -v</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…Fyneæ¡†æ¶"><a href="#å®‰è£…Fyneæ¡†æ¶" class="headerlink" title="å®‰è£…Fyneæ¡†æ¶"></a>å®‰è£…Fyneæ¡†æ¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ go mod init <span class="built_in">test</span></span><br><span class="line">$ go get fyne.io/fyne/v2</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™HelloWorld"><a href="#ç¼–å†™HelloWorld" class="headerlink" title="ç¼–å†™HelloWorld"></a>ç¼–å†™HelloWorld</h3><figure class="highlight golang"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/app&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/container&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/widget&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">a := app.New()</span><br><span class="line">w := a.NewWindow(<span class="string">&quot;Go gogo&quot;</span>)</span><br><span class="line">hello := widget.NewLabel(<span class="string">&quot;Hello Fyne!&quot;</span>)</span><br><span class="line">w.SetContent(container.NewVBox(</span><br><span class="line">hello,</span><br><span class="line">widget.NewButton(<span class="string">&quot;Hi!&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">hello.SetText(<span class="string">&quot;Welcome :)&quot;</span>)</span><br><span class="line">&#125;),</span><br><span class="line">))</span><br><span class="line">w.Resize(fyne.NewSize(<span class="number">400</span>, <span class="number">200</span>))</span><br><span class="line">w.ShowAndRun()</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ go mod tidy <span class="comment"># æ¸…ç† go.mod æ–‡ä»¶ï¼Œç§»é™¤ä¸éœ€è¦çš„ä¾èµ–ï¼Œç¡®ä¿ä½¿ç”¨çš„ä¾èµ–åœ¨æ–‡ä»¶ä¸­å£°æ˜</span></span><br><span class="line">$ go run . <span class="comment"># è¡¨ç¤ºè¿è¡Œæ‰€æœ‰ package main çš„ goæ–‡ä»¶</span></span><br></pre></td></tr></table></figure><div class="note flat"><p>ç¬¬ä¸€æ¬¡ç¼–è¯‘å¯èƒ½éœ€è¦æ—¶é—´è¾ƒé•¿</p></div><h3 id="è¿è¡Œç»“æœ"><a href="#è¿è¡Œç»“æœ" class="headerlink" title="è¿è¡Œç»“æœ"></a>è¿è¡Œç»“æœ</h3><p><img src="/posts/755f3e3d/image.png" alt="è¿è¡Œç»“æœ"></p><h2 id="åˆä½“éªŒçš„åè¿›é˜¶æµ‹è¯•"><a href="#åˆä½“éªŒçš„åè¿›é˜¶æµ‹è¯•" class="headerlink" title="åˆä½“éªŒçš„åè¿›é˜¶æµ‹è¯•"></a>åˆä½“éªŒçš„åè¿›é˜¶æµ‹è¯•</h2><div class="note green flat"><p>é‚£ä¹ˆå¦‚ä½•å»å®ç°æ—¥å¸¸ä½¿ç”¨ç¨‹åºä¸­çš„ç‚¹å‡»æŒ‰é’®æ‰“å¼€æ–°çª—å£çš„æ“ä½œå‘¢ï¼Ÿ</p></div><p>å¦‚æœä½ ä¸æ˜¯å°ç™½çš„è¯ï¼Œé€šè¿‡ä¸Šè¿°ä¾‹å­å·²ç»èƒ½ä¸¾ä¸€åä¸‰è‡ªå·±å®Œæˆäº†ã€‚</p><p>æ³¨æ„åˆ° <code>widget.NewButton(&quot;Hi!&quot;, func() &#123;             hello.SetText(&quot;Welcome :)&quot;)         &#125;),</code> è¿™ä¸ªå…ƒç´ å†…çš„å†…å®¹ï¼Œé‡Œé¢å®šä¹‰äº†ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œå»å®ç°ç›¸å…³æ“ä½œã€‚</p><figure class="highlight diff"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">w.SetContent(container.NewVBox(</span><br><span class="line">    hello,</span><br><span class="line">    widget.NewButton(&quot;Hi!&quot;, func() &#123;</span><br><span class="line"><span class="deletion">-       hello.SetText(&quot;Welcome :)&quot;)</span></span><br><span class="line"><span class="addition">+       wt := a.NewWindow(&quot;æ–°çª—å£&quot;)</span></span><br><span class="line"><span class="addition">+       wt.SetContent(widget.NewLabel(&quot;è¿™æ˜¯æ–°çª—å£çš„å†…å®¹&quot;))</span></span><br><span class="line"><span class="addition">+       wt.Show()</span></span><br><span class="line">    &#125;),</span><br><span class="line">))</span><br></pre></td></tr></table></figure><div class="note flat"><p>å¦‚æœå‡ºç°ä¸­æ–‡ä¹±ç ï¼Œå¯ä»¥é€šè¿‡æ›´æ”¹å­—ä½“æ ·å¼æ¥è§£å†³ã€‚</p></div><h3 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h3><p><img src="/posts/755f3e3d/image2.png" alt="ç‚¹å‡»æŒ‰é’®åæ•ˆæœ"></p><h2 id="è¿›ä¸€æ­¥ä½¿ç”¨Fyneæ¡†æ¶è¿›è¡Œäº¤äº’æ“ä½œ"><a href="#è¿›ä¸€æ­¥ä½¿ç”¨Fyneæ¡†æ¶è¿›è¡Œäº¤äº’æ“ä½œ" class="headerlink" title="è¿›ä¸€æ­¥ä½¿ç”¨Fyneæ¡†æ¶è¿›è¡Œäº¤äº’æ“ä½œ"></a>è¿›ä¸€æ­¥ä½¿ç”¨Fyneæ¡†æ¶è¿›è¡Œäº¤äº’æ“ä½œ</h2><figure class="highlight golang"><figcaption><span>main.go</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/app&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/container&quot;</span></span><br><span class="line"><span class="string">&quot;fyne.io/fyne/v2/widget&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">a := app.New()</span><br><span class="line">w := a.NewWindow(<span class="string">&quot;Go gogo&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™é‡Œä½¿ç”¨ä¸€ä¸ªå‡½æ•°å°†UIæŠ½ç¦»å‡ºé€»è¾‘æµï¼Œæ¥æ”¶è¿”å›çš„ç»„ä»¶æŒ‡é’ˆ</span></span><br><span class="line">w.SetContent(container.NewVBox(makeUI()))</span><br><span class="line"></span><br><span class="line">w.Resize(fyne.NewSize(<span class="number">400</span>, <span class="number">200</span>))</span><br><span class="line">w.ShowAndRun()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeUI</span><span class="params">()</span></span> (*widget.Label, *widget.Entry, *widget.Button, *widget.Label, *widget.Button) &#123;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªå®ç°çš„æ˜¯å°†è¾“å…¥æ¡†çš„å†…å®¹æ˜¾ç¤ºåœ¨æ ‡ç­¾ä¸Š</span></span><br><span class="line">output := widget.NewLabel(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line">entry := widget.NewEntry()</span><br><span class="line">btn := widget.NewButton(<span class="string">&quot;Click&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">output.SetText(entry.Text)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™ä¸ªæ˜¯å®ç°ç‚¹å‡»å¢åŠ æ•°å­—</span></span><br><span class="line">number := <span class="number">0</span></span><br><span class="line">count := widget.NewLabel(fmt.Sprintf(<span class="string">&quot;Current Number: %d&quot;</span>, number))</span><br><span class="line">incrementBtn := widget.NewButton(<span class="string">&quot;Add&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">number++</span><br><span class="line">count.SetText(fmt.Sprintf(<span class="string">&quot;Current Number: %d&quot;</span>, number))</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">return</span> output, entry, btn, count, incrementBtn</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><div class="note flat"><p><code>container.NewVBox</code> æ¥æ”¶ç»„ä»¶å’Œå…¶æŒ‡é’ˆï¼Œå¹¶å°†ç»„ä»¶å‚ç›´çš„æ¸²æŸ“å‡ºæ¥</p></div><h3 id="å®ç°æ•ˆæœ"><a href="#å®ç°æ•ˆæœ" class="headerlink" title="å®ç°æ•ˆæœ"></a>å®ç°æ•ˆæœ</h3><p><img src="/posts/755f3e3d/image3.png" alt="æ•ˆæœå›¾"></p>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
          <category> Fyneæ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Go </tag>
            
            <tag> Fyne </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºåœ¨Butterflyè‡ªå®šä¹‰æ ·å¼çš„çŒœæƒ³</title>
      <link href="/posts/16f2d8ad.html"/>
      <url>/posts/16f2d8ad.html</url>
      
        <content type="html"><![CDATA[<div class="note flat"><p>è™½ç„¶æœ‰ç€Butterflyè¿™æ ·å¾ˆå¥½çœ‹çš„ä¸»é¢˜ï¼Œä½†æ˜¯å¯¹äºæˆ‘è¿™æ ·çš„å–œæ¬¢<del>æ²¡äº‹æ‰¾äº‹</del>çš„äººæ¥è¯´ï¼Œè‚¯å®šè¦æ¥ä¸€ç‚¹ç‚¹è‡ªå·±çš„è®¾ç½®ï¼Œå…è®¸è‡ªå·±æ¥<del><mark class="hl-label green">ç ´å</mark> Butterflyçš„ä¸€è‡´æ€§</del>ã€‚</p></div><h2 id="æƒ³æ³•èµ·æº"><a href="#æƒ³æ³•èµ·æº" class="headerlink" title="æƒ³æ³•èµ·æº"></a>æƒ³æ³•èµ·æº</h2><p>æ¯æ¬¡æ‰“å¼€<mark class="hl-label blue">VSC</mark> éƒ½æ˜¯ <code>hexo n page</code> æˆ–è€… <code>hexo n post</code><br>åŸºäºç¨‹åºå‘˜çš„è‡ªæˆ‘æŠ˜è…¾æ€§ï¼Œæˆ‘æƒ³æ—¢ç„¶ç»™äº†pageè¿™æ ·æ–°å»ºä¸åŒè·¯å¾„çš„å‘½ä»¤ï¼Œé‚£ä¹ˆå°±ä¸å¯èƒ½å°±ä¾é  <mark class="hl-label green">page</mark>  è¿™ä¸€ä¸ªæ ·å¼æ¥å¼ºè¿«ç»Ÿä¸€æ‰€æœ‰çš„UIã€‚<br>é‚£ä¹ˆï¼Œä¸€å®šå­˜åœ¨ç€æŸä¸ªæ–¹æ³•ï¼Œå¯ä»¥è®©æˆ‘åœ¨Butterflyçš„ä¸»é¢˜ä¸‹è¿›è¡Œè‡ªå·±çš„<del>åˆ›é€ </del>ä¹±æ”¹ã€‚</p><h2 id="å‘ç°"><a href="#å‘ç°" class="headerlink" title="å‘ç°"></a>å‘ç°</h2><p><strong>æ³¨æ„åˆ°</strong>ï¼Œåœ¨åšå®¢æºæ–‡ä»¶çš„æ ¹ç›®å½•ä¸‹çš„ <mark class="hl-label default">source</mark> æ–‡ä»¶å¤¹å­˜åœ¨ <mark class="hl-label default">_posts</mark> æ–‡ä»¶ï¼Œæˆ‘ä»¬å†™çš„mdæ–‡æ¡£éƒ½ä¼šå­˜åœ¨è¿™é‡Œé¢ã€‚</p><p>ç”±æ­¤æƒ³åˆ°ï¼Œä¼šä¸ä¼šåœ¨ <mark class="hl-label default">themes</mark> è¿™ä¸ªç®¡ç†ä¸»é¢˜ä¸‹é¢ä¼šæœ‰ç®¡ç†æ ·å¼çš„ç›¸å…³æ–‡ä»¶ã€‚</p><p><img src="/posts/16f2d8ad/image.png" alt="ä¸»é¢˜ç›®å½•"></p><p><del>ä»¥è¿‡äº†å…­çº§çš„è‹±è¯­</del> æ˜“çŸ¥ï¼Œ<mark class="hl-label default">layout</mark>  æ–‡ä»¶å¤¹ä¸‹é¢å­˜æ”¾çš„å°±æ˜¯ç›¸å…³çš„å¸ƒå±€æ–‡ä»¶ã€‚</p><p>æ‰“å¼€æ–‡ä»¶å¤¹å°±å¯ä»¥çœ‹è§è¯¸å¦‚ <mark class="hl-label default">archive</mark> ï¼Œ<mark class="hl-label default">page</mark> ï¼Œ<mark class="hl-label default">post</mark> ç­‰çœ¼ç†Ÿçš„å•è¯ï¼Œç›´è§‰ä¸­æ‰“å¼€ <mark class="hl-label default">page.pug</mark> åï¼Œæœ‰ä»¥ä¸‹æ–‡ä»¶å†…å®¹</p><figure class="highlight js"><figcaption><span>page.pug</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extends</span> includes/layout.<span class="property">pug</span></span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  #page</span><br><span class="line">    <span class="keyword">if</span> top_img === <span class="literal">false</span></span><br><span class="line">      h1.<span class="property">page</span>-title= page.<span class="property">title</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> page.<span class="property">type</span></span><br><span class="line">      when <span class="string">&#x27;tags&#x27;</span></span><br><span class="line">        include includes/page/tags.<span class="property">pug</span></span><br><span class="line">      when <span class="string">&#x27;link&#x27;</span></span><br><span class="line">        include includes/page/flink.<span class="property">pug</span></span><br><span class="line">      when <span class="string">&#x27;categories&#x27;</span></span><br><span class="line">        include includes/page/categories.<span class="property">pug</span></span><br><span class="line">      <span class="keyword">default</span></span><br><span class="line">        include includes/page/<span class="keyword">default</span>-page.<span class="property">pug</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> page.<span class="property">comments</span> !== <span class="literal">false</span> &amp;&amp; theme.<span class="property">comments</span> &amp;&amp; theme.<span class="property">comments</span>.<span class="property">use</span></span><br><span class="line">      - <span class="keyword">var</span> commentsJsLoad = <span class="literal">true</span></span><br><span class="line">      !=<span class="title function_">partial</span>(<span class="string">&#x27;includes/third-party/comments/index&#x27;</span>, &#123;&#125;, &#123;<span class="attr">cache</span>: <span class="literal">true</span>&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä¸€äº›åœ¨åˆæ­¥é…ç½® Butterfly çš„çœ¼ç†Ÿçš„ç»“æ„ã€‚<mark class="hl-label green">page.type</mark>  ä¼¼ä¹è·å¾—çš„å°±æ˜¯ åœ¨ <a href="/tags/">æ ‡ç­¾</a> å’Œ <a href="/categories/">åˆ†ç±»</a> ä¸­é…ç½®çš„ <mark class="hl-label green">type</mark> </p><p>æ‰€ä»¥æˆ‘å¯ä»¥åœ¨åé¢æ·»åŠ ä¸€è¡Œå±äºæˆ‘çš„ <mark class="hl-label green">type</mark> </p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">case page.type</span><br><span class="line">    when &#x27;tags&#x27;</span><br><span class="line">        include includes/page/tags.pug</span><br><span class="line">    when &#x27;link&#x27;</span><br><span class="line">        include includes/page/flink.pug</span><br><span class="line">    when &#x27;categories&#x27;</span><br><span class="line">        include includes/page/categories.pug</span><br><span class="line"><span class="addition">+    when &#x27;lnpbqc&#x27;</span></span><br><span class="line"><span class="addition">+        include includes/page/lnpbqc.pug</span></span><br><span class="line">    default</span><br><span class="line">        include includes/page/default-page.pug</span><br></pre></td></tr></table></figure><p>ç”±æ­¤å°±åœ¨ <code>hexo n page</code>ååœ¨ <mark class="hl-label green">Page Front-matter</mark>  ä¸­æŒ‡å®š <mark class="hl-label green">type</mark> ä¸º <mark class="hl-label default">lnpbqc</mark> å³å¯ã€‚</p><p>è¿™æ ·ï¼Œæ‰€æœ‰å…³äº type æ˜¯lnpbqc çš„é¡µé¢æ ·å¼å°±æ˜¯è‡ªå®šä¹‰çš„äº†ã€‚</p><h2 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h2><p>è‡³äºå¦‚ä½•å†™æ ·å¼ï¼Œåˆ™éœ€è¦é€šè¿‡ <a href="https://butterfly.js.org/posts/ceeb73f/?highlight=inject#Inject">CSSå’ŒJSæ³¨å…¥</a> + <a href="https://www.pugjs.cn/language/attributes">Pugjs</a> æ¥å®Œæˆã€‚</p><p>æœ¬æ–‡çš„ç›®çš„åˆ°æ­¤ç»“æŸï¼Œå‰©ä¸‹çš„å°±éœ€è¦ä½ è‡ªå·±å»å­¦ä¹ ã€å»å®è·µã€å»åˆ›é€ äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®åˆ†æ–¹ç¨‹å¦‚ä½•è§£é¢˜å‘¢ï¼Ÿ</title>
      <link href="/posts/2f28f7d1.html"/>
      <url>/posts/2f28f7d1.html</url>
      
        <content type="html"><![CDATA[<p><strong>å¾®åˆ†æ–¹ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ˜¯å¾®åˆ†æ–¹ç¨‹ï¼Ÿæ€ä¹ˆè§£å¾®åˆ†æ–¹ç¨‹å•Šï¼ï¼ï¼ï¼ï¼ï¼ï¼</strong><br><del><em>æˆ‘ä¸ä¼šæˆ‘å¥½èœ</em></del></p><h2 id="ä¸€é˜¶å¾®åˆ†æ–¹ç¨‹"><a href="#ä¸€é˜¶å¾®åˆ†æ–¹ç¨‹" class="headerlink" title="ä¸€é˜¶å¾®åˆ†æ–¹ç¨‹"></a>ä¸€é˜¶å¾®åˆ†æ–¹ç¨‹</h2><p>å¯¹äº</p><p>$$<br>F(x,y,y^{(1)},y^{(2)},â€¦,y^{(n)},)&#x3D;0<br>$$</p><p>è¿™æ ·æ–¹ç¨‹ï¼Œç§°ä¹‹ä¸º<strong>né˜¶å¾®åˆ†æ–¹ç¨‹</strong>ï¼Œå…¶ä¸­$y^{(n)}$æ˜¯å¿…éœ€çš„ã€‚</p><p>å½“n&#x3D;1æ—¶ï¼Œä¸Šè¿°æ–¹ç¨‹ç§°ä¸º<strong>ä¸€é˜¶å¾®åˆ†æ–¹ç¨‹</strong></p><ul><li>é€šè§£ï¼šå«æœ‰nä¸ªç‹¬ç«‹çš„ä»»æ„å¸¸æ•°çš„å‡½æ•°</li><li>ç‰¹è§£ï¼šä¸å«ä»»æ„å¸¸æ•°çš„å‡½æ•°</li></ul><h3 id="å˜é‡å¯åˆ†ç¦»"><a href="#å˜é‡å¯åˆ†ç¦»" class="headerlink" title="å˜é‡å¯åˆ†ç¦»"></a>å˜é‡å¯åˆ†ç¦»</h3><p>å¯¹äºyå’Œxéƒ¨åˆ†å¯ä»¥å®Œå…¨åˆ†ç¦»çš„ï¼Œå¯ä»¥å†™æˆè¿™æ ·çš„å½¢å¼ï¼š</p><p>$$<br>\frac{dy}{g(y)}&#x3D;h(x)dx<br>$$</p><p>ä¸¤è¾¹ç§¯åˆ†ï¼Œæœ‰é€šè§£</p><p>$$<br>\int{\frac{dy}{g(y)}}&#x3D;\int{h(x)dx}+C<br>$$</p><h3 id="é½æ¬¡å¾®åˆ†æ–¹ç¨‹"><a href="#é½æ¬¡å¾®åˆ†æ–¹ç¨‹" class="headerlink" title="é½æ¬¡å¾®åˆ†æ–¹ç¨‹"></a>é½æ¬¡å¾®åˆ†æ–¹ç¨‹</h3><p>è‹¥æœ‰å½¢å¼</p><p>$$<br>\frac{dy}{dx}&#x3D;f(x,y)<br>$$<br>åˆ™å¯ä»¥ä»¤</p><p>$$<br>u&#x3D;\frac{y}{x}ï¼Œå³y&#x3D;uxâ‘ <br>$$</p><p>åŒæ—¶ï¼Œä¸¤è¾¹å¯¹xæ±‚å¯¼ï¼Œåˆ™æœ‰</p><p>$$<br>dy&#x3D;dux+dxuï¼Œå³dy&#x3D;dux+uâ‘¡<br>$$</p><p>å°†â‘ â‘¡ä»£å…¥åˆ°åŸæ–¹ç¨‹</p><p>$$<br>dux+u &#x3D; g(u)<br>$$</p><p>åˆ†ç¦»å˜é‡ï¼Œç§¯åˆ†å¯å¾—</p><p>$$<br>\int{\frac{du}{g(u)-u}}&#x3D;\int{\frac{dx}{x}}+C&#x3D;\ln({|x|})+C<br>$$</p><h2 id="ä¸€é˜¶çº¿æ€§å¾®åˆ†æ–¹ç¨‹"><a href="#ä¸€é˜¶çº¿æ€§å¾®åˆ†æ–¹ç¨‹" class="headerlink" title="ä¸€é˜¶çº¿æ€§å¾®åˆ†æ–¹ç¨‹"></a>ä¸€é˜¶çº¿æ€§å¾®åˆ†æ–¹ç¨‹</h2><p>å¯¹äºä¸€é˜¶çº¿æ€§å¾®åˆ†æ–¹ç¨‹</p><p>$$<br>y^{(1)}+p(x)y&#x3D;q(x)<br>$$</p><p>å…¶é€šè§£ä¸º</p><p>$$<br>y&#x3D;e^{-\int{p(x)dx}}[\int{q(x)e^{\int{p(x)dx}}dx}+C]<br>$$</p><h2 id="äºŒé˜¶å¸¸ç³»æ•°é½æ¬¡å¾®åˆ†æ–¹ç¨‹"><a href="#äºŒé˜¶å¸¸ç³»æ•°é½æ¬¡å¾®åˆ†æ–¹ç¨‹" class="headerlink" title="äºŒé˜¶å¸¸ç³»æ•°é½æ¬¡å¾®åˆ†æ–¹ç¨‹"></a>äºŒé˜¶å¸¸ç³»æ•°é½æ¬¡å¾®åˆ†æ–¹ç¨‹</h2><p>å¯¹äº<br>$$<br>y\prime\prime+py\prime+qy&#x3D;0<br>$$<br>å…¶ä¸­pã€qéƒ½æ˜¯å¸¸æ•°<br>é€šè¿‡æ„é€ ç‰¹å¾æ–¹ç¨‹<br>$$<br>r^2+pr+q&#x3D;0<br>$$<br>å¯¹äºrçš„æ ¹å’Œæ–¹ç¨‹çš„è§£æœ‰ä»¥ä¸‹å¯¹åº”å…³ç³»</p><table><thead><tr><th>ræ ¹çš„å…³ç³»</th><th>æ–¹ç¨‹çš„è§£</th></tr></thead><tbody><tr><td>ä¸ç›¸ç­‰å®æ ¹ $r_1 \neq r_2$</td><td>$y&#x3D;C_1e^{r_1x}+C_2e^{r_2x}$</td></tr><tr><td>ç›¸ç­‰å®æ ¹ $r_1 = r_2$</td><td>$y&#x3D;C_1e^{r_1x}+C_2xe^{r_2x}$</td></tr><tr><td>å…±è½­å¤æ ¹ $r&#x3D;\alpha \pm \beta i$</td><td>$y&#x3D;C_1e^{\alpha x}cos(\beta x)+C_2e^{\alpha x}sin(\beta x)$</td></tr></tbody></table><div class="note flat"><p>å¯ä»¥æ¨å¹¿åˆ°æ›´é«˜é˜¶ï¼Œè§<strong>2025è€ƒç ”æ•°å­¦Â·å¤ä¹ å…¨ä¹¦Â·åŸºç¡€ç¯‡ P208</strong></p></div><h2 id="äºŒé˜¶å¸¸ç³»æ•°éé½æ¬¡å¾®åˆ†æ–¹ç¨‹"><a href="#äºŒé˜¶å¸¸ç³»æ•°éé½æ¬¡å¾®åˆ†æ–¹ç¨‹" class="headerlink" title="äºŒé˜¶å¸¸ç³»æ•°éé½æ¬¡å¾®åˆ†æ–¹ç¨‹"></a>äºŒé˜¶å¸¸ç³»æ•°éé½æ¬¡å¾®åˆ†æ–¹ç¨‹</h2><ul><li>é¦–å…ˆæ±‚å‡ºå…¶é½æ¬¡å½¢å¼çš„é€šè§£</li><li>å†æ±‚éé½æ¬¡çš„ç‰¹è§£(åŒ–æˆéé½æ¬¡çš„æ ‡å‡†å½¢å¼)</li></ul><h3 id="ç±»å‹1-y-prime-prime-py-prime-qy-P-m-x-e-ax"><a href="#ç±»å‹1-y-prime-prime-py-prime-qy-P-m-x-e-ax" class="headerlink" title="ç±»å‹1 $y\prime\prime+py\prime+qy&#x3D;P_m(x)e^{ax}$"></a>ç±»å‹1 $y\prime\prime+py\prime+qy&#x3D;P_m(x)e^{ax}$</h3><p>ç‰¹è§£ä¸º</p><p>$$<br>y^*(x)&#x3D;e^{ax}R_m(x)x^k<br>$$<br>å…¶ä¸­R(x)ä¸ºmæ¬¡å¤šé¡¹å¼ï¼ˆç³»æ•°å¾…å®šï¼‰ï¼Œkä¸ºç‰¹å¾æ–¹ç¨‹å’Œaçš„<strong>ç›¸åŒä¸ªæ•°</strong>(0,1,2)</p><h3 id="ç±»å‹2-y-prime-prime-py-prime-qy-e-ax-P-m-x-cos-bx-Q-m-x-sin-bx"><a href="#ç±»å‹2-y-prime-prime-py-prime-qy-e-ax-P-m-x-cos-bx-Q-m-x-sin-bx" class="headerlink" title="ç±»å‹2 $y\prime\prime+py\prime+qy&#x3D;e^{ax}(P_m(x)cos(bx)+Q_m(x)sin(bx))$"></a>ç±»å‹2 $y\prime\prime+py\prime+qy&#x3D;e^{ax}(P_m(x)cos(bx)+Q_m(x)sin(bx))$</h3><p>ç‰¹è§£ä¸º</p><p>$$<br>y^*(x)&#x3D;e^{ax}{R_m(x)cos(bx)+S_m(x)sin(bx)}x^k<br>$$<br>å…¶ä¸­R(x),S(x)ä¸ºmæ¬¡å¤šé¡¹å¼ï¼ˆç³»æ•°å¾…å®šï¼‰ï¼Œkä¸ºç‰¹å¾æ–¹ç¨‹$\alpha \pm \beta i$çš„ å’Œ $a + bi$ <strong>ç›¸åŒä¸ªæ•°</strong>(0,1)</p><h3 id="å¯é™é˜¶æ–¹ç¨‹"><a href="#å¯é™é˜¶æ–¹ç¨‹" class="headerlink" title="å¯é™é˜¶æ–¹ç¨‹"></a>å¯é™é˜¶æ–¹ç¨‹</h3><ul><li><p>æ²¡æœ‰yå’Œ$y\prime$ï¼Œç›´æ¥ä¸¤æ¬¡ç§¯åˆ†å³å¯</p></li><li><p>æ²¡æœ‰yï¼Œ$y\prime\prime&#x3D;f(x,y\prime)$<br>ä»¤$p(x)&#x3D;y\prime,y\prime\prime&#x3D;\frac{dp}{dx}$,æœ‰<br>$$<br>\frac{dp}{dx}&#x3D;f(x,p)<br>$$<br>æ­£å¸¸ç§¯åˆ†å³å¯</p></li><li><p>æ²¡æœ‰xï¼Œ$y\prime\prime&#x3D;f(y,y\prime)$<br>ä»¤$p(y)&#x3D;y\prime,y\prime\prime&#x3D;\frac{dp}{dx}&#x3D;\frac{dp}{dy}\frac{dy}{dx}&#x3D;p\frac{dp}{dy}$,æœ‰<br>$$<br>p\frac{dp}{dy}&#x3D;f(y,p)<br>$$<br>æ­£å¸¸ç§¯åˆ†å³å¯</p></li></ul><h2 id="ä¼¯åŠªåˆ©æ–¹ç¨‹"><a href="#ä¼¯åŠªåˆ©æ–¹ç¨‹" class="headerlink" title="ä¼¯åŠªåˆ©æ–¹ç¨‹"></a>ä¼¯åŠªåˆ©æ–¹ç¨‹</h2><p>æ–¹ç¨‹</p><p>$$<br>y^{(1)}+p(x)y&#x3D;q(x)y^{(n)}<br>$$</p><p>è¢«ç§°ä¸ºä¼¯åŠªåˆ©æ–¹ç¨‹ï¼Œå¯ä»¥ä¸¤è¾¹åŒæ—¶é™¤ä»¥ $y^{(n)}$ åŒ–ä¸º</p><p>$$<br>y^{1-n}\frac{dy}{dx}+p(x)y^{1-n}&#x3D;q(x)<br>$$</p><p>ä»¤ $z&#x3D;y^(1-n)$ åˆ™æœ‰</p><p>$$<br>\frac{1}{1-n}\frac{dz}{dx}+p(x)z&#x3D;q(x)<br>$$</p><p>ä»è€Œå¯ä»¥ä½¿ç”¨ä¸€é˜¶çº¿æ€§å¾®åˆ†æ–¹ç¨‹æ±‚é€šè§£çš„æ–¹æ³•å¾—åˆ°zçš„è¡¨è¾¾å¼ï¼Œç„¶åå†ä»£å›yå³å¾—åˆ°åŸå¾®åˆ†æ–¹ç¨‹çš„é€šè§£ã€‚</p><h2 id="å…¨å¾®åˆ†æ–¹ç¨‹"><a href="#å…¨å¾®åˆ†æ–¹ç¨‹" class="headerlink" title="å…¨å¾®åˆ†æ–¹ç¨‹"></a>å…¨å¾®åˆ†æ–¹ç¨‹</h2><p>å¯¹äº</p><p>$$<br>du(x,y)&#x3D;P(x,y)dx+Q(x,y)dy<br>$$</p><p>ç§° $P(x,y)dx+Q(x,y)dy&#x3D;0$ ä¸ºå…¨å¾®åˆ†æ–¹ç¨‹ï¼Œé€šè§£ä¸º $u(x,y)&#x3D;C$ ã€‚</p><div class="note flat"><p>è®¾Dä¸ºå¹³é¢ä¸Šçš„ä¸€ä¸ªå•è¿é€šåŒºåŸŸï¼ŒPå’ŒQåœ¨Dä¸Šè¿ç»­ä¸”æœ‰è¿ç»­çš„ä¸€é˜¶åå¯¼æ•°ï¼Œåˆ™å…¨å¾®åˆ†æ–¹ç¨‹æˆç«‹çš„å……è¦æ¡ä»¶æ˜¯<br>$$<br>\frac{\partial{P}}{\partial{y}}&#x3D;\frac{\partial{Q}}{\partial{x}}<br>$$</p></div><h3 id="æ±‚æ³•"><a href="#æ±‚æ³•" class="headerlink" title="æ±‚æ³•"></a>æ±‚æ³•</h3><ul><li>åç§¯åˆ†</li></ul><p>$$<br>du(x,y)&#x3D;P(x,y)dx+Q(x,y)dy<br>$$</p><p>å¦‚æœPå’ŒQä¸ç¡®å®šï¼Œå¯ä»¥é€šè¿‡å……è¦æ¡ä»¶ï¼Œç¡®å®šPå’ŒQã€‚<br>ç„¶åä¸¤è¾¹å¯¹xç§¯åˆ† ï¼Œå¯ä»¥å¾—åˆ°<br>$$<br>u(x,y) &#x3D; \int{Pdx} + C(y)<br>$$<br>å…¶ä¸­C(y)æ˜¯åœ¨uå¯¹xæ±‚åå¯¼çš„æ—¶å€™è¢«å½“åšäº†å¸¸æ•°ï¼Œè¿™ä¸ªæ—¶å€™ uå¯¹yæ±‚åå¯¼å°±å¯ä»¥å¾—åˆ° Qï¼Œå¯ä»¥å¾—å‡ºC(y)çš„è¡¨è¾¾å¼ï¼Œç„¶åä»£å…¥åˆ°ä¸Šé¢çš„uçš„è¡¨è¾¾å¼ï¼Œå³å¯å¾—åˆ°u(x,y)&#x3D;0 è¿™ä¸ªè§£</p><ul><li>æŠ˜çº¿æ³•</li></ul><p>$$<br>\because \int{du(x,y)}&#x3D;\int{P(x,y)dx+Q(x,y)dy}<br>$$<br>$$<br>\because \frac{\partial{P}}{\partial{y}}&#x3D;\frac{\partial{Q}}{\partial{x}}<br>$$<br>$$<br>\therefore ä¸è·¯å¾„æ— å…³ï¼Œä»(0,0)\rightarrow(x,0)\rightarrow(x,y)<br>$$<br>$$<br>\therefore \int_{(0,0)}^{(x,y)}{du(x,y)}&#x3D;\int{P(x,y)dx+Q(x,y)dy}<br>$$<br>$$<br>\int_{(0,0)}^{(x,y)}{du(x,y)}&#x3D;\int_{(0,0)}^{(x,0)}{P(x,y)dx}+{\int_{(x,0)}^{(x,y)}Q(x,y)dy}<br>$$</p><h2 id="æ¬§æ‹‰æ–¹ç¨‹"><a href="#æ¬§æ‹‰æ–¹ç¨‹" class="headerlink" title="æ¬§æ‹‰æ–¹ç¨‹"></a>æ¬§æ‹‰æ–¹ç¨‹</h2><p>$$<br>\frac{d^2y}{dx^2}+a_1x\frac{dy}{dx}+a_2y&#x3D;f(x)<br>$$<br>è¢«ç§°ä¸ºæ¬§æ‹‰æ–¹ç¨‹ã€‚</p><h3 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h3><p>è‹¥ x&gt;0 ï¼Œå¯ä»¤ $x&#x3D;e^t$åšå˜é‡ä»£æ¢ï¼Œæœ‰$t&#x3D;lnx$,$\frac{dt}{dx}&#x3D;\frac{1}{x}$,$\frac{dy}{dx}&#x3D;\frac{dy}{dt}\frac{dt}{dx}&#x3D;\frac{1}{x}\frac{dy}{dt}$<br>$\frac{d^2y}{dx^2}&#x3D;-\frac{1}{x^2}\frac{dy}{dt}+\frac{1}{x^2}\frac{d^2y}{dt^2}$<br>$$<br>\frac{d^2y}{dt^2}+(a_1-1)\frac{dy}{dt}+a_2y&#x3D;f(e^t)<br>$$<br>æ˜¯å¸¸ç³»æ•°å¾®åˆ†æ–¹ç¨‹çš„å½¢å¼ï¼Œè§£å¾—yå’Œtï¼Œç„¶åæ¢å…ƒå›æ¥å³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> è€ƒç ” </category>
          
          <category> æ•°å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°å­¦ </tag>
            
            <tag> å¾®åˆ†æ–¹ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‚£äº›å¹´æˆ‘ä½¿ç”¨Githubæ­å»ºä¸€ä¸ªHexoåšå®¢çš„äº‹</title>
      <link href="/posts/4a17b156.html"/>
      <url>/posts/4a17b156.html</url>
      
        <content type="html"><![CDATA[<mark class="hl-label orange">æ­¤æ•™ç¨‹æ­£åœ¨æ›´æ–°</mark>  <mark class="hl-label orange">æ­¤æ•™ç¨‹æ­£åœ¨æ›´æ–°</mark>  <mark class="hl-label orange">æ­¤æ•™ç¨‹æ­£åœ¨æ›´æ–°</mark> <hr><p>æ¬¢è¿æ¥åˆ°å…³äº <mark class="hl-label green">æ­å»ºåšå®¢</mark>  çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œè¿™é‡Œåˆæ­¥ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ <mark class="hl-label blue">Hexo</mark>  æ¥æ­å»ºåšå®¢ã€‚<br>å…³äºæ›´å¤šçš„èµ„è®¯ï¼Œè¯·è®¿é—® <a href="https://hexo.io/">Hexo</a> å’Œ <a href="https://butterfly.js.org/">Butterflyä¸»é¢˜</a> è·å–ã€‚</p><hr><h2 id="ä¸€ä¸ªç®€å•çš„å°è¯•"><a href="#ä¸€ä¸ªç®€å•çš„å°è¯•" class="headerlink" title="ä¸€ä¸ªç®€å•çš„å°è¯•"></a>ä¸€ä¸ªç®€å•çš„å°è¯•</h2><p>æ­¤æ•™ç¨‹é¢å‘æœ‰è¿‡ç®€å•äº†è§£ <mark class="hl-label green">JS</mark>  <mark class="hl-label green">YML</mark>  <mark class="hl-label green">GIT</mark>  <mark class="hl-label green">NODE</mark>  çš„äººç¾¤ã€‚<br>å¦‚æœä½ <mark class="hl-label red">ä¸æ¸…æ¥šä»¥ä¸ŠçŸ¥è¯†ï¼Œè¯·æå‰åœ¨Bç«™ç­‰ç›¸å…³ç½‘ç«™äº†è§£å¥½ï¼Œé¿å…åç»­æ“ä½œå‡ºé”™</mark> </p><blockquote><p>ç¯å¢ƒå‡†å¤‡ï¼š</p><ul><li>node</li><li>git</li></ul><mark class="hl-label red">ä»¥ä¸Šä¸ºå¿…éœ€</mark> <ul><li>VSCode</li><li>è™šæ‹Ÿä¸“ç”¨ç½‘ç»œ</li></ul></blockquote><h3 id="é¦–å…ˆéœ€è¦ä½¿ç”¨NPMå®‰è£…å¥½Hexoå‘½ä»¤è¡Œ"><a href="#é¦–å…ˆéœ€è¦ä½¿ç”¨NPMå®‰è£…å¥½Hexoå‘½ä»¤è¡Œ" class="headerlink" title="é¦–å…ˆéœ€è¦ä½¿ç”¨NPMå®‰è£…å¥½Hexoå‘½ä»¤è¡Œ"></a>é¦–å…ˆéœ€è¦ä½¿ç”¨NPMå®‰è£…å¥½Hexoå‘½ä»¤è¡Œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>æ›´å¤šèµ„è®¯: <a href="https://hexo.io/zh-cn/docs/#%E5%AE%89%E8%A3%85-Hexo">å®‰è£…Hexo</a></p><h3 id="å…ˆæ¥è¯•ç€åˆ›å»ºä¸€ç¯‡å¸–æ–‡"><a href="#å…ˆæ¥è¯•ç€åˆ›å»ºä¸€ç¯‡å¸–æ–‡" class="headerlink" title="å…ˆæ¥è¯•ç€åˆ›å»ºä¸€ç¯‡å¸–æ–‡"></a>å…ˆæ¥è¯•ç€åˆ›å»ºä¸€ç¯‡å¸–æ–‡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;æˆ‘çš„åšå®¢&quot;</span></span><br></pre></td></tr></table></figure><p>æ›´å¤šèµ„è®¯: <a href="https://hexo.io/docs/writing.html">å†™ä½œç›¸å…³</a></p><h3 id="å¯åŠ¨ä½ çš„æœåŠ¡å™¨"><a href="#å¯åŠ¨ä½ çš„æœåŠ¡å™¨" class="headerlink" title="å¯åŠ¨ä½ çš„æœåŠ¡å™¨"></a>å¯åŠ¨ä½ çš„æœåŠ¡å™¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œä½ å°±å¯ä»¥åœ¨ <mark class="hl-label green">æœ¬åœ°</mark>  çš„4000ç«¯å£æŸ¥çœ‹ä½ çš„åšå®¢äº†ã€‚</p><p>æ›´å¤šèµ„è®¯: <a href="https://hexo.io/docs/server.html">æœåŠ¡ç›¸å…³</a></p><h3 id="ç”Ÿæˆé™æ€ç½‘ç«™æ–‡ä»¶ï¼Œåšå¥½éƒ¨ç½²çš„å‡†å¤‡"><a href="#ç”Ÿæˆé™æ€ç½‘ç«™æ–‡ä»¶ï¼Œåšå¥½éƒ¨ç½²çš„å‡†å¤‡" class="headerlink" title="ç”Ÿæˆé™æ€ç½‘ç«™æ–‡ä»¶ï¼Œåšå¥½éƒ¨ç½²çš„å‡†å¤‡"></a>ç”Ÿæˆé™æ€ç½‘ç«™æ–‡ä»¶ï¼Œåšå¥½éƒ¨ç½²çš„å‡†å¤‡</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>æ›´å¤šèµ„è®¯: <a href="https://hexo.io/docs/generating.html">ç”Ÿæˆç›¸å…³</a></p><h3 id="æ¥å§ï¼Œéƒ¨ç½²ä½ çš„ç«™ç‚¹"><a href="#æ¥å§ï¼Œéƒ¨ç½²ä½ çš„ç«™ç‚¹" class="headerlink" title="æ¥å§ï¼Œéƒ¨ç½²ä½ çš„ç«™ç‚¹"></a>æ¥å§ï¼Œéƒ¨ç½²ä½ çš„ç«™ç‚¹</h3><p>é¦–å…ˆï¼Œéœ€è¦åœ¨ <mark class="hl-label red">_config.yml</mark>  ä¸­ <mark class="hl-label red">ä»¿ç…§</mark>  ä»¥ä¸‹å†…å®¹æ·»åŠ ã€ä¿®æ”¹ä¸ºï¼š</p><figure class="highlight yaml"><figcaption><span>_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">https://github.com/[username]/[username].github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><p>å…¶æ¬¡ï¼Œéœ€è¦æ‰“å¼€ä½ çš„Githubï¼Œåˆ›å»ºä¸€ä¸ªä¸ä½  <mark class="hl-label green">ç”¨æˆ·å</mark>  ç›¸åŒçš„ <mark class="hl-label green">å…¬å¼€ä»“åº“</mark>  â€“ <mark class="hl-label green">ç”¨æˆ·å.github.io</mark> ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š<br><img src="/posts/4a17b156/Github1.png" alt="Githubä»“åº“æ ·ä¾‹"></p><p>æ¥ç€åœ¨ <mark class="hl-label red">Gitç¯å¢ƒ</mark>  ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><figcaption><span>Git-bash</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">&quot;Gitä¸Šé…ç½®çš„é‚®ç®±åœ°å€&quot;</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç”Ÿæˆçš„å¯†é’¥åœ¨ <mark class="hl-label green">C:Usersä½ çš„ç”¨æˆ·å\.ssh</mark>  ä¸‹çš„ <mark class="hl-label green">idrsa.pub</mark> </p><p>è¿›å…¥ <a href="https://github.com/settings/profile">Githubè®¾ç½®</a> æ‰¾åˆ° <mark class="hl-label green">SSH and GPG keys</mark> ï¼Œç‚¹å‡» <mark class="hl-label green">New SSH key</mark> ï¼Œå°† <mark class="hl-label green">idrsa.pub</mark>  çš„å†…å®¹å¤åˆ¶ç²˜è´´è¿›å»å³å¯ã€‚</p><p>ç„¶å è¿›å…¥ <mark class="hl-label green">ä»“åº“</mark>  çš„è®¾ç½®ï¼Œæ‰¾åˆ° <mark class="hl-label green">Actions</mark>  </p><p>ç‚¹å‡»ä¸‹é¢çš„ <mark class="hl-label green">General</mark>  å°† <mark class="hl-label green">Actions permissions</mark>  é€‰æ‹© <mark class="hl-label green">Allow all actions and reusable workflows</mark>  å³å¯ã€‚<br><img src="/posts/4a17b156/Github2.png" alt="Githubä»“åº“è®¾ç½®"></p><p>æœ€åæœ€åï¼Œåªè¦åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥å®Œæˆåœ¨Githubä¸Šéƒ¨ç½²ä¸€ä¸ªç®€å•çš„Hexoåšå®¢ç½‘ç«™äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨æ­¤ä¹‹å‰æœ€å¥½é€šè¿‡ hexo clean å’Œ hexo generate æ¸…ç†å’Œé‡æ–°ç”Ÿæˆç¼“å­˜</span></span><br><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>æ›´å¤šèµ„è®¯: <a href="https://hexo.io/docs/one-command-deployment.html">éƒ¨ç½²ç›¸å…³</a></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>ç»è¿‡ä»¥ä¸Šçš„æ“ä½œï¼Œä½ å·²ç»å­¦ä¼šäº†å¦‚ä½•ä½¿ç”¨ <mark class="hl-label green">Git</mark>  åŠ  <mark class="hl-label green">Node</mark>  æ­å»ºå¹¶éƒ¨ç½²<a href="https://lnpbqc.github.io/">ä¸€ä¸ªåŸºäºHexoçš„ç½‘ç«™</a>äº†ï¼<br>å¯ä»¥å¼€å§‹ä½¿ç”¨åŸºäº <mark class="hl-label green">Markdown</mark>  çš„è¯­æ³•æ¥å†™åšå®¢ï¼Œå°†è‡ªå·±çš„æ„Ÿæƒ³ã€çŸ¥è¯†ç­‰åˆ†äº«ç»™ç½‘å‹äº†ã€‚</p><h2 id="é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨å’Œæœ¬ç«™ä¸€æ ·çš„Butterflyä¸»é¢˜"><a href="#é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨å’Œæœ¬ç«™ä¸€æ ·çš„Butterflyä¸»é¢˜" class="headerlink" title="é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨å’Œæœ¬ç«™ä¸€æ ·çš„Butterflyä¸»é¢˜"></a>é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨å’Œæœ¬ç«™ä¸€æ ·çš„Butterflyä¸»é¢˜</h2><p>ç­‰å¾…æ›´æ–°ä¸­â€¦</p><a class="btn-beautify block center green outline larger" href="/"   title="ç‚¹èµ"><i class="far fa-hand-point-right"></i><span>ç‚¹èµ</span></a>]]></content>
      
      
      <categories>
          
          <category> åšå®¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
